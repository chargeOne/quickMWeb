/* Zepto v1.1.4 - zepto event ajax form ie - zeptojs.com/license */

//     (c) 2010-2012 Jeremy Ashkenas, DocumentCloud Inc.
//     Backbone may be freely distributed under the MIT license.
//     For all details and documentation:
//     http://backbonejs.org

/**
 * @license RequireJS text 1.0.2 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/requirejs for details
 */

/*!
 * iScroll v4.2.5 ~ Copyright (c) 2012 Matteo Spinelli, http://cubiq.org
 * Released under MIT license, http://cubiq.org/license
 */

/*!
 * =====================================================
 * Mui v1.0.0 (https://github.com/dcloudio/mui)
 * =====================================================
 */

var Zepto=function(){function e(e){return null==e?String(e):V[$.call(e)]||"object"}function t(t){return"function"==e(t)}function n(e){return null!=e&&e==e.window}function r(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function i(t){return"object"==e(t)}function s(e){return i(e)&&!n(e)&&Object.getPrototypeOf(e)==Object.prototype}function o(e){return"number"==typeof e.length}function u(e){return A.call(e,function(e){return null!=e})}function a(e){return e.length>0?x.fn.concat.apply([],e):e}function f(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function l(e){return e in _?_[e]:_[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function c(e,t){return"number"!=typeof t||D[f(e)]?t:t+"px"}function h(e){var t,n;return M[e]||(t=O.createElement(e),O.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),M[e]=n),M[e]}function p(e){return"children"in e?L.call(e.children):x.map(e.childNodes,function(e){return 1==e.nodeType?e:void 0})}function d(e,t,n){for(S in t)n&&(s(t[S])||G(t[S]))?(s(t[S])&&!s(e[S])&&(e[S]={}),G(t[S])&&!G(e[S])&&(e[S]=[]),d(e[S],t[S],n)):t[S]!==E&&(e[S]=t[S])}function v(e,t){return null==t?x(e):x(e).filter(t)}function m(e,n,r,i){return t(n)?n.call(e,r,i):n}function g(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function y(e,t){var n=e.className,r=n&&n.baseVal!==E;return t===E?r?n.baseVal:n:void (r?n.baseVal=t:e.className=t)}function b(e){var t;try{return e?"true"==e||("false"==e?!1:"null"==e?null:/^0/.test(e)||isNaN(t=Number(e))?/^[\[\{]/.test(e)?x.parseJSON(e):e:t):e}catch(n){return e}}function w(e,t){t(e);for(var n=0,r=e.childNodes.length;r>n;n++)w(e.childNodes[n],t)}var E,S,x,T,N,C,k=[],L=k.slice,A=k.filter,O=window.document,M={},_={},D={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},P=/^\s*<(\w+|!)[^>]*>/,H=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,B=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,j=/^(?:body|html)$/i,F=/([A-Z])/g,I=["val","css","html","text","data","width","height","offset"],q=["after","prepend","before","append"],R=O.createElement("table"),U=O.createElement("tr"),z={tr:O.createElement("tbody"),tbody:R,thead:R,tfoot:R,td:U,th:U,"*":O.createElement("div")},W=/complete|loaded|interactive/,X=/^[\w-]*$/,V={},$=V.toString,J={},K=O.createElement("div"),Q={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},G=Array.isArray||function(e){return e instanceof Array};return J.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var r,i=e.parentNode,s=!i;return s&&(i=K).appendChild(e),r=~J.qsa(i,t).indexOf(e),s&&K.removeChild(e),r},N=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},C=function(e){return A.call(e,function(t,n){return e.indexOf(t)==n})},J.fragment=function(e,t,n){var r,i,o;return H.test(e)&&(r=x(O.createElement(RegExp.$1))),r||(e.replace&&(e=e.replace(B,"<$1></$2>")),t===E&&(t=P.test(e)&&RegExp.$1),t in z||(t="*"),o=z[t],o.innerHTML=""+e,r=x.each(L.call(o.childNodes),function(){o.removeChild(this)})),s(n)&&(i=x(r),x.each(n,function(e,t){I.indexOf(e)>-1?i[e](t):i.attr(e,t)})),r},J.Z=function(e,t){return e=e||[],e.__proto__=x.fn,e.selector=t||"",e},J.isZ=function(e){return e instanceof J.Z},J.init=function(e,n){var r;if(!e)return J.Z();if("string"==typeof e)if(e=e.trim(),"<"==e[0]&&P.test(e))r=J.fragment(e,RegExp.$1,n),e=null;else{if(n!==E)return x(n).find(e);r=J.qsa(O,e)}else{if(t(e))return x(O).ready(e);if(J.isZ(e))return e;if(G(e))r=u(e);else if(i(e))r=[e],e=null;else if(P.test(e))r=J.fragment(e.trim(),RegExp.$1,n),e=null;else{if(n!==E)return x(n).find(e);r=J.qsa(O,e)}}return J.Z(r,e)},x=function(e,t){return J.init(e,t)},x.extend=function(e){var t,n=L.call(arguments,1);return"boolean"==typeof e&&(t=e,e=n.shift()),n.forEach(function(n){d(e,n,t)}),e},J.qsa=function(e,t){var n,i="#"==t[0],s=!i&&"."==t[0],o=i||s?t.slice(1):t,u=X.test(o);return r(e)&&u&&i?(n=e.getElementById(o))?[n]:[]:1!==e.nodeType&&9!==e.nodeType?[]:L.call(u&&!i?s?e.getElementsByClassName(o):e.getElementsByTagName(t):e.querySelectorAll(t))},x.contains=O.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},x.type=e,x.isFunction=t,x.isWindow=n,x.isArray=G,x.isPlainObject=s,x.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},x.inArray=function(e,t,n){return k.indexOf.call(t,e,n)},x.camelCase=N,x.trim=function(e){return null==e?"":String.prototype.trim.call(e)},x.uuid=0,x.support={},x.expr={},x.map=function(e,t){var n,r,i,s=[];if(o(e))for(r=0;r<e.length;r++)n=t(e[r],r),null!=n&&s.push(n);else for(i in e)n=t(e[i],i),null!=n&&s.push(n);return a(s)},x.each=function(e,t){var n,r;if(o(e)){for(n=0;n<e.length;n++)if(t.call(e[n],n,e[n])===!1)return e}else for(r in e)if(t.call(e[r],r,e[r])===!1)return e;return e},x.grep=function(e,t){return A.call(e,t)},window.JSON&&(x.parseJSON=JSON.parse),x.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){V["[object "+t+"]"]=t.toLowerCase()}),x.fn={forEach:k.forEach,reduce:k.reduce,push:k.push,sort:k.sort,indexOf:k.indexOf,concat:k.concat,map:function(e){return x(x.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return x(L.apply(this,arguments))},ready:function(e){return W.test(O.readyState)&&O.body?e(x):O.addEventListener("DOMContentLoaded",function(){e(x)},!1),this},get:function(e){return e===E?L.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(e){return k.every.call(this,function(t,n){return e.call(t,n,t)!==!1}),this},filter:function(e){return t(e)?this.not(this.not(e)):x(A.call(this,function(t){return J.matches(t,e)}))},add:function(e,t){return x(C(this.concat(x(e,t))))},is:function(e){return this.length>0&&J.matches(this[0],e)},not:function(e){var n=[];if(t(e)&&e.call!==E)this.each(function(t){e.call(this,t)||n.push(this)});else{var r="string"==typeof e?this.filter(e):o(e)&&t(e.item)?L.call(e):x(e);this.forEach(function(e){r.indexOf(e)<0&&n.push(e)})}return x(n)},has:function(e){return this.filter(function(){return i(e)?x.contains(this,e):x(this).find(e).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!i(e)?e:x(e)},last:function(){var e=this[this.length-1];return e&&!i(e)?e:x(e)},find:function(e){var t,n=this;return t=e?"object"==typeof e?x(e).filter(function(){var e=this;return k.some.call(n,function(t){return x.contains(t,e)})}):1==this.length?x(J.qsa(this[0],e)):this.map(function(){return J.qsa(this,e)}):[]},closest:function(e,t){var n=this[0],i=!1;for("object"==typeof e&&(i=x(e));n&&!(i?i.indexOf(n)>=0:J.matches(n,e));)n=n!==t&&!r(n)&&n.parentNode;return x(n)},parents:function(e){for(var t=[],n=this;n.length>0;)n=x.map(n,function(e){return(e=e.parentNode)&&!r(e)&&t.indexOf(e)<0?(t.push(e),e):void 0});return v(t,e)},parent:function(e){return v(C(this.pluck("parentNode")),e)},children:function(e){return v(this.map(function(){return p(this)}),e)},contents:function(){return this.map(function(){return L.call(this.childNodes)})},siblings:function(e){return v(this.map(function(e,t){return A.call(p(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return x.map(this,function(t){return t[e]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=h(this.nodeName))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var n=t(e);if(this[0]&&!n)var r=x(e).get(0),i=r.parentNode||this.length>1;return this.each(function(t){x(this).wrapAll(n?e.call(this,t):i?r.cloneNode(!0):r)})},wrapAll:function(e){if(this[0]){x(this[0]).before(e=x(e));for(var t;(t=e.children()).length;)e=t.first();x(e).append(this)}return this},wrapInner:function(e){var n=t(e);return this.each(function(t){var r=x(this),i=r.contents(),s=n?e.call(this,t):e;i.length?i.wrapAll(s):r.append(s)})},unwrap:function(){return this.parent().each(function(){x(this).replaceWith(x(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=x(this);(e===E?"none"==t.css("display"):e)?t.show():t.hide()})},prev:function(e){return x(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return x(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each(function(t){var n=this.innerHTML;x(this).empty().append(m(this,e,t,n))}):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each(function(t){var n=m(this,e,t,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this[0].textContent:null},attr:function(e,t){var n;return"string"!=typeof e||1 in arguments?this.each(function(n){if(1===this.nodeType)if(i(e))for(S in e)g(this,S,e[S]);else g(this,e,m(this,t,n,this.getAttribute(e)))}):this.length&&1===this[0].nodeType?!(n=this[0].getAttribute(e))&&e in this[0]?this[0][e]:n:E},removeAttr:function(e){return this.each(function(){1===this.nodeType&&g(this,e)})},prop:function(e,t){return e=Q[e]||e,1 in arguments?this.each(function(n){this[e]=m(this,t,n,this[e])}):this[0]&&this[0][e]},data:function(e,t){var n="data-"+e.replace(F,"-$1").toLowerCase(),r=1 in arguments?this.attr(n,t):this.attr(n);return null!==r?b(r):E},val:function(e){return 0 in arguments?this.each(function(t){this.value=m(this,e,t,this.value)}):this[0]&&(this[0].multiple?x(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each(function(t){var n=x(this),r=m(this,e,t,n.offset()),i=n.offsetParent().offset(),s={top:r.top-i.top,left:r.left-i.left};"static"==n.css("position")&&(s.position="relative"),n.css(s)});if(!this.length)return null;var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(t,n){if(arguments.length<2){var r=this[0],i=getComputedStyle(r,"");if(!r)return;if("string"==typeof t)return r.style[N(t)]||i.getPropertyValue(t);if(G(t)){var s={};return x.each(G(t)?t:[t],function(e,t){s[t]=r.style[N(t)]||i.getPropertyValue(t)}),s}}var o="";if("string"==e(t))n||0===n?o=f(t)+":"+c(t,n):this.each(function(){this.style.removeProperty(f(t))});else for(S in t)t[S]||0===t[S]?o+=f(S)+":"+c(S,t[S])+";":this.each(function(){this.style.removeProperty(f(S))});return this.each(function(){this.style.cssText+=";"+o})},index:function(e){return e?this.indexOf(x(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return e?k.some.call(this,function(e){return this.test(y(e))},l(e)):!1},addClass:function(e){return e?this.each(function(t){T=[];var n=y(this),r=m(this,e,t,n);r.split(/\s+/g).forEach(function(e){x(this).hasClass(e)||T.push(e)},this),T.length&&y(this,n+(n?" ":"")+T.join(" "))}):this},removeClass:function(e){return this.each(function(t){return e===E?y(this,""):(T=y(this),m(this,e,t,T).split(/\s+/g).forEach(function(e){T=T.replace(l(e)," ")}),void y(this,T.trim()))})},toggleClass:function(e,t){return e?this.each(function(n){var r=x(this),i=m(this,e,n,y(this));i.split(/\s+/g).forEach(function(e){(t===E?!r.hasClass(e):t)?r.addClass(e):r.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===E?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===E?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),r=j.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(x(e).css("margin-top"))||0,n.left-=parseFloat(x(e).css("margin-left"))||0,r.top+=parseFloat(x(t[0]).css("border-top-width"))||0,r.left+=parseFloat(x(t[0]).css("border-left-width"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||O.body;e&&!j.test(e.nodeName)&&"static"==x(e).css("position");)e=e.offsetParent;return e})}},x.fn.detach=x.fn.remove,["width","height"].forEach(function(e){var t=e.replace(/./,function(e){return e[0].toUpperCase()});x.fn[e]=function(i){var s,o=this[0];return i===E?n(o)?o["inner"+t]:r(o)?o.documentElement["scroll"+t]:(s=this.offset())&&s[e]:this.each(function(t){o=x(this),o.css(e,m(this,i,t,o[e]()))})}}),q.forEach(function(t,n){var r=n%2;x.fn[t]=function(){var t,i,s=x.map(arguments,function(n){return t=e(n),"object"==t||"array"==t||null==n?n:J.fragment(n)}),o=this.length>1;return s.length<1?this:this.each(function(e,t){i=r?t:t.parentNode,t=0==n?t.nextSibling:1==n?t.firstChild:2==n?t:null;var u=x.contains(O.documentElement,i);s.forEach(function(e){if(o)e=e.cloneNode(!0);else if(!i)return x(e).remove();i.insertBefore(e,t),u&&w(e,function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src||window.eval.call(window,e.innerHTML)})})})},x.fn[r?t+"To":"insert"+(n?"Before":"After")]=function(e){return x(e)[t](this),this}}),J.Z.prototype=x.fn,J.uniq=C,J.deserializeValue=b,x.zepto=J,x}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),function(e){function t(e){return e._zid||(e._zid=h++)}function n(e,n,s,o){if(n=r(n),n.ns)var u=i(n.ns);return(m[t(e)]||[]).filter(function(e){return!(!e||n.e&&e.e!=n.e||n.ns&&!u.test(e.ns)||s&&t(e.fn)!==t(s)||o&&e.sel!=o)})}function r(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function i(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function s(e,t){return e.del&&!y&&e.e in b||!!t}function o(e){return w[e]||y&&b[e]||e}function u(n,i,u,a,l,h,p){var d=t(n),v=m[d]||(m[d]=[]);i.split(/\s/).forEach(function(t){if("ready"==t)return e(document).ready(u);var i=r(t);i.fn=u,i.sel=l,i.e in w&&(u=function(t){var n=t.relatedTarget;return!n||n!==this&&!e.contains(this,n)?i.fn.apply(this,arguments):void 0}),i.del=h;var d=h||u;i.proxy=function(e){if(e=f(e),!e.isImmediatePropagationStopped()){e.data=a;var t=d.apply(n,e._args==c?[e]:[e].concat(e._args));return t===!1&&(e.preventDefault(),e.stopPropagation()),t}},i.i=v.length,v.push(i),"addEventListener"in n&&n.addEventListener(o(i.e),i.proxy,s(i,p))})}function a(e,r,i,u,a){var f=t(e);(r||"").split(/\s/).forEach(function(t){n(e,t,i,u).forEach(function(t){delete m[f][t.i],"removeEventListener"in e&&e.removeEventListener(o(t.e),t.proxy,s(t,a))})})}function f(t,n){return(n||!t.isDefaultPrevented)&&(n||(n=t),e.each(T,function(e,r){var i=n[e];t[e]=function(){return this[r]=E,i&&i.apply(n,arguments)},t[r]=S}),(n.defaultPrevented!==c?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())&&(t.isDefaultPrevented=E)),t}function l(e){var t,n={originalEvent:e};for(t in e)x.test(t)||e[t]===c||(n[t]=e[t]);return f(n,e)}var c,h=1,p=Array.prototype.slice,d=e.isFunction,v=function(e){return"string"==typeof e},m={},g={},y="onfocusin"in window,b={focus:"focusin",blur:"focusout"},w={mouseenter:"mouseover",mouseleave:"mouseout"};g.click=g.mousedown=g.mouseup=g.mousemove="MouseEvents",e.event={add:u,remove:a},e.proxy=function(n,r){var i=2 in arguments&&p.call(arguments,2);if(d(n)){var s=function(){return n.apply(r,i?i.concat(p.call(arguments)):arguments)};return s._zid=t(n),s}if(v(r))return i?(i.unshift(n[r],n),e.proxy.apply(null,i)):e.proxy(n[r],n);throw new TypeError("expected function")},e.fn.bind=function(e,t,n){return this.on(e,t,n)},e.fn.unbind=function(e,t){return this.off(e,t)},e.fn.one=function(e,t,n,r){return this.on(e,t,n,r,1)};var E=function(){return!0},S=function(){return!1},x=/^([A-Z]|returnValue$|layer[XY]$)/,T={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(e,t,n){return this.on(t,e,n)},e.fn.undelegate=function(e,t,n){return this.off(t,e,n)},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(t,n,r,i,s){var o,f,h=this;return t&&!v(t)?(e.each(t,function(e,t){h.on(e,n,r,t,s)}),h):(v(n)||d(i)||i===!1||(i=r,r=n,n=c),(d(r)||r===!1)&&(i=r,r=c),i===!1&&(i=S),h.each(function(c,h){s&&(o=function(e){return a(h,e.type,i),i.apply(this,arguments)}),n&&(f=function(t){var r,s=e(t.target).closest(n,h).get(0);return s&&s!==h?(r=e.extend(l(t),{currentTarget:s,liveFired:h}),(o||i).apply(s,[r].concat(p.call(arguments,1)))):void 0}),u(h,t,i,r,n,f||o)}))},e.fn.off=function(t,n,r){var i=this;return t&&!v(t)?(e.each(t,function(e,t){i.off(e,n,t)}),i):(v(n)||d(r)||r===!1||(r=n,n=c),r===!1&&(r=S),i.each(function(){a(this,t,r,n)}))},e.fn.trigger=function(t,n){return t=v(t)||e.isPlainObject(t)?e.Event(t):f(t),t._args=n,this.each(function(){"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,n)})},e.fn.triggerHandler=function(t,r){var i,s;return this.each(function(o,u){i=l(v(t)?e.Event(t):t),i._args=r,i.target=u,e.each(n(u,t.type||t),function(e,t){return s=t.proxy(i),i.isImmediatePropagationStopped()?!1:void 0})}),s},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return e?this.bind(t,e):this.trigger(t)}}),["focus","blur"].forEach(function(t){e.fn[t]=function(e){return e?this.bind(t,e):this.each(function(){try{this[t]()}catch(e){}}),this}}),e.Event=function(e,t){v(e)||(t=e,e=t.type);var n=document.createEvent(g[e]||"Events"),r=!0;if(t)for(var i in t)"bubbles"==i?r=!!t[i]:n[i]=t[i];return n.initEvent(e,r,!0),f(n)}}(Zepto),function(t){function l(e,n,r){var i=t.Event(n);return t(e).trigger(i,r),!i.isDefaultPrevented()}function h(e,t,r,i){return e.global?l(t||n,r,i):void 0}function p(e){e.global&&0===t.active++&&h(e,null,"ajaxStart")}function d(e){e.global&&!--t.active&&h(e,null,"ajaxStop")}function m(e,t){var n=t.context;return t.beforeSend.call(n,e,t)===!1||h(t,n,"ajaxBeforeSend",[e,t])===!1?!1:void h(t,n,"ajaxSend",[e,t])}function g(e,t,n,r){var i=n.context,s="success";n.success.call(i,e,s,t),r&&r.resolveWith(i,[e,s,t]),h(n,i,"ajaxSuccess",[t,n,e]),y(s,t,n)}function v(e,t,n,r,i){var s=r.context;r.error.call(s,n,t,e),i&&i.rejectWith(s,[n,t,e]),h(r,s,"ajaxError",[n,r,e||t]),y(t,n,r)}function y(e,t,n){var r=n.context;n.complete.call(r,t,e),h(n,r,"ajaxComplete",[t,n]),d(n)}function x(){}function b(e){return e&&(e=e.split(";",2)[0]),e&&(e==f?"html":e==u?"json":s.test(e)?"script":a.test(e)&&"xml")||"text"}function w(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function E(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=w(e.url,e.data),e.data=void 0)}function j(e,n,r,i){return t.isFunction(n)&&(i=r,r=n,n=void 0),t.isFunction(r)||(i=r,r=void 0),{url:e,data:n,success:r,dataType:i}}function T(e,n,r,i){var s,o=t.isArray(n),u=t.isPlainObject(n);t.each(n,function(n,f){s=t.type(f),i&&(n=r?i:i+"["+(u||"object"==s||"array"==s?n:"")+"]"),!i&&o?e.add(f.name,f.value):"array"==s||!r&&"object"==s?T(e,f,r,n):e.add(n,f)})}var i,r,e=0,n=window.document,o=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,s=/^(?:text|application)\/javascript/i,a=/^(?:text|application)\/xml/i,u="application/json",f="text/html",c=/^\s*$/;t.active=0,t.ajaxJSONP=function(r,i){if("type"in r){var s,o,u=r.jsonpCallback,a=(t.isFunction(u)?u():u)||"jsonp"+ ++e,f=n.createElement("script"),l=window[a],c=function(e){t(f).triggerHandler("error",e||"abort")},h={abort:c};return i&&i.promise(h),t(f).on("load error",function(e,n){clearTimeout(o),t(f).off().remove(),"error"!=e.type&&s?g(s[0],h,r,i):v(null,n||"error",h,r,i),window[a]=l,s&&t.isFunction(l)&&l(s[0]),l=s=void 0}),m(h,r)===!1?(c("abort"),h):(window[a]=function(){s=arguments},f.src=r.url.replace(/\?(.+)=\?/,"?$1="+a),n.head.appendChild(f),r.timeout>0&&(o=setTimeout(function(){c("timeout")},r.timeout)),h)}return t.ajax(r)},t.ajaxSettings={type:"GET",beforeSend:x,success:x,error:x,complete:x,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:u,xml:"application/xml, text/xml",html:f,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(e){var n=t.extend({},e||{}),o=t.Deferred&&t.Deferred();for(i in t.ajaxSettings)void 0===n[i]&&(n[i]=t.ajaxSettings[i]);p(n),n.crossDomain||(n.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(n.url)&&RegExp.$2!=window.location.host),n.url||(n.url=window.location.toString()),E(n);var s=n.dataType,a=/\?.+=\?/.test(n.url);if(a&&(s="jsonp"),n.cache!==!1&&(e&&e.cache===!0||"script"!=s&&"jsonp"!=s)||(n.url=w(n.url,"_="+Date.now())),"jsonp"==s)return a||(n.url=w(n.url,n.jsonp?n.jsonp+"=?":n.jsonp===!1?"":"callback=?")),t.ajaxJSONP(n,o);var j,u=n.accepts[s],f={},l=function(e,t){f[e.toLowerCase()]=[e,t]},h=/^([\w-]+:)\/\//.test(n.url)?RegExp.$1:window.location.protocol,d=n.xhr(),y=d.setRequestHeader;if(o&&o.promise(d),n.crossDomain||l("X-Requested-With","XMLHttpRequest"),l("Accept",u||"*/*"),(u=n.mimeType||u)&&(u.indexOf(",")>-1&&(u=u.split(",",2)[0]),d.overrideMimeType&&d.overrideMimeType(u)),(n.contentType||n.contentType!==!1&&n.data&&"GET"!=n.type.toUpperCase())&&l("Content-Type",n.contentType||"application/x-www-form-urlencoded"),n.headers)for(r in n.headers)l(r,n.headers[r]);if(d.setRequestHeader=l,d.onreadystatechange=function(){if(4==d.readyState){d.onreadystatechange=x,clearTimeout(j);var e,i=!1;if(d.status>=200&&d.status<300||304==d.status||0==d.status&&"file:"==h){s=s||b(n.mimeType||d.getResponseHeader("content-type")),e=d.responseText;try{"script"==s?(1,eval)(e):"xml"==s?e=d.responseXML:"json"==s&&(e=c.test(e)?null:t.parseJSON(e))}catch(r){i=r}i?v(i,"parsererror",d,n,o):g(e,d,n,o)}else v(d.statusText||null,d.status?"error":"abort",d,n,o)}},m(d,n)===!1)return d.abort(),v(null,"abort",d,n,o),d;if(n.xhrFields)for(r in n.xhrFields)d[r]=n.xhrFields[r];var S="async"in n?n.async:!0;d.open(n.type,n.url,S,n.username,n.password);for(r in f)y.apply(d,f[r]);return n.timeout>0&&(j=setTimeout(function(){d.onreadystatechange=x,d.abort(),v(null,"timeout",d,n,o)},n.timeout)),d.send(n.data?n.data:null),d},t.get=function(){return t.ajax(j.apply(null,arguments))},t.post=function(){var e=j.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=j.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,n,r){if(!this.length)return this;var i,s=this,u=e.split(/\s/),a=j(e,n,r),f=a.success;return u.length>1&&(a.url=u[0],i=u[1]),a.success=function(e){s.html(i?t("<div>").html(e.replace(o,"")).find(i):e),f&&f.apply(s,arguments)},t.ajax(a),this};var S=encodeURIComponent;t.param=function(e,t){var n=[];return n.add=function(e,t){this.push(S(e)+"="+S(t))},T(n,e,t),n.join("&").replace(/%20/g,"+")}}(Zepto),function(e){e.fn.serializeArray=function(){var n,r=[];return e([].slice.call(this.get(0).elements)).each(function(){n=e(this);var i=n.attr("type");"fieldset"!=this.nodeName.toLowerCase()&&!this.disabled&&"submit"!=i&&"reset"!=i&&"button"!=i&&("radio"!=i&&"checkbox"!=i||this.checked)&&r.push({name:n.attr("name"),value:n.val()})}),r},e.fn.serialize=function(){var e=[];return this.serializeArray().forEach(function(n){e.push(encodeURIComponent(n.name)+"="+encodeURIComponent(n.value))}),e.join("&")},e.fn.submit=function(n){if(n)this.bind("submit",n);else if(this.length){var r=e.Event("submit");this.eq(0).trigger(r),r.isDefaultPrevented()||this.get(0).submit()}return this}}(Zepto),function(e){"__proto__"in{}||e.extend(e.zepto,{Z:function(t,n){return t=t||[],e.extend(t,e.fn),t.selector=n||"",t.__Z=!0,t},isZ:function(t){return"array"===e.type(t)&&"__Z"in t}});try{getComputedStyle(void 0)}catch(t){var n=getComputedStyle;window.getComputedStyle=function(e){try{return n(e)}catch(t){return null}}}}(Zepto),define("zepto",function(e){return function(){var t,n;return t||e.$}}(this)),function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.push,u=r.slice,a=r.concat,f=i.toString,l=i.hasOwnProperty,c=r.forEach,h=r.map,p=r.reduce,d=r.reduceRight,v=r.filter,m=r.every,g=r.some,y=r.indexOf,b=r.lastIndexOf,w=Array.isArray,E=Object.keys,S=s.bind,x=function(e){return e instanceof x?e:this instanceof x?(this._wrapped=e,void 0):new x(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):e._=x,x.VERSION="1.4.4";var T=x.each=x.forEach=function(e,t,r){if(null!=e)if(c&&e.forEach===c)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;s>i;i++)if(t.call(r,e[i],i,e)===n)return}else for(var o in e)if(x.has(e,o)&&t.call(r,e[o],o,e)===n)return};x.map=x.collect=function(e,t,n){var r=[];return null==e?r:h&&e.map===h?e.map(t,n):(T(e,function(e,i,s){r[r.length]=t.call(n,e,i,s)}),r)};var N="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),p&&e.reduce===p)return r&&(t=x.bind(t,r)),i?e.reduce(t,n):e.reduce(t);if(T(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)}),!i)throw new TypeError(N);return n},x.reduceRight=x.foldr=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),d&&e.reduceRight===d)return r&&(t=x.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=x.keys(e);s=o.length}if(T(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)}),!i)throw new TypeError(N);return n},x.find=x.detect=function(e,t,n){var r;return C(e,function(e,i,s){return t.call(n,e,i,s)?(r=e,!0):void 0}),r},x.filter=x.select=function(e,t,n){var r=[];return null==e?r:v&&e.filter===v?e.filter(t,n):(T(e,function(e,i,s){t.call(n,e,i,s)&&(r[r.length]=e)}),r)},x.reject=function(e,t,n){return x.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},x.every=x.all=function(e,t,r){t||(t=x.identity);var i=!0;return null==e?i:m&&e.every===m?e.every(t,r):(T(e,function(e,s,o){return(i=i&&t.call(r,e,s,o))?void 0:n}),!!i)};var C=x.some=x.any=function(e,t,r){t||(t=x.identity);var i=!1;return null==e?i:g&&e.some===g?e.some(t,r):(T(e,function(e,s,o){return i||(i=t.call(r,e,s,o))?n:void 0}),!!i)};x.contains=x.include=function(e,t){return null==e?!1:y&&e.indexOf===y?e.indexOf(t)!=-1:C(e,function(e){return e===t})},x.invoke=function(e,t){var n=u.call(arguments,2),r=x.isFunction(t);return x.map(e,function(e){return(r?t:e[t]).apply(e,n)})},x.pluck=function(e,t){return x.map(e,function(e){return e[t]})},x.where=function(e,t,n){return x.isEmpty(t)?n?null:[]:x[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},x.findWhere=function(e,t){return x.where(e,t,!0)},x.max=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.max.apply(Math,e);if(!t&&x.isEmpty(e))return-1/0;var r={computed:-1/0,value:-1/0};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o>=r.computed&&(r={value:e,computed:o})}),r.value},x.min=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.min.apply(Math,e);if(!t&&x.isEmpty(e))return 1/0;var r={computed:1/0,value:1/0};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;r.computed>o&&(r={value:e,computed:o})}),r.value},x.shuffle=function(e){var t,n=0,r=[];return T(e,function(e){t=x.random(n++),r[n-1]=r[t],r[t]=e}),r};var k=function(e){return x.isFunction(e)?e:function(t){return t[e]}};x.sortBy=function(e,t,n){var r=k(t);return x.pluck(x.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(r>n||r===void 0)return-1}return e.index<t.index?-1:1}),"value")};var L=function(e,t,n,r){var i={},s=k(t||x.identity);return T(e,function(t,o){var u=s.call(n,t,o,e);r(i,u,t)}),i};x.groupBy=function(e,t,n){return L(e,t,n,function(e,t,n){(x.has(e,t)?e[t]:e[t]=[]).push(n)})},x.countBy=function(e,t,n){return L(e,t,n,function(e,t){x.has(e,t)||(e[t]=0),e[t]++})},x.sortedIndex=function(e,t,n,r){n=null==n?x.identity:k(n);for(var i=n.call(r,t),s=0,o=e.length;o>s;){var u=s+o>>>1;i>n.call(r,e[u])?s=u+1:o=u}return s},x.toArray=function(e){return e?x.isArray(e)?u.call(e):e.length===+e.length?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return null==e?0:e.length===+e.length?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:u.call(e,0,t)},x.initial=function(e,t,n){return u.call(e,0,e.length-(null==t||n?1:t))},x.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},x.rest=x.tail=x.drop=function(e,t,n){return u.call(e,null==t||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var A=function(e,t,n){return T(e,function(e){x.isArray(e)?t?o.apply(n,e):A(e,t,n):n.push(e)}),n};x.flatten=function(e,t){return A(e,t,[])},x.without=function(e){return x.difference(e,u.call(arguments,1))},x.uniq=x.unique=function(e,t,n,r){x.isFunction(t)&&(r=n,n=t,t=!1);var i=n?x.map(e,n,r):e,s=[],o=[];return T(i,function(n,r){(t?r&&o[o.length-1]===n:x.contains(o,n))||(o.push(n),s.push(e[r]))}),s},x.union=function(){return x.uniq(a.apply(r,arguments))},x.intersection=function(e){var t=u.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.indexOf(t,e)>=0})})},x.difference=function(e){var t=a.apply(r,u.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){for(var e=u.call(arguments),t=x.max(x.pluck(e,"length")),n=Array(t),r=0;t>r;r++)n[r]=x.pluck(e,""+r);return n},x.object=function(e,t){if(null==e)return{};for(var n={},r=0,i=e.length;i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},x.indexOf=function(e,t,n){if(null==e)return-1;var r=0,i=e.length;if(n){if("number"!=typeof n)return r=x.sortedIndex(e,t),e[r]===t?r:-1;r=0>n?Math.max(0,i+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;i>r;r++)if(e[r]===t)return r;return-1},x.lastIndexOf=function(e,t,n){if(null==e)return-1;var r=null!=n;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var i=r?n:e.length;i--;)if(e[i]===t)return i;return-1},x.range=function(e,t,n){1>=arguments.length&&(t=e||0,e=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=Array(r);r>i;)s[i++]=e,e+=n;return s},x.bind=function(e,t){if(e.bind===S&&S)return S.apply(e,u.call(arguments,1));var n=u.call(arguments,2);return function(){return e.apply(t,n.concat(u.call(arguments)))}},x.partial=function(e){var t=u.call(arguments,1);return function(){return e.apply(this,t.concat(u.call(arguments)))}},x.bindAll=function(e){var t=u.call(arguments,1);return 0===t.length&&(t=x.functions(e)),T(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var n={};return t||(t=x.identity),function(){var r=t.apply(this,arguments);return x.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},x.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(u.call(arguments,1)))},x.throttle=function(e,t){var n,r,i,s,o=0,u=function(){o=new Date,i=null,s=e.apply(n,r)};return function(){var a=new Date,f=t-(a-o);return n=this,r=arguments,0>=f?(clearTimeout(i),i=null,o=a,s=e.apply(n,r)):i||(i=setTimeout(u,f)),s}},x.debounce=function(e,t,n){var r,i;return function(){var s=this,o=arguments,u=function(){r=null,n||(i=e.apply(s,o))},a=n&&!r;return clearTimeout(r),r=setTimeout(u,t),a&&(i=e.apply(s,o)),i}},x.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},x.wrap=function(e,t){return function(){var n=[e];return o.apply(n,arguments),t.apply(this,n)}},x.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},x.after=function(e,t){return 0>=e?t():function(){return 1>--e?t.apply(this,arguments):void 0}},x.keys=E||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)x.has(e,n)&&(t[t.length]=n);return t},x.values=function(e){var t=[];for(var n in e)x.has(e,n)&&t.push(e[n]);return t},x.pairs=function(e){var t=[];for(var n in e)x.has(e,n)&&t.push([n,e[n]]);return t},x.invert=function(e){var t={};for(var n in e)x.has(e,n)&&(t[e[n]]=n);return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},x.pick=function(e){var t={},n=a.apply(r,u.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},x.omit=function(e){var t={},n=a.apply(r,u.call(arguments,1));for(var i in e)x.contains(n,i)||(t[i]=e[i]);return t},x.defaults=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)null==e[n]&&(e[n]=t[n])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e};var O=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var i=f.call(e);if(i!=f.call(t))return!1;switch(i){case"[object String]":return e==t+"";case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var s=n.length;s--;)if(n[s]==e)return r[s]==t;n.push(e),r.push(t);var o=0,u=!0;if("[object Array]"==i){if(o=e.length,u=o==t.length)for(;o--&&(u=O(e[o],t[o],n,r)););}else{var a=e.constructor,l=t.constructor;if(a!==l&&!(x.isFunction(a)&&a instanceof a&&x.isFunction(l)&&l instanceof l))return!1;for(var c in e)if(x.has(e,c)&&(o++,!(u=x.has(t,c)&&O(e[c],t[c],n,r))))break;if(u){for(c in t)if(x.has(t,c)&&!(o--))break;u=!o}}return n.pop(),r.pop(),u};x.isEqual=function(e,t){return O(e,t,[],[])},x.isEmpty=function(e){if(null==e)return!0;if(x.isArray(e)||x.isString(e))return 0===e.length;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!!e&&1===e.nodeType},x.isArray=w||function(e){return"[object Array]"==f.call(e)},x.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return f.call(t)=="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return!!e&&!!x.has(e,"callee")}),"function"!=typeof /./&&(x.isFunction=function(e){return"function"==typeof e}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!=+e},x.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==f.call(e)},x.isNull=function(e){return null===e},x.isUndefined=function(e){return e===void 0},x.has=function(e,t){return l.call(e,t)},x.noConflict=function(){return e._=t,this},x.identity=function(e){return e},x.times=function(e,t,n){for(var r=Array(e),i=0;e>i;i++)r[i]=t.call(n,i);return r},x.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var M={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};M.unescape=x.invert(M.escape);var _={escape:RegExp("["+x.keys(M.escape).join("")+"]","g"),unescape:RegExp("("+x.keys(M.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(e){x[e]=function(t){return null==t?"":(""+t).replace(_[e],function(t){return M[e][t]})}}),x.result=function(e,t){if(null==e)return null;var n=e[t];return x.isFunction(n)?n.call(e):n},x.mixin=function(e){T(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),j.call(this,n.apply(x,e))}})};var D=0;x.uniqueId=function(e){var t=++D+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,n){var r;n=x.defaults({},n,x.templateSettings);var i=RegExp([(n.escape||P).source,(n.interpolate||P).source,(n.evaluate||P).source].join("|")+"|$","g"),s=0,o="__p+='";e.replace(i,function(t,n,r,i,u){return o+=e.slice(s,u).replace(B,function(e){return"\\"+H[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),s=u+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=Function(n.variable||"obj","_",o)}catch(u){throw u.source=o,u}if(t)return r(t,x);var a=function(e){return r.call(this,e,x)};return a.source="function("+(n.variable||"obj")+"){\n"+o+"}",a},x.chain=function(e){return x(e).chain()};var j=function(e){return this._chain?x(e).chain():e};x.mixin(x),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],j.call(this,n)}}),T(["concat","join","slice"],function(e){var t=r[e];x.prototype[e]=function(){return j.call(this,t.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),define("underscore",function(e){return function(){var t,n;return t||e._}}(this)),function(){var e=this,t=e.Backbone,n=[],r=n.push,i=n.slice,s=n.splice,o;typeof exports!="undefined"?o=exports:o=e.Backbone={},o.VERSION="0.9.9";var u=e._;!u&&typeof require!="undefined"&&(u=require("underscore")),o.$=e.jQuery||e.Zepto||e.ender,o.noConflict=function(){return e.Backbone=t,this},o.emulateHTTP=!1,o.emulateJSON=!1;var a=/\s+/,f=function(e,t,n,r){if(!n)return!0;if(typeof n=="object")for(var i in n)e[t].apply(e,[i,n[i]].concat(r));else{if(!a.test(n))return!0;var s=n.split(a);for(var o=0,u=s.length;o<u;o++)e[t].apply(e,[s[o]].concat(r))}},l=function(e,t,n){var r,i=-1,s=t.length;switch(n.length){case 0:while(++i<s)(r=t[i]).callback.call(r.ctx);return;case 1:while(++i<s)(r=t[i]).callback.call(r.ctx,n[0]);return;case 2:while(++i<s)(r=t[i]).callback.call(r.ctx,n[0],n[1]);return;case 3:while(++i<s)(r=t[i]).callback.call(r.ctx,n[0],n[1],n[2]);return;default:while(++i<s)(r=t[i]).callback.apply(r.ctx,n)}},c=o.Events={on:function(e,t,n){if(!f(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var r=this._events[e]||(this._events[e]=[]);return r.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,n){if(!f(this,"once",e,[t,n])||!t)return this;var r=this,i=u.once(function(){r.off(e,i),t.apply(this,arguments)});return i._callback=t,this.on(e,i,n),this},off:function(e,t,n){var r,i,s,o,a,l,c,h;if(!this._events||!f(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;o=e?[e]:u.keys(this._events);for(a=0,l=o.length;a<l;a++){e=o[a];if(r=this._events[e]){s=[];if(t||n)for(c=0,h=r.length;c<h;c++)i=r[c],(t&&t!==(i.callback._callback||i.callback)||n&&n!==i.context)&&s.push(i);this._events[e]=s}}return this},trigger:function(e){if(!this._events)return this;var t=i.call(arguments,1);if(!f(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&l(this,n,t),r&&l(this,r,arguments),this},listenTo:function(e,t,n){var r=this._listeners||(this._listeners={}),i=e._listenerId||(e._listenerId=u.uniqueId("l"));return r[i]=e,e.on(t,n||this,this),this},stopListening:function(e,t,n){var r=this._listeners;if(!r)return;if(e)e.off(t,n,this),!t&&!n&&delete r[e._listenerId];else{for(var i in r)r[i].off(null,null,this);this._listeners={}}return this}};c.bind=c.on,c.unbind=c.off,u.extend(o,c);var h=o.Model=function(e,t){var n,r=e||{};this.cid=u.uniqueId("c"),this.changed={},this.attributes={},this._changes=[],t&&t.collection&&(this.collection=t.collection),t&&t.parse&&(r=this.parse(r)),(n=u.result(this,"defaults"))&&u.defaults(r,n),this.set(r,{silent:!0}),this._currentAttributes=u.clone(this.attributes),this._previousAttributes=u.clone(this.attributes),this.initialize.apply(this,arguments)};u.extend(h.prototype,c,{changed:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return u.clone(this.attributes)},sync:function(){return o.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return u.escape(this.get(e))},has:function(e){return this.get(e)!=null},set:function(e,t,n){var r,i;if(e==null)return this;u.isObject(e)?(i=e,n=t):(i={})[e]=t;var s=n&&n.silent,o=n&&n.unset;if(!this._validate(i,n))return!1;this.idAttribute in i&&(this.id=i[this.idAttribute]);var a=this.attributes;for(r in i)t=i[r],o?delete a[r]:a[r]=t,this._changes.push(r,t);return this._hasComputed=!1,s||this.change(n),this},unset:function(e,t){return this.set(e,void 0,u.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,u.extend({},e,{unset:!0}))},fetch:function(e){e=e?u.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=this,n=e.success;return e.success=function(r,i,s){if(!t.set(t.parse(r),e))return!1;n&&n(t,r,e)},this.sync("read",this,e)},save:function(e,t,n){var r,i,s;e==null||u.isObject(e)?(r=e,n=t):e!=null&&((r={})[e]=t),n=n?u.clone(n):{};if(n.wait){if(r&&!this._validate(r,n))return!1;i=u.clone(this.attributes)}var o=u.extend({},n,{silent:!0});if(r&&!this.set(r,n.wait?o:n))return!1;if(!r&&!this._validate(null,n))return!1;var a=this,f=n.success;n.success=function(e,t,i){s=!0;var o=a.parse(e);n.wait&&(o=u.extend(r||{},o));if(!a.set(o,n))return!1;f&&f(a,e,n)};var l=this.isNew()?"create":n.patch?"patch":"update";l=="patch"&&(n.attrs=r);var c=this.sync(l,this,n);return!s&&n.wait&&(this.clear(o),this.set(i,o)),c},destroy:function(e){e=e?u.clone(e):{};var t=this,n=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};e.success=function(i){(e.wait||t.isNew())&&r(),n&&n(t,i,e)};if(this.isNew())return e.success(),!1;var i=this.sync("delete",this,e);return e.wait||r(),i},url:function(){var e=u.result(this,"urlRoot")||u.result(this.collection,"url")||M();return this.isNew()?e:e+(e.charAt(e.length-1)==="/"?"":"/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},change:function(e){var t=this._changing;this._changing=!0;var n=this._computeChanges(!0);this._pending=!!n.length;for(var r=n.length-2;r>=0;r-=2)this.trigger("change:"+n[r],this,n[r+1],e);if(t)return this;while(this._pending)this._pending=!1,this.trigger("change",this,e),this._previousAttributes=u.clone(this.attributes);return this._changing=!1,this},hasChanged:function(e){return this._hasComputed||this._computeChanges(),e==null?!u.isEmpty(this.changed):u.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?u.clone(this.changed):!1;var t,n=!1,r=this._previousAttributes;for(var i in e){if(u.isEqual(r[i],t=e[i]))continue;(n||(n={}))[i]=t}return n},_computeChanges:function(e){this.changed={};var t={},n=[],r=this._currentAttributes,i=this._changes;for(var s=i.length-2;s>=0;s-=2){var o=i[s],u=i[s+1];if(t[o])continue;t[o]=!0;if(r[o]!==u){this.changed[o]=u;if(!e)continue;n.push(o,u),r[o]=u}}return e&&(this._changes=[]),this._hasComputed=!0,n},previous:function(e){return e==null||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return u.clone(this._previousAttributes)},_validate:function(e,t){if(!this.validate)return!0;e=u.extend({},this.attributes,e);var n=this.validate(e,t);return n?(t&&t.error&&t.error(this,n,t),this.trigger("error",this,n,t),!1):!0}});var p=o.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator!==void 0&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,u.extend({silent:!0},t))};u.extend(p.prototype,c,{model:h,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return o.sync.apply(this,arguments)},add:function(e,t){var n,i,o,a,f,l,c=t&&t.at,h=(t&&t.sort)==null?!0:t.sort;e=u.isArray(e)?e.slice():[e];for(n=e.length-1;n>=0;n--){if(!(a=this._prepareModel(e[n],t))){this.trigger("error",this,e[n],t),e.splice(n,1);continue}e[n]=a,f=a.id!=null&&this._byId[a.id];if(f||this._byCid[a.cid]){t&&t.merge&&f&&(f.set(a.attributes,t),l=h),e.splice(n,1);continue}a.on("all",this._onModelEvent,this),this._byCid[a.cid]=a,a.id!=null&&(this._byId[a.id]=a)}e.length&&(l=h),this.length+=e.length,i=[c!=null?c:this.models.length,0],r.apply(i,e),s.apply(this.models,i),l&&this.comparator&&c==null&&this.sort({silent:!0});if(t&&t.silent)return this;while(a=e.shift())a.trigger("add",a,this,t);return this},remove:function(e,t){var n,r,i,s;t||(t={}),e=u.isArray(e)?e.slice():[e];for(n=0,r=e.length;n<r;n++){s=this.get(e[n]);if(!s)continue;delete this._byId[s.id],delete this._byCid[s.cid],i=this.indexOf(s),this.models.splice(i,1),this.length--,t.silent||(t.index=i,s.trigger("remove",s,this,t)),this._removeReference(s)}return this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,u.extend({at:this.length},t)),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,u.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(e,t){return this.models.slice(e,t)},get:function(e){return e==null?void 0:this._byId[e.id!=null?e.id:e]||this._byCid[e.cid||e]},at:function(e){return this.models[e]},where:function(e){return u.isEmpty(e)?[]:this.filter(function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return u.isString(this.comparator)||this.comparator.length===1?this.models=this.sortBy(this.comparator,this):this.models.sort(u.bind(this.comparator,this)),(!e||!e.silent)&&this.trigger("sort",this,e),this},pluck:function(e){return u.invoke(this.models,"get",e)},update:function(e,t){var n,r,i,s,o=[],a=[],f={},l=this.model.prototype.idAttribute;t=u.extend({add:!0,merge:!0,remove:!0},t),t.parse&&(e=this.parse(e)),u.isArray(e)||(e=e?[e]:[]);if(t.add&&!t.remove)return this.add(e,t);for(r=0,i=e.length;r<i;r++)n=e[r],s=this.get(n.id||n.cid||n[l]),t.remove&&s&&(f[s.cid]=!0),(t.add&&!s||t.merge&&s)&&o.push(n);if(t.remove)for(r=0,i=this.models.length;r<i;r++)n=this.models[r],f[n.cid]||a.push(n);return a.length&&this.remove(a,t),o.length&&this.add(o,t),this},reset:function(e,t){t||(t={}),t.parse&&(e=this.parse(e));for(var n=0,r=this.models.length;n<r;n++)this._removeReference(this.models[n]);return t.previousModels=this.models,this._reset(),e&&this.add(e,u.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},fetch:function(e){e=e?u.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=this,n=e.success;return e.success=function(r,i,s){var o=e.update?"update":"reset";t[o](r,e),n&&n(t,r,e)},this.sync("read",this,e)},create:function(e,t){var n=this;t=t?u.clone(t):{},e=this._prepareModel(e,t);if(!e)return!1;t.wait||n.add(e,t);var r=t.success;return t.success=function(e,t,i){i.wait&&n.add(e,i),r&&r(e,t,i)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},chain:function(){return u(this.models).chain()},_reset:function(){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(e,t){if(e instanceof h)return e.collection||(e.collection=this),e;t||(t={}),t.collection=this;var n=new this.model(e,t);return n._validate(e,t)?n:!1},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if((e==="add"||e==="remove")&&n!==this)return;e==="destroy"&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],t.id!=null&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments)}});var d=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortedIndex","toArray","size","first","head","take","initial","rest","tail","last","without","indexOf","shuffle","lastIndexOf","isEmpty"];u.each(d,function(e){p.prototype[e]=function(){var t=i.call(arguments);return t.unshift(this.models),u[e].apply(u,t)}});var v=["groupBy","countBy","sortBy"];u.each(v,function(e){p.prototype[e]=function(t,n){var r=u.isFunction(t)?t:function(e){return e.get(t)};return u[e](this.models,r,n)}});var m=o.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},g=/\((.*?)\)/g,y=/:\w+/g,b=/\*\w+/g,w=/[\-{}\[\]+?.,\\\^$|#\s]/g;u.extend(m.prototype,c,{initialize:function(){},route:function(e,t,n){return u.isRegExp(e)||(e=this._routeToRegExp(e)),n||(n=this[t]),o.history.route(e,u.bind(function(r){var i=this._extractParameters(e,r);n&&n.apply(this,i),this.trigger.apply(this,["route:"+t].concat(i)),o.history.trigger("route",this,t,i)},this)),this},navigate:function(e,t){return o.history.navigate(e,t),this},_bindRoutes:function(){if(!this.routes)return;var e,t=u.keys(this.routes);while((e=t.pop())!=null)this.route(e,this.routes[e])},_routeToRegExp:function(e){return e=e.replace(w,"\\$&").replace(g,"(?:$1)?").replace(y,"([^/]+)").replace(b,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){return e.exec(t).slice(1)}});var E=o.History=function(){this.handlers=[],u.bindAll(this,"checkUrl"),typeof window!="undefined"&&(this.location=window.location,this.history=window.history)},S=/^[#\/]|\s+$/g,x=/^\/+|\/+$/g,T=/msie [\w.]+/,N=/\/$/;E.started=!1,u.extend(E.prototype,c,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(e==null)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var n=this.root.replace(N,"");e.indexOf(n)||(e=e.substr(n.length))}else e=this.getHash();return e.replace(S,"")},start:function(e){if(E.started)throw new Error("Backbone.history has already been started");E.started=!0,this.options=u.extend({},{root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var t=this.getFragment(),n=document.documentMode,r=T.exec(navigator.userAgent.toLowerCase())&&(!n||n<=7);this.root=("/"+this.root+"/").replace(x,"/"),r&&this._wantsHashChange&&(this.iframe=o.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(t)),this._hasPushState?o.$(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?o.$(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t;var i=this.location,s=i.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!s)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._wantsPushState&&this._hasPushState&&s&&i.hash&&(this.fragment=this.getHash().replace(S,""),this.history.replaceState({},document.title,this.root+this.fragment+i.search));if(!this.options.silent)return this.loadUrl()},stop:function(){o.$(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),E.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe)));if(t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(e){var t=this.fragment=this.getFragment(e),n=u.any(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0});return n},navigate:function(e,t){if(!E.started)return!1;if(!t||t===!0)t={trigger:t};e=this.getFragment(e||"");if(this.fragment===e)return;this.fragment=e;var n=this.root+e;if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}t.trigger&&this.loadUrl(e)},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),o.history=new E;var C=o.View=function(e){this.cid=u.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},k=/^(\S+)\s*(.*)$/,L=["model","collection","el","id","attributes","className","tagName","events"];u.extend(C.prototype,c,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},make:function(e,t,n){var r=document.createElement(e);return t&&o.$(r).attr(t),n!=null&&o.$(r).html(n),r},setElement:function(e,t){return this.$el&&this.undelegateEvents(),this.$el=e instanceof o.$?e:o.$(e),this.el=this.$el[0],t!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=u.result(this,"events")))return;this.undelegateEvents();for(var t in e){var n=e[t];u.isFunction(n)||(n=this[e[t]]);if(!n)throw new Error('Method "'+e[t]+'" does not exist');var r=t.match(k),i=r[1],s=r[2];n=u.bind(n,this),i+=".delegateEvents"+this.cid,s===""?this.$el.bind(i,n):this.$el.delegate(s,i,n)}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(e){this.options&&(e=u.extend({},u.result(this,"options"),e)),u.extend(this,u.pick(e,L)),this.options=e},_ensureElement:function(){if(!this.el){var e=u.extend({},u.result(this,"attributes"));this.id&&(e.id=u.result(this,"id")),this.className&&(e["class"]=u.result(this,"className")),this.setElement(this.make(u.result(this,"tagName"),e),!1)}else this.setElement(u.result(this,"el"),!1)}});var A={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};o.sync=function(e,t,n){var r=A[e];u.defaults(n||(n={}),{emulateHTTP:o.emulateHTTP,emulateJSON:o.emulateJSON});var i={type:r,dataType:"json"};n.url||(i.url=u.result(t,"url")||M()),n.data==null&&t&&(e==="create"||e==="update"||e==="patch")&&(i.contentType="application/json",i.data=JSON.stringify(n.attrs||t.toJSON(n))),n.emulateJSON&&(i.contentType="application/x-www-form-urlencoded",i.data=i.data?{model:i.data}:{});if(n.emulateHTTP&&(r==="PUT"||r==="DELETE"||r==="PATCH")){i.type="POST",n.emulateJSON&&(i.data._method=r);var s=n.beforeSend;n.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",r);if(s)return s.apply(this,arguments)}}i.type!=="GET"&&!n.emulateJSON&&(i.processData=!1);var a=n.success;n.success=function(e,r,i){a&&a(e,r,i),t.trigger("sync",t,e,n)};var f=n.error;n.error=function(e,r,i){f&&f(t,e,n),t.trigger("error",t,e,n)};var l=o.ajax(u.extend(i,n));return t.trigger("request",t,l,n),l},o.ajax=function(){return o.$.ajax.apply(o.$,arguments)};var O=function(e,t){var n=this,r;e&&u.has(e,"constructor")?r=e.constructor:r=function(){n.apply(this,arguments)},u.extend(r,n,t);var i=function(){this.constructor=r};return i.prototype=n.prototype,r.prototype=new i,e&&u.extend(r.prototype,e),r.__super__=n.prototype,r};h.extend=p.extend=m.extend=C.extend=E.extend=O;var M=function(){throw new Error('A "url" property or function must be specified')}}.call(this),define("backbone",["underscore","zepto"],function(e){return function(){var t,n;return t||e.Backbone}}(this)),define("project/src/extends/model",["zepto","backbone"],function(e,t){var n=t.Model.extend({defaults:{},fetch:function(t){var n=this,r;e.getJSON(t,function(e,t,r){n.set(e),n.trigger("Model:getJson"),console.log("ok:",n)},function(e){console.log("fail:",e)})}});return n}),define("project/src/extends/collection",["backbone","./model"],function(e,t){var n=e.Collection.extend({initialize:function(){this.on("add",function(e,t,n){})},model:t,fetch:function(e){var n=this,r;console.log("rrrrrrrrrrrrrrrrrrrr",e),$.ajax({url:e,dataType:"json",timeout:3e3,success:function(i){var s=isNaN(i.status)?{status:1,data:i}:i;s.data=s.data instanceof Array?s.data:[s.data],s.status>0?($.each(s.data,function(e,i){r=new t(i),n.add(r)}),n?n.trigger("Collection:getJsons",{result:"success",data:s,url:e}):n.trigger("Collection:getJsons",{result:"fail",data:s,url:e})):n.trigger("Collection:getJsons",{result:"fail",data:i,url:e})},error:function(t){n.trigger("Collection:getJsons",{result:"fail",data:t,url:e})}})}});return n}),function(){var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],t=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,n=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,r=typeof location!="undefined"&&location.href,i=r&&location.protocol&&location.protocol.replace(/\:/,""),s=r&&location.hostname,o=r&&(location.port||undefined),u=[];define("text",[],function(){var a,f,l;return typeof window!="undefined"&&window.navigator&&window.document?f=function(e,t){var n=a.createXhr();n.open("GET",e,!0),n.onreadystatechange=function(e){n.readyState===4&&t(n.responseText)},n.send(null)}:typeof process!="undefined"&&process.versions&&!!process.versions.node?(l=require.nodeRequire("fs"),f=function(e,t){t(l.readFileSync(e,"utf8"))}):typeof Packages!="undefined"&&(f=function(e,t){var n="utf-8",r=new java.io.File(e),i=java.lang.System.getProperty("line.separator"),s=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(r),n)),o,u,a="";try{o=new java.lang.StringBuffer,u=s.readLine(),u&&u.length()&&u.charAt(0)===65279&&(u=u.substring(1)),o.append(u);while((u=s.readLine())!==null)o.append(i),o.append(u);a=String(o.toString())}finally{s.close()}t(a)}),a={version:"1.0.2",strip:function(e){if(e){e=e.replace(t,"");var r=e.match(n);r&&(e=r[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")},createXhr:function(){var t,n,r;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;for(n=0;n<3;n++){r=e[n];try{t=new ActiveXObject(r)}catch(i){}if(t){e=[r];break}}if(!t)throw new Error("createXhr(): XMLHttpRequest not available");return t},get:f,parseName:function(e){var t=!1,n=e.indexOf("."),r=e.substring(0,n),i=e.substring(n+1,e.length);return n=i.indexOf("!"),n!==-1&&(t=i.substring(n+1,i.length),t=t==="strip",i=i.substring(0,n)),{moduleName:r,ext:i,strip:t}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,n,r){var i=a.xdRegExp.exec(e),s,o,u;return i?(s=i[2],o=i[3],o=o.split(":"),u=o[1],o=o[0],(!s||s===t)&&(!o||o===n)&&(!u&&!o||u===r)):!0},finishLoad:function(e,t,n,r,i){n=t?a.strip(n):n,i.isBuild&&(u[e]=n),r(n)},load:function(e,t,n,u){if(u.isBuild&&!u.inlineText){n();return}var f=a.parseName(e),l=f.moduleName+"."+f.ext,c=t.toUrl(l),h=u&&u.text&&u.text.useXhr||a.useXhr;!r||h(c,i,s,o)?a.get(c,function(t){a.finishLoad(e,f.strip,t,n,u)}):t([l],function(e){a.finishLoad(f.moduleName+"."+f.ext,f.strip,e,n,u)})},write:function(e,t,n,r){if(t in u){var i=a.jsEscape(u[t]);n.asModule(e+"!"+t,"define(function () { return '"+i+"';});\n")}},writeFile:function(e,t,n,r,i){var s=a.parseName(t),o=s.moduleName+"."+s.ext,u=n.toUrl(s.moduleName+"."+s.ext)+".js";a.load(o,n,function(t){var n=function(e){return r(u,e)};n.asModule=function(e,t){return r.asModule(e,u,t)},a.write(e,o,n,i)},i)}},a})}(),define("text!publish_sell/modules/search/view.html",[],function(){return'<ul class="cyList">\r\n    <% for (var i = 0; i < data.length; i++) { %>\r\n    <% var item = data[i]%>\r\n    <li data-community-id="<%=item.id%>"><div class="borderLine"><%=item.name%></div></li>\r\n    <% } %>\r\n\r\n    <!---->\r\n\r\n</ul>\r\n'}),define("publish_sell/modules/search/view",["backbone","text!publish_sell/modules/search/view.html"],function(e,t){var n=e.View.extend({template:_.template(t),initialize:function(){this.collection?this.collection.bind("Collection:getJsons",this.render,this):this.model&&this.model.bind("Model:getJson",this.render,this)},events:{"click li":"clickFun"},render:function(e){return this.collection?e.result=="success"?$(this.el).html(this.template({data:this.collection.toJSON()})):($(this.el).html('<div class="nearby_noData"></div>'),$(this.el).find(".nearby_noData").height(window.innerHeight+60+"px")):this.model&&(e.result=="success"?$(this.el).html(this.template(this.model.toJSON())):($(this.el).html('<div class="nearby_noData"></div>'),$(this.el).find(".nearby_noData").height(window.innerHeight+60+"px"))),$(this.el).attr("id",(new Date).getTime()),this.trigger("search:render",{result:e.result,data:e.data}),this},clickFun:function(e){var t=$(e.currentTarget),n=$(e.target);this.trigger("search:subClick",{el:t}),e.stopPropagation(),e.preventDefault()}});return n}),define("text!publish_sell/modules/fabuchushou_bt/view.html",[],function(){return'<form class="">\r\n    <ul class="field">\r\n        <li><div class="bordertop"><label></label><div class="right"><input value="" tag=""/></div></div></li>\r\n        <li><div class="bordertop"><label></label><div class="right"><a class="arrright" href="" tag=""></a></div></div></li>\r\n        <li><div class="bordertop"><label></label><div class="right"><a class="arrright" href="" tag=""></a></div></div></li>\r\n        <li><div class="bordertop"><label>  </label><div class="right"><a class="arrright" href="" tag=""></a></div></div></li>\r\n        <li><div class="bordertop"><label>    </label><div class="right"><a class="arrright" href="" tag=""></a></div></div></li>\r\n        <li><div class="bordertop"><label>    </label><div class="right"><input value="" tag=""/><span></span></div></div></li>\r\n        <li><div class="bordertop"><label>    </label><div class="right"><input value="" tag=""/><span></span></div></div></li>\r\n    </ul>\r\n</form>'}),define("publish_sell/modules/fabuchushou_bt/view",["backbone","text!publish_sell/modules/fabuchushou_bt/view.html"],function(e,t){var n=e.View.extend({template:_.template(t),initialize:function(){this.collection?this.collection.bind("Collection:getJsons",this.render,this):this.model&&this.model.bind("Model:getJson",this.render,this),this.initPages()},bindings:{},formcodingScript:function(){var e=$("#fabuchushou_bt").find("#Rthelist").find("input");e.forEach(function(e,t,n){var r,i;$(e).attr("data-preVal",""),e.onfocus=function(){r=this.attributes.tag.value,i=this.value,i==r?this.value="":this.value=i;var e=$(this).parent().parent().parent();if(e[0].tagName!="LI")throw new Error("li");var t=this;setTimeout(function(){ryan.syswin.app.scroll.putUpScroll($("#fabuchushou_bt"),e)},300)},e.onblur=function(){r=this.attributes.tag.value,i=this.value;if(i==""){var e=$(this).parent().parent();this.value=r}}})},initPages:function(){var e=$("#fabuchushou_bt").find(".addBtn").find(".imgCon");e.on("click",function(){ryan.syswin.app.loadPage("fangyuantupian")});var t=$("#fabuchushou_bt").find(".footerbtncon").find(".btncon").find(".yellow")},setInput:function(){function n(e){var t=e.value;/^\d+[.]?\d*$/.test(t)?$(e).attr("data-preVal",t):$(e).attr("data-preVal")>e.value.length&&e.value.length==0?(e.value="",$(e).attr("data-preVal","")):e.value=$(e).attr("data-preVal")}var e=this,t=ryan.syswin.app.global.user;$("#fabuchushou_bt").find("#Rthelist").find("input").bind("input",function(e){var r=this.attributes.tag.value;r.indexOf("")!=-1?(n(this),t.setTempData("fabuchushou_bt","chushoumianji",this.value)):r.indexOf("")!=-1?(n(this),t.setTempData("fabuchushou_bt","chushoujinge",this.value)):r.indexOf("")!=-1&&t.setTempData("fabuchushou_bt","fangyuanbiaoti",this.value)})},events:{"touchstart .cont dl":"onpress_Fun","click .field li":"li_Hander"},render:function(e){return this.collection?e.result=="success"?$(this.el).html(this.template({data:this.collection.toJSON()})):($(this.el).html('<div class="nearby_noData"></div>'),$(this.el).find(".nearby_noData").height(window.innerHeight+60+"px")):this.model&&(e.result=="success"?$(this.el).html(this.template(this.model.toJSON())):($(this.el).html('<div class="nearby_noData"></div>'),$(this.el).find(".nearby_noData").height(window.innerHeight+60+"px"))),$(this.el).attr("id",(new Date).getTime()),this.trigger("fabuchushou_bt:render",{result:e.result,data:e.data}),this.formcodingScript(),this.setInput(),this.stickitData(),this.submit_bt(),this},stickitData:function(){var e=$("#fabuchushou_bt").find("#Rthelist").find("li"),t=ryan.syswin.app.global.user,n=t.getTempData("fabuchushou_bt","fangyuanbiaoti"),r=t.getTempData("fabuchushou_bt","xingzhengqu"),i=t.getTempData("fabuchushou_bt","pianqu"),s=t.getTempData("fabuchushou_bt","xiaoqumingcheng"),o=t.getTempData("fabuchushou_bt","shi"),u=t.getTempData("fabuchushou_bt","ting"),a=t.getTempData("fabuchushou_bt","wei"),f=t.getTempData("fabuchushou_bt","chushoumianji"),l=t.getTempData("fabuchushou_bt","chushoujinge"),c=t.getTempData("fabuchushou_bt","loudonghao"),h=t.getTempData("fabuchushou_bt","danyuanhao"),p=t.getTempData("fabuchushou_bt","taofanghao");n=ryan.syswin.app.inputIsNull(n)?n:"",f=ryan.syswin.app.inputIsNull(f)?f:"",l=ryan.syswin.app.inputIsNull(l)?l:"",r=ryan.syswin.app.inputIsNull(r)?r.split("&")[0]:"",s=ryan.syswin.app.inputIsNull(s)?s.split("&")[0]:"",i=ryan.syswin.app.inputIsNull(i)?i.split("&")[0]:"",o=ryan.syswin.app.inputIsNull(o)?o:"<i class='Arrow'></i>",u=ryan.syswin.app.inputIsNull(u)?u:"",a=ryan.syswin.app.inputIsNull(a)?a:"",c=ryan.syswin.app.inputIsNull(c)?c+"-":"",h=ryan.syswin.app.inputIsNull(h)?h+"-":"",p=ryan.syswin.app.inputIsNull(p)?p+"":"",e.each(function(e,t){var d=$(t).find("label").text().replace(/\s/gi,"");d==""?$(t).find("input").val(n):d==""?$(t).find("input").val(f):d==""?$(t).find("input").val(l):d==""?$(t).find("a").html(r+i):d==""?$(t).find("a").html(s):d==""?$(t).find("a").html(c+h+p):d==""&&$(t).find("a").html(o+u+a)})},submit_bt:function(){var e=$("#fabuchushou_bt").find(".footerbtncon").find(".btncon").find(".yellow"),t=$("#fabuchushou_bt").find("#Rthelist").find(".field").find("li"),n=[],r=!0;e.on("click",function(){t.each(function(e,t){var n=$(t).find("a")[0],e=$(t).find("input")[0];console.log("12312313213",$(t).find("a")[0]),n&&!ryan.syswin.app.inputIsNull($(n).text(),$(n))?$(n).css({color:"red"}):e&&!ryan.syswin.app.inputIsNull($(e).val(),$(e))&&$(e).css({color:"red"});if($(n).css("color")=="red"||$(e).css("color")=="red")r=!1});var e=$(this);if(e.css("pointer-events")=="auto"){var i=this;e.css({"pointer-events":"none","background-color":"rgb(219, 191, 158)"}),setTimeout(function(){$(i).css({"pointer-events":"auto","background-color":"#fc8c2c"}),t.each(function(e,t){var n=$(t).find("a")[0],e=$(t).find("input")[0];n&&!ryan.syswin.app.inputIsNull($(n).text(),$(n))?$(n).css({color:"#bebebe"}):e&&!ryan.syswin.app.inputIsNull($(e).val(),$(e))&&$(e).css({color:"#bebebe"})})},3e3)}console.log("====fffff=====",r);if(r){var s=ryan.syswin.app.global.user;n.title=s.getTempData("fabuchushou_bt","fangyuanbiaoti"),n.area_name=s.getTempData("fabuchushou_bt","xingzhengqu").split("&")[0],n.zone_name=s.getTempData("fabuchushou_bt","pianqu").split("&")[0],n.community_name=s.getTempData("fabuchushou_bt","xiaoqumingcheng"),n.door_model_id=s.getTempData("fabuchushou_bt","shi")+s.getTempData("fabuchushou_bt","ting")+s.getTempData("fabuchushou_bt","wei"),n.dimension=s.getTempData("fabuchushou_bt","chushoumianji"),n.price=s.getTempData("fabuchushou_bt","chushoujinge"),n.building_no=s.getTempData("fabuchushou_bt","loudonghao")+"-"+s.getTempData("fabuchushou_bt","danyuanhao")+"-"+s.getTempData("fabuchushou_bt","taofanghao"),n.area_id=s.getTempData("fabuchushou_bt","xingzhengqu").split("&")[1],n.zone_id=s.getTempData("fabuchushou_bt","pianqu").split("&")[1];var o="title="+n.title+"&dimension="+n.dimension+"&price="+n.price+"&area_name="+n.area_name+"&community_name="+n.community_name+"&building_no="+n.building_no+"&door_model_id="+n.door_model_id+"&area_id="+n.area_id+"&zone_id="+n.zone_id+"&zone_name="+n.zone_name;$("#test").append("liyabg"),$.ajax({url:"http://mobile.fangtoon.com/index.php?r=Sale/OnePage",type:"get",dataType:"json",data:o,success:function(t){$("#test").append(t.status),console.log("hhhhhhhhhhhhhhhhhhhhh",t.data.id),t.status==1&&(ryan.syswin.app.global.user.setTempData("fabuchushou_bt","fabuchushouid",t.data.id),ryan.syswin.app.loadPage("fabuchushou_xt"),e.css({"pointer-events":"auto","background-color":"#fc8c2c"}))},error:function(){$("#test").append("123131221321")}})}})},onpress_Fun:function(e){var t=$(e.currentTarget);t.toggleClass("adfActive"),t.one("touchend",function(){t.toggleClass("adfActive")}),t.one("touchmove",function(){t.toggleClass("adfActive")}),e.stopPropagation(),e.preventDefault()},li_Hander:function(e){var t=$(e.currentTarget),n=t.find("label").text().replace(/\s/gi,"");if(n=="")ryan.syswin.app.loadPage("shi");else if(n=="")ryan.syswin.app.loadPage("xingzhengqu");else if(n=="")ryan.syswin.app.loadPage("xiaoqumingcheng");else if(n==""){var r=ryan.syswin.app.global.user.getTempData("fabuchushou_bt","xiaoqumingcheng");if(r==undefined){var i=$("#fabuchushou_bt").find("#Rthelist").find(".field").find("li:nth-child(3)");i.find("a").css("color","red")}else ryan.syswin.app.loadPage("fangwuweizhi")}e.stopPropagation(),e.preventDefault()}});return n}),define("text!publish_sell/modules/fabuchushou_xt/view.html",[],function(){return'<form class="">\r\n    <ul class="field">\r\n        <li><div class="bordertop"><label></label><div class="right"><input value="" tag=""/><span></span></div></div></li>\r\n        <li><div class="bordertop"><label>  </label><div class="right"><input value="" tag=""/><span></span></div></div></li>\r\n        <li><div class="bordertop"><label></label><div class="right"><a class="arrright" href="" tag=""></a></div></div></li>\r\n        <li><div class="bordertop"><label></label><div class="right"><a class="arrright" href="" tag=""></a></div></div></li>\r\n        <li><div class="bordertop"><label>  </label><div class="right"><input value="" tag=""/><span>/</span></div></div></li>\r\n        <li><div class="bordertop"><label></label><div class="right"><a class="arrright" href="" tag=""></a></div></div></li>\r\n        <li><div class="bordertop"><label></label><div class="right"><a class="arrright" href="" tag=""></a></div></div></li>\r\n        <li><div class="bordertop"><label></label><div class="right"><a class="arrright" href="" tag=""></a></div></div></li>\r\n    </ul>\r\n</form>'}),define("publish_sell/modules/fabuchushou_xt/view",["backbone","text!publish_sell/modules/fabuchushou_xt/view.html"],function(e,t){var n=e.View.extend({template:_.template(t),initialize:function(){this.collection?this.collection.bind("Collection:getJsons",this.render,this):this.model&&this.model.bind("Model:getJson",this.render,this),this.initPages()},bindings:{},formcodingScript:function(){var e=$("#fabuchushou_xt").find("#Rthelist").find("input");e.forEach(function(e,t,n){var r,i;$(e).attr("data-preVal",""),e.onfocus=function(){r=this.attributes.tag.value,i=this.value,i==r?this.value="":this.value=i;var e=$(this).parent().parent(),t=this},e.onblur=function(){r=this.attributes.tag.value,i=this.value;if(i==""){var e=$(this).parent().parent();this.value=r}}})},setInput:function(){function n(e){var t=e.value;/^\d+[.]?\d*$/.test(t)?$(e).attr("data-preVal",t):$(e).attr("data-preVal")>e.value.length&&e.value.length==0?(e.value="",$(e).attr("data-preVal","")):e.value=$(e).attr("data-preVal")}var e=this,t=ryan.syswin.app.global.user;$("#fabuchushou_xt").find("#Rthelist").find("input").bind("input",function(e){var r=this.attributes.tag.value;r.indexOf("")!=-1?(n(this),t.setTempData("fabuchushou_xt","dijiceng",this.value)):r.indexOf("")!=-1?(n(this),t.setTempData("fabuchushou_xt","gongjiceng",this.value)):r.indexOf("")!=-1&&(n(this),t.setTempData("fabuchushou_xt","wuyefei",this.value))})},initPages:function(e){},events:{"touchstart .cont dl":"onpress_Fun","click .field li":"li_Hander"},render:function(e){return this.collection?e.result=="success"?$(this.el).html(this.template({data:this.collection.toJSON()})):($(this.el).html('<div class="nearby_noData"></div>'),$(this.el).find(".nearby_noData").height(window.innerHeight+60+"px")):this.model&&(e.result=="success"?$(this.el).html(this.template(this.model.toJSON())):($(this.el).html('<div class="nearby_noData"></div>'),$(this.el).find(".nearby_noData").height(window.innerHeight+60+"px"))),$(this.el).attr("id",(new Date).getTime()),this.trigger("fabuchushou_xt:render",{result:e.result,data:e.data}),this.formcodingScript(),this.setInput(),this.stickitData(),this.submit_xt(),this},stickitData:function(){var e=$("#fabuchushou_xt").find("#Rthelist").find("li"),t=ryan.syswin.app.global.user,n=t.getTempData("fabuchushou_xt","dijiceng"),r=t.getTempData("fabuchushou_xt","gongjiceng"),i=t.getTempData("fabuchushou_xt","wuyefei"),s=t.getTempData("fabuchushou_xt","chaoxiang"),o=t.getTempData("fabuchushou_xt","zhuangxiuchengdu"),u=t.getTempData("fabuchushou_xt","zengsongsheshi"),a=t.getTempData("fabuchushou_xt","fangyuanbiaoqian"),f=t.getTempData("fabuchushou_xt","fangyuanmiaoshu");n=ryan.syswin.app.inputIsNull(n)?n:"",r=ryan.syswin.app.inputIsNull(r)?r:"",i=ryan.syswin.app.inputIsNull(i)?i:"",s=ryan.syswin.app.inputIsNull(s)?s:"",o=ryan.syswin.app.inputIsNull(o)?o:"",u=ryan.syswin.app.inputIsNull(u)?u.split(":")[0]:"",a=ryan.syswin.app.inputIsNull(a)?a:"",f=ryan.syswin.app.inputIsNull(f)?f.substring(0,10)+"...":"",e.each(function(e,t){var l=$(t).find("label").text().replace(/\s/gi,"");l==""?$(t).find("input").val(n):l==""?$(t).find("input").val(r):l==""?$(t).find("a").html(s):l==""?$(t).find("a").html(o):l==""?$(t).find("input").val(i):l==""?$(t).find("a").html(u):l==""?$(t).find("a").html(a):l==""&&$(t).find("a").html(f)})},submit_xt:function(){var e=ryan.syswin.app.global.user.getTempData("fabuchushou_bt","fabuchushouid"),t=$("#fabuchushou_xt").find(".footerbtncon").find(".btncon").find(".blue"),n=$("#fabuchushou_xt").find("#Rthelist").find(".field").find("li"),r=[];n.each(function(e,t){var n=$(t).find(".right").find("input").val(),i=$(t).find("a").text();switch($(t).find("label").text().replace(/\s/gi,"")){case"":r.storey=n;break;case"":r.floor=n;break;case"":r.property_manage_fee=n;break;case"":r.building_orientation=i;break;case"":r.decorate_degree=i;break;case"":r.giving=i;break;case"":r.tags=i;break;case"":r.content=i}});if(e!=undefined){var i="id="+e+"&storey="+r.storey+"&floor="+r.floor+"&property_manage_fee="+r.property_manage_fee+"&building_orientation="+r.building_orientation+"&decorate_degree="+r.decorate_degree+"&giving="+r.giving+"&tags="+r.tags+"&content="+r.content;t.on("click",function(){console.log("ss===sss===ss",r),$.ajax({url:"http://mobile.fangtoon.com/index.php?r=Sale/TwoPage",type:"get",dataType:"json",data:i,success:function(e){e.status==1&&ryan.syswin.app.loadPage("fabuchenggong")},error:function(){}})})}else window.location.href="http://mobile.fangtoon.com/html/publish_sell.html#&publish_sell/fabuchushou_bt.html"},onpress_Fun:function(e){var t=$(e.currentTarget);t.toggleClass("adfActive"),t.one("touchend",function(){t.toggleClass("adfActive")}),t.one("touchmove",function(){t.toggleClass("adfActive")}),e.stopPropagation(),e.preventDefault()},li_Hander:function(e){var t=$(e.currentTarget),n=$(e.childBtn),r=t.find("label").text().replace(/\s/gi,"");r==""?ryan.syswin.app.loadPage("chaoxiang"):r==""?ryan.syswin.app.loadPage("zhuangxiuchengdu"):r==""?ryan.syswin.app.loadPage("zengsongsheshi"):r==""?ryan.syswin.app.loadPage("fangyuanbiaoqian"):r==""&&ryan.syswin.app.loadPage("fangyuanmiaoshu"),e.stopPropagation(),e.preventDefault()}});return n}),define("text!publish_sell/modules/fabuchenggong/view.html",[],function(){return'\r\n<p class="title"></p>\r\n<div class="bigcircle red">75%</div>\r\n<p class="title"></p>\r\n<a class="shangjia"></a>\r\n<a href="publish_sell/fabuchushou_bt.html"></a>\r\n<a href=""></a>\r\n'}),define("publish_sell/modules/fabuchenggong/view",["backbone","text!publish_sell/modules/fabuchenggong/view.html"],function(e,t){var n=e.View.extend({template:_.template(t),initialize:function(){this.collection?this.collection.bind("Collection:getJsons",this.render,this):this.model&&this.model.bind("Model:getJson",this.render,this),this.initPages()},initPages:function(){var e=$(".popcon").find(".btn").find("a");$(e).on("click",function(e){var t=$(e.currentTarget),n=$(e.target),r=t[0].className;if(r=="complete"){var i=ryan.syswin.app.global.user.getTempData("fabuchushou_bt","fabuchushouid"),s=1,o=1,u="card_id="+s+"&id="+i+"&type="+o;i!=undefined?$.ajax({url:"http://mobile.fangtoon.com/index.php?r=Sale/HouseStatus",type:"get",data:u,dataType:"json",success:function(e){e.code==1&&ryan.syswin.app.loadPage("tijiaochenggong")},error:function(){}}):window.location.href="http://mobile.fangtoon.com/html/publish_sell.html#&publish_sell/fabuchushou_bt.html"}$("#fabuchenggong").find(".pop").css("display","none")})},events:{"click .shangjia":"shangjia_Fun"},render:function(e){return this.collection?e.result=="success"?$(this.el).html(this.template({data:this.collection.toJSON()})):($(this.el).html('<div class="nearby_noData"></div>'),$(this.el).find(".nearby_noData").height(window.innerHeight+60+"px")):this.model&&(e.result=="success"?$(this.el).html(this.template(this.model.toJSON())):($(this.el).html('<div class="nearby_noData"></div>'),$(this.el).find(".nearby_noData").height(window.innerHeight+60+"px"))),$(this.el).attr("id",(new Date).getTime()),this.trigger("fabuchenggong:render",{result:e.result,data:e.data}),this.setPer(),this},setPer:function(){var e=$("#fabuchenggong").find(".bigcircle"),t=ryan.syswin.app.getPercent.fbcgPercent()+"%";t=="100%"&&e.addClass("green"),e.html(t)},shangjia_Fun:function(e){var t=$(e.currentTarget),n=$(e.target),r=$("#fabuchenggong").find(".pop");r.css("display","block")}});return n}),define("text!publish_sell/modules/tijiaochenggong/view.html",[],function(){return'<div class="bigcircle ok"></div>\r\n<p class="title"></p>\r\n<a href="" ></a>'}),define("publish_sell/modules/tijiaochenggong/view",["backbone","text!publish_sell/modules/tijiaochenggong/view.html"],function(e,t){var n=e.View.extend({template:_.template(t),initialize:function(){this.collection?this.collection.bind("Collection:getJsons",this.render,this):this.model&&this.model.bind("Model:getJson",this.render,this),this.initPages()},initPages:function(){var e=$(".shangjia"),t=$("#fabuchenggong").find(".pop"),n=t.find(".btn").find("a");e.on("click",function(r){t.css("display","block"),n.className=="complete"?ryan.syswin.app.loadPage("tijiaochenggong"):n.className=="cancel"&&t.css("display","none"),console.log(e)})},events:{"touchstart .cont .footerBar a":"onpress_Fun","touchstart .cont dl":"onpress_Fun","touchstart .cont .picBox":"onpress_Fun"},render:function(e){return this.collection?e.result=="success"?$(this.el).html(this.template({data:this.collection.toJSON()})):($(this.el).html('<div class="nearby_noData"></div>'),$(this.el).find(".nearby_noData").height(window.innerHeight+60+"px")):this.model&&(e.result=="success"?$(this.el).html(this.template(this.model.toJSON())):($(this.el).html('<div class="nearby_noData"></div>'),$(this.el).find(".nearby_noData").height(window.innerHeight+60+"px"))),$(this.el).attr("id",(new Date).getTime()),this.trigger("tijiaochenggong:render",{result:e.result,data:e.data}),this},onpress_Fun:function(e){var t=$(e.currentTarget);t.toggleClass("adfActive"),t.one("touchend",function(){t.toggleClass("adfActive")})}});return n}),define("text!publish_sell/modules/xingzhengqu/view.html",[],function(){return'<ul class="cyList conM">\r\n    <% for (var i = 0; i < data.length; i++) { %>\r\n    <% var item = data[i]%>\r\n    <li data-district_id="<%=item.district_id%>"><div class="borderLine"><%=item.district_name%><i class="Arrow"></i></div></li>\r\n    <% } %>\r\n    <li></li>\r\n</ul>'}),define("publish_sell/modules/xingzhengqu/view",["backbone","text!publish_sell/modules/xingzhengqu/view.html"],function(e,t){var n=e.View.extend({template:_.template(t),initialize:function(){this.collection?this.collection.bind("Collection:getJsons",this.render,this):this.model&&this.model.bind("Model:getJson",this.render,this),this.initPages()},initPages:function(){},events:{"click #xingzhengqu .cyList li":"li_subMenu"},render:function(e){return this.collection?e.result=="success"?$(this.el).html(this.template({data:this.collection.toJSON()})):($(this.el).html('<div class="nearby_noData"></div>'),$(this.el).find(".nearby_noData").height(window.innerHeight+60+"px")):this.model&&(e.result=="success"?$(this.el).html(this.template(this.model.toJSON())):($(this.el).html('<div class="nearby_noData"></div>'),$(this.el).find(".nearby_noData").height(window.innerHeight+60+"px"))),$(this.el).attr("id",(new Date).getTime()),this.trigger("xingzhengqu:render",{result:e.result,data:e.data}),this.stickitData(),this},stickitData:function(){var e=$("#xingzhengqu").find("#Rthelist").find("li"),t=ryan.syswin.app.global.user,n=t.getTempData("fabuchushou_bt","xingzhengqu");e.each(function(e,t){var r=$(t).text().replace(/\s/gi,"");n&&n!=""&&n.indexOf(r)!=-1&&$(t).css({"background-color":"#fc8c2c"})})},li_subMenu:function(e){var t=$(e.currentTarget),n=$(e.target),r=n.text().replace(/\s/gi,""),i=t.data("district_id");ryan.syswin.app.global.user.setTempData("fabuchushou_bt","xingzhengqu",r+"&"+i),ryan.syswin.app.loadPage("pianqu"),e.stopPropagation(),e.preventDefault()}});return n}),define("text!publish_sell/modules/pianqu/view.html",[],function(){return'<ul class="cyList">\r\n    <% for (var i = 0; i < data.length; i++) { %>\r\n    <% var item = data[i]%>\r\n    <li data-area_id="<%=item.business_area_id%>"><div class="borderLine"><%=item.business_area_name%><span></span></div></li>\r\n    <% } %>\r\n</ul>'}),define("publish_sell/modules/pianqu/view",["backbone","text!publish_sell/modules/pianqu/view.html"],function(e,t){var n=e.View.extend({template:_.template(t),delayId:0,initialize:function(){this.collection?this.collection.bind("Collection:getJsons",this.render,this):this.model&&this.model.bind("Model:getJson",this.render,this),this.initPages()},initPages:function(){},events:{"click #pianqu .cyList li":"li_pianqu"},render:function(e){return this.collection?e.result=="success"?$(this.el).html(this.template({data:this.collection.toJSON()})):($(this.el).html('<div class="nearby_noData"></div>'),$(this.el).find(".nearby_noData").height(window.innerHeight+60+"px")):this.model&&(e.result=="success"?$(this.el).html(this.template(this.model.toJSON())):($(this.el).html('<div class="nearby_noData"></div>'),$(this.el).find(".nearby_noData").height(window.innerHeight+60+"px"))),$(this.el).attr("id",(new Date).getTime()),this.trigger("pianqu:render",{result:e.result,data:e.data}),this.stickitData(),this},stickitData:function(){var e=$("#pianqu").find("#Rthelist").find("li"),t=ryan.syswin.app.global.user,n=t.getTempData("fabuchushou_bt","pianqu");e.each(function(e,t){var r=$(t).text().replace(/\s/gi,"");n&&n!=""&&n.indexOf(r)!=-1&&$(t).find("span").addClass("selected")})},li_pianqu:function(e){var t=$(e.currentTarget),n=$(e.target),r=n.text().replace(/\s/gi,""),i=n.data("area_id");t.parents().children("li").each(function(e,t){$(t).find("span").removeClass("selected")}),n.children("span").addClass("selected"),n.children("span").css("pointer-events","none"),ryan.syswin.app.global.user.setTempData("fabuchushou_bt","pianqu",r+"&"+i),clearTimeout(this.delayId),this.delayId=setTimeout(function(){ryan.syswin.app.loadPage("fabuchushou_bt")},800),e.stopPropagation(),e.preventDefault()}});return n}),define("text!publish_sell/modules/chaoxiang/view.html",[],function(){return'<ul class="cyList">\r\n    <li><div class="borderLine"><span></span></div></li>\r\n    <li><div class="borderLine"><span></span></div></li>\r\n    <li><div class="borderLine"><span></span></div></li>\r\n    <li><div class="borderLine"><span></span></div></li>\r\n    <li><div class="borderLine"><span></span></div></li>\r\n</ul>'}),define("publish_sell/modules/chaoxiang/view",["backbone","text!publish_sell/modules/chaoxiang/view.html"],function(e,t){var n=e.View.extend({template:_.template(t),delayIds:0,initialize:function(){this.collection?this.collection.bind("Collection:getJsons",this.render,this):this.model&&this.model.bind("Model:getJson",this.render,this),this.initPages()},initPages:function(){},events:{"click #chaoxiang .cyList li":"li_subMenu"},render:function(e){return this.collection?e.result=="success"?$(this.el).html(this.template({data:this.collection.toJSON()})):($(this.el).html('<div class="nearby_noData"></div>'),$(this.el).find(".nearby_noData").height(window.innerHeight+60+"px")):this.model&&(e.result=="success"?$(this.el).html(this.template(this.model.toJSON())):($(this.el).html('<div class="nearby_noData"></div>'),$(this.el).find(".nearby_noData").height(window.innerHeight+60+"px"))),$(this.el).attr("id",(new Date).getTime()),this.trigger("chaoxiang:render",{result:e.result,data:e.data}),this.stickitData(),this},stickitData:function(){var e=$("#chaoxiang").find("#Rthelist").find("li"),t=ryan.syswin.app.global.user,n=t.getTempData("fabuchushou_xt","chaoxiang");e.each(function(e,t){var r=$(t).text().replace(/\s/gi,"");n&&n!=""&&n.indexOf(r)!=-1&&$(t).find("span").addClass("selected")})},li_subMenu:function(e){var t=$(e.currentTarget),n=$(e.target),r=n.text().replace(/\s/gi,"");t.parents().children("li").each(function(e,t){$(t).find("span").removeClass("selected")}),n.children("span").addClass("selected"),n.children("span").css("pointer-events","none"),ryan.syswin.app.global.user.setTempData("fabuchushou_xt","chaoxiang",r),clearTimeout(this.delayId),this.delayId=setTimeout(function(){ryan.syswin.app.loadPage("fabuchushou_xt")},800),e.stopPropagation(),e.preventDefault()}});return n}),define("text!publish_sell/modules/xiaoqumingcheng/view.html",[],function(){return'<div class="xcmcTitle">\r\n    \r\n</div>\r\n<ul class="cyList">\r\n</ul>'}),define("publish_sell/modules/xiaoqumingcheng/view",["backbone","text!publish_sell/modules/xiaoqumingcheng/view.html"],function(e,t){var n=e.View.extend({template:_.template(t),initialize:function(){this.collection?this.collection.bind("Collection:getJsons",this.render,this):this.model&&this.model.bind("Model:getJson",this.render,this),this.initPages()},initPages:function(){},formcodingScript:function(){var e=$("#xiaoqumingcheng").find("#inp")[0];e.onfocus=function(){e.value="",e.style.textAlign="left"},e.onblur=function(){e.value="",e.style.textAlign="center"}},events:{},setSearch:function(){$("#xiaoqumingcheng").find(".Rwrapper").css({display:"none"});var e=$("#xiaoqumingcheng").find("#inp"),t=e.val();e.one("click",function(t){$("#xiaoqumingcheng").find(".mui-popover").css({display:"block"});var n=ryan.syswin.app.search("xiaoqumingcheng","r=Sale/CommunityName");n.$input=e,n.init(function(t,n){if(n.result=="success"){var r=$("#xiaoqumingcheng").find(".mui-popover").find(".mui-scroll");$("#xiaoqumingcheng").find(".mui-popover").css("display","block"),r.empty(),r.append(t.el),t.bind("search:subClick",function(e){$("#xiaoqumingcheng").find(".mui-popover").css({display:"none"});var t=$(e.el).text(),n=$(e.el).data("community-id");ryan.syswin.app.global.user.setTempData("fabuchushou_bt","xiaoqumingcheng",t+"&"+n),ryan.syswin.app.loadPage("fabuchushou_bt")})}else $("#xiaoqumingcheng").find(".mui-popover").css("display","none"),$("#xiaoqumingcheng").find(".xcmcTitle").html('&nbsp"'+e.val()+'"'),console.log(e.val()),ryan.syswin.app.global.user.setTempData("fabuchushou_bt","xiaoqumingcheng",e.val()),$("#xiaoqumingcheng").find(".xcmcTitle").one("click",function(){ryan.syswin.app.loadPage("fabuchushou_bt")})}),mui(".mui-scroll-wrapper").scroll()})},render:function(e){var t=$("#xiaoqumingcheng").find("#inp").val();return console.log("========",t),this.collection?e.result=="success"?$(this.el).html(this.template({data:this.collection.toJSON()})):($(this.el).html('<div class="nearby_noData"></div>'),$(this.el).find(".nearby_noData").height(window.innerHeight+60+"px")):this.model&&(e.result=="success"?$(this.el).html(this.template(this.model.toJSON())):($(this.el).html('<div class="nearby_noData"></div>'),$(this.el).find(".nearby_noData").height(window.innerHeight+60+"px"))),$(this.el).attr("id",(new Date).getTime()),this.trigger("xiaoqumingcheng:render",{result:e.result,data:e.data}),this.formcodingScript(),this.setSearch(),this},onpress_Fun:function(e){var t=$(e.currentTarget);t.toggleClass("adfActive"),t.one("touchend",function(){t.toggleClass("adfActive")}),t.one("touchmove",function(){t.toggleClass("adfActive")}),e.stopPropagation(),e.preventDefault()},clickPicFun:function(e){var t=$(e.currentTarget),n=$(e.target);e.stopPropagation(),e.preventDefault()}});return n}),define("text!publish_sell/modules/zengsongsheshi/view.html",[],function(){return'<ul class="cyList">\r\n    <li><div class="borderLine"><input id="check1" class="check" name="checkbox" type="checkbox" value="112323"><label for="check1"></label></div></li>\r\n    <li><div class="borderLine"><input id="check2" class="check" name="checkbox" type="checkbox"><label for="check2"></label></div></li>\r\n    <li><div class="borderLine"><input id="check3" class="check" name="checkbox" type="checkbox"><label for="check3"></label></div></li>\r\n    <li><div class="borderLine"><input id="check4" class="check" name="checkbox" type="checkbox"><label for="check4"></label></div></li>\r\n    <li><div class="borderLine"><input id="check5" class="check" name="checkbox" type="checkbox"><label for="check5"></label></div></li>\r\n</ul>\r\n<div class="addInp">\r\n    <input type="text" placeholder="" />\r\n</div>\r\n<div class="footerbtncon">\r\n    <div class="btncon">\r\n        <a href="" class="blue"></a>\r\n    </div>\r\n</div>'}),define("publish_sell/modules/zengsongsheshi/view",["backbone","text!publish_sell/modules/zengsongsheshi/view.html"],function(e,t){var n=e.View.extend({template:_.template(t),selectCon:"",initialize:function(){this.collection?this.collection.bind("Collection:getJsons",this.render,this):this.model&&this.model.bind("Model:getJson",this.render,this),this.initPages()},initPages:function(){},events:{"click #zengsongsheshi .cyList li .check":"sel_zengsongsheshi","click #zengsongsheshi a.blue":"zsss_fun"},stickitData:function(){var e=$("#zengsongsheshi").find("#Rthelist").find("li"),t=ryan.syswin.app.global.user,n=t.getTempData("fabuchushou_xt","zengsongsheshi");$("#zengsongsheshi").find(".addInp").find("input").hide(),e.each(function(e,t){var r=$(t).text().replace(/\s/gi,""),i=$(t).find("input");n&&n!=""&&n.indexOf(r)!=-1&&(i.prop("checked",!0),i.attr("id")=="check5"&&($("#zengsongsheshi").find(".addInp").find("input").show(),$("#zengsongsheshi").find(".addInp").find("input").val(n.split(":")[1])))})},render:function(e){return this.collection?e.result=="success"?$(this.el).html(this.template({data:this.collection.toJSON()})):($(this.el).html('<div class="nearby_noData"></div>'),$(this.el).find(".nearby_noData").height(window.innerHeight+60+"px")):this.model&&(e.result=="success"?$(this.el).html(this.template(this.model.toJSON())):($(this.el).html('<div class="nearby_noData"></div>'),$(this.el).find(".nearby_noData").height(window.innerHeight+60+"px"))),$(this.el).attr("id",(new Date).getTime()),this.trigger("zengsongsheshi:render",{result:e.result,data:e.data}),this.stickitData(),this},sel_zengsongsheshi:function(e){var t=$(e.currentTarget),n=$(e.target);t.attr("id")=="check5"&&(t.prop("checked")?$("#zengsongsheshi").find(".addInp").find("input").show():$("#zengsongsheshi").find(".addInp").find("input").hide()),e.stopPropagation()},zsss_fun:function(e){var t=this;t.selectCon="",$("#zengsongsheshi").find("input[name='checkbox']").each(function(e){if($(this).prop("checked")){var n=$(this).siblings("label").text();t.selectCon+=n+","}});var n=$("#zengsongsheshi").find(".addInp").find("input").val();this.selectCon=this.selectCon.substr(0,this.selectCon.length-1),this.selectCon+=":"+n,ryan.syswin.app.global.user.setTempData("fabuchushou_xt","zengsongsheshi",this.selectCon),ryan.syswin.app.loadPage("fabuchushou_xt")}});return n}),define("text!publish_sell/modules/fangyuanbiaoqian/view.html",[],function(){return'\r\n<ul class="cyList">\r\n    <% for(var i in data[0]){ %>\r\n        <li data-id=\'<%=i%>\'><div class="borderLine"><%=data[0][i]%><span></span></div></li>\r\n    <%}%>\r\n</ul>'}),define("publish_sell/modules/fangyuanbiaoqian/view",["backbone","text!publish_sell/modules/fangyuanbiaoqian/view.html"],function(e,t){var n=e.View.extend({template:_.template(t),delayId:0,initialize:function(){this.collection?this.collection.bind("Collection:getJsons",this.render,this):this.model&&this.model.bind("Model:getJson",this.render,this),this.initPages()},initPages:function(){},events:{"click #fangyuanbiaoqian .cyList li":"li_subMenu"},render:function(e){return this.collection?e.result=="success"?$(this.el).html(this.template({data:this.collection.toJSON()})):($(this.el).html('<div class="nearby_noData"></div>'),$(this.el).find(".nearby_noData").height(window.innerHeight+60+"px")):this.model&&(e.result=="success"?$(this.el).html(this.template(this.model.toJSON())):($(this.el).html('<div class="nearby_noData"></div>'),$(this.el).find(".nearby_noData").height(window.innerHeight+60+"px"))),$(this.el).attr("id",(new Date).getTime()),this.trigger("fangyuanbiaoqian:render",{result:e.result,data:e.data}),this.stickitData(),this},stickitData:function(){var e=$("#fangyuanbiaoqian").find("#Rthelist").find("li"),t=ryan.syswin.app.global.user,n=t.getTempData("fabuchushou_xt","fangyuanbiaoqian");e.each(function(e,t){var r=$(t).text().replace(/\s/gi,"");n&&n!=""&&n.indexOf(r)!=-1&&$(t).find("span").addClass("selected")})},li_subMenu:function(e){var t=$(e.currentTarget),n=$(e.target),r=n.text().replace(/\s/gi,"");t.parents().children("li").each(function(e,t){$(t).find("span").removeClass("selected")}),n.children("span").addClass("selected"),n.children("span").css("pointer-events","none"),ryan.syswin.app.global.user.setTempData("fabuchushou_xt","fangyuanbiaoqian",r),clearTimeout(this.delayId),this.delayId=setTimeout(function(){ryan.syswin.app.loadPage("fabuchushou_xt")},1500),e.stopPropagation(),e.preventDefault()}});return n}),define("text!publish_sell/modules/zhuangxiuchengdu/view.html",[],function(){return'<ul class="cyList">\r\n    <% for(var i in data[0]){ %>\r\n    <li data-id=\'<%=i%>\'><div class="borderLine"><%=data[0][i]%><span></span></div></li>\r\n    <%}%>\r\n\r\n\r\n</ul>'}),define("publish_sell/modules/zhuangxiuchengdu/view",["backbone","text!publish_sell/modules/zhuangxiuchengdu/view.html"],function(e,t){var n=e.View.extend({template:_.template(t),delayId:0,initialize:function(){this.collection?this.collection.bind("Collection:getJsons",this.render,this):this.model&&this.model.bind("Model:getJson",this.render,this),this.initPages()},initPages:function(){},events:{"click #zhuangxiuchengdu .cyList li":"li_subMenu"},render:function(e){return this.collection?e.result=="success"?$(this.el).html(this.template({data:this.collection.toJSON()})):($(this.el).html('<div class="nearby_noData"></div>'),$(this.el).find(".nearby_noData").height(window.innerHeight+60+"px")):this.model&&(e.result=="success"?$(this.el).html(this.template(this.model.toJSON())):($(this.el).html('<div class="nearby_noData"></div>'),$(this.el).find(".nearby_noData").height(window.innerHeight+60+"px"))),$(this.el).attr("id",(new Date).getTime()),this.trigger("zhuangxiuchengdu:render",{result:e.result,data:e.data}),this.stickitData(),this},stickitData:function(){var e=$("#zhuangxiuchengdu").find("#Rthelist").find("li"),t=ryan.syswin.app.global.user,n=t.getTempData("fabuchushou_xt","zhuangxiuchengdu");e.each(function(e,t){var r=$(t).text().replace(/\s/gi,"");n&&n!=""&&n.indexOf(r)!=-1&&$(t).find("span").addClass("selected")})},li_subMenu:function(e){var t=$(e.currentTarget),n=$(e.target),r=n.text().replace(/\s/gi,"");t.parents().children("li").each(function(e,t){$(t).find("span").removeClass("selected")}),n.children("span").addClass("selected"),n.children("span").css("pointer-events","none"),ryan.syswin.app.global.user.setTempData("fabuchushou_xt","zhuangxiuchengdu",r),clearTimeout(this.delayId),this.delayId=setTimeout(function(){ryan.syswin.app.loadPage("fabuchushou_xt")},1500),e.stopPropagation(),e.preventDefault()}});return n}),define("text!publish_sell/modules/taofanghao/view.html",[],function(){return'<ul class="cyList">\r\n    <% for (var i = 0; i < data.length; i++) { %>\r\n    <% var item = data[i]%>\r\n    <li><div class="borderLine"><%=item.name%></div></li>\r\n    <% } %>\r\n    <!--<li>1007</li>-->\r\n    <!--<li>6009</li>-->\r\n    <!--<li>7006</li>-->\r\n    <!--<li>8006</li>-->\r\n    <!--<li>9</li>-->\r\n</ul>'}),define("publish_sell/modules/taofanghao/view",["backbone","text!publish_sell/modules/taofanghao/view.html"],function(e,t){var n=e.View.extend({template:_.template(t),goPage:null,initialize:function(){this.collection?this.collection.bind("Collection:getJsons",this.render,this):this.model&&this.model.bind("Model:getJson",this.render,this),this.initPages()},initPages:function(){},formcodingScript:function(){var e=$("#taofanghao").find("#inp")[0];e.onfocus=function(){e.value="",e.style.textAlign="left",console.log("======================>>>",e)},e.onblur=function(){e.value="",e.style.textAlign="center"}},getTileText:function(e){var t,n,r=ryan.syswin.app.global.user.getTempData("fabuchushou_bt","xiaoqumingcheng").split("&")[0],i=ryan.syswin.app.global.user.getTempData("fabuchushou_bt","loudonghao"),s=ryan.syswin.app.global.user.getTempData("fabuchushou_bt","danyuanhao");return e=="loudonghao"?(t=""+r,n=""):e=="danyuanhao"?(t=""+r+i+"",n=""):e=="taofanghao"&&(t=""+r+i+""+s+"",n=""),{title:t,name:n}},saveTempData:function(e,t){switch(e){case"loudonghao":ryan.syswin.app.global.user.setTempData("fabuchushou_bt","loudonghao",t);break;case"danyuanhao":ryan.syswin.app.global.user.setTempData("fabuchushou_bt","danyuanhao",t);break;case"taofanghao":ryan.syswin.app.global.user.setTempData("fabuchushou_bt","taofanghao",t)}},setSearch:function(e){var t=this,n=$("#taofanghao"),r=this.getTileText(e);n.find(".Rwrapper").css({display:"none"}),n.find(".xcmcTitle").html(r.title),$(n.find(".hpHeader").children("a")[1]).html(r.name),n.find("#inp")[0].value=""+r.name+"";var i=n.find("#inp");i.one("click",function(r){n.find(".mui-popover").css({display:"block"});var s="",o=ryan.syswin.app.global.user.getTempData("fabuchushou_bt","xiaoqumingcheng"),u="";o.indexOf("&")!=-1?u=o.split("&")[1]:u="",e=="loudonghao"?s=ryan.syswin.app.search(e,"r=Sale/Building&id="+u):e=="danyuanhao"?s=ryan.syswin.app.search(e,"r=Sale/Unit&id="+u):e=="taofanghao"&&(s=ryan.syswin.app.search(e,"r=Sale/Room&id="+u)),s.$input=i,s.init(function(r,s){if(s.result=="success"){$("#taofanghao").find(".mui-popover").css("display","block");var o=n.find(".mui-popover").find(".mui-scroll");o.empty(),o.append(r.el),r.bind("search:subClick",function(r){n.find(".mui-popover").css({display:"none"}),t.saveTempData(e,r.el.text()),e=="taofanghao"?ryan.syswin.app.loadPage("fabuchushou_bt"):ryan.syswin.app.loadPage("fangwuweizhi")})}else $("#taofanghao").find(".mui-popover").css("display","none"),$("#taofanghao").find(".xcmcTitle").html('&nbsp"'+i.val()+'"'),t.saveTempData(e,i.val()),n.find(".xcmcTitle").one("click",function(){e=="taofanghao"?ryan.syswin.app.loadPage("fabuchushou_bt"):ryan.syswin.app.loadPage("fangwuweizhi")})}),mui(".mui-scroll-wrapper").scroll()})},events:{},render:function(e){return this.collection?e.result=="success"?$(this.el).html(this.template({data:this.collection.toJSON()})):($(this.el).html('<div class="nearby_noData"></div>'),$(this.el).find(".nearby_noData").height(window.innerHeight+60+"px")):this.model&&(e.result=="success"?$(this.el).html(this.template(this.model.toJSON())):($(this.el).html('<div class="nearby_noData"></div>'),$(this.el).find(".nearby_noData").height(window.innerHeight+60+"px"))),$(this.el).attr("id",(new Date).getTime()),this.trigger("taofanghao:render",{result:e.result,data:e.data}),this.formcodingScript(),this.setSearch($("#taofanghao").data("inpage-params")||"loudonghao"),this},onpress_Fun:function(e){var t=$(e.currentTarget);t.toggleClass("adfActive"),t.one("touchend",function(){t.toggleClass("adfActive")}),t.one("touchmove",function(){t.toggleClass("adfActive")}),e.stopPropagation(),e.preventDefault()},clickPicFun:function(e){var t=$(e.currentTarget),n=$(e.target);e.stopPropagation(),e.preventDefault()}});return n}),define("text!publish_sell/modules/fangyuanmiaoshu/view.html",[],function(){return'\r\n<div class="textbox">\r\n    <textarea class="TextField" placeholder=""></textarea>\r\n</div>\r\n<div class="footerbtncon">\r\n    <div class="btncon">\r\n        <a href="" class="blue"></a>\r\n    </div>\r\n</div>\r\n'}),define("publish_sell/modules/fangyuanmiaoshu/view",["backbone","text!publish_sell/modules/fangyuanmiaoshu/view.html"],function(e,t){var n=e.View.extend({template:_.template(t),initialize:function(){this.collection?this.collection.bind("Collection:getJsons",this.render,this):this.model&&this.model.bind("Model:getJson",this.render,this),this.initPages()},initPages:function(){var e=$(".popcon").find(".btn").find("a");$(e).on("click",function(e){var t=$(e.currentTarget),n=$(e.target),r=t[0].className;r=="complete"&&ryan.syswin.app.loadPage("tijiaochenggong"),$("#fabuchenggong").find(".pop").css("display","none")})},events:{"click #fangyuanmiaoshu a.blue":"fyms_fun"},stickitData:function(){var e=ryan.syswin.app.global.user,t=e.getTempData("fabuchushou_xt","fangyuanmiaoshu");t=ryan.syswin.app.inputIsNull(t)?t:"",$("#fangyuanmiaoshu").find(".TextField").val(t)},render:function(e){return this.collection?e.result=="success"?$(this.el).html(this.template({data:this.collection.toJSON()})):($(this.el).html('<div class="nearby_noData"></div>'),$(this.el).find(".nearby_noData").height(window.innerHeight+60+"px")):this.model&&(e.result=="success"?$(this.el).html(this.template(this.model.toJSON())):($(this.el).html('<div class="nearby_noData"></div>'),$(this.el).find(".nearby_noData").height(window.innerHeight+60+"px"))),$(this.el).attr("id",(new Date).getTime()),this.trigger("fangyuanmiaoshu:render",{result:e.result,data:e.data}),this.stickitData(),this},fyms_fun:function(e){var t=$(e.currentTarget),n=$(e.target),r=$("#fangyuanmiaoshu").find(".TextField").val();ryan.syswin.app.global.user.setTempData("fabuchushou_xt","fangyuanmiaoshu",r),ryan.syswin.app.loadPage("fabuchushou_xt")}});return n}),define("text!publish_sell/modules/shi/view.html",[],function(){return'\r\n<ul class="cyList">\r\n    <li><div class="borderLine">1<span></span></div></li>\r\n    <li><div class="borderLine">2<span></span></div></li>\r\n    <li><div class="borderLine">3<span></span></div></li>\r\n    <li><div class="borderLine">4<span></span></div></li>\r\n    <li><div class="borderLine">5<span></span></div></li>\r\n    <li><div class="borderLine">6<span></span></div></li>\r\n    <li><div class="borderLine">7<span></span></div></li>\r\n    <li><div class="borderLine">8<span></span></div></li>\r\n    <li><div class="borderLine">9<span></span></div></li>\r\n</ul>\r\n'}),define("publish_sell/modules/shi/view",["backbone","text!publish_sell/modules/shi/view.html"],function(e,t){var n=e.View.extend({template:_.template(t),delayId:0,initialize:function(){this.collection?this.collection.bind("Collection:getJsons",this.render,this):this.model&&this.model.bind("Model:getJson",this.render,this),this.initPages()},initPages:function(){},events:{"click #shi .cyList li":"li_subMenu"},stickitData:function(){var e=$("#shi").find("#Rthelist").find("li"),t=ryan.syswin.app.global.user,n=t.getTempData("fabuchushou_bt","shi");e.each(function(e,t){var r=$(t).text().replace(/\s/gi,"");n&&n!=""&&n.indexOf(r)!=-1&&$(t).find("span").addClass("selected")})},render:function(e){return this.collection?e.result=="success"?$(this.el).html(this.template({data:this.collection.toJSON()})):($(this.el).html('<div class="nearby_noData"></div>'),$(this.el).find(".nearby_noData").height(window.innerHeight+60+"px")):this.model&&(e.result=="success"?$(this.el).html(this.template(this.model.toJSON())):($(this.el).html('<div class="nearby_noData"></div>'),$(this.el).find(".nearby_noData").height(window.innerHeight+60+"px"))),$(this.el).attr("id",(new Date).getTime()),this.trigger("shi:render",{result:e.result,data:e.data}),this.stickitData(),this},li_subMenu:function(e){var t=$(e.currentTarget),n=$(e.target),r=n.text().replace(/\s/gi,"");t.parents().children("li").each(function(e,t){$(t).find("span").removeClass("selected")}),n.children("span").addClass("selected"),n.children("span").css("pointer-events","none"),ryan.syswin.app.global.user.setTempData("fabuchushou_bt","shi",r);var i=this;clearTimeout(i.delayId),i.delayId=setTimeout(function(){ryan.syswin.app.loadPage("ting")},800),e.stopPropagation(),e.preventDefault()}});return n}),define("text!publish_sell/modules/ting/view.html",[],function(){return'<ul class="cyList conM">\r\n    <li><div class="borderLine"><span></span></div></li>\r\n    <li><div class="borderLine"><span></span></div></li>\r\n    <li><div class="borderLine"><span></span></div></li>\r\n    <li><div class="borderLine"><span></span></div></li>\r\n    <li><div class="borderLine"><span></span></div></li>\r\n    <li><div class="borderLine"><span></span></div></li>\r\n    <li><div class="borderLine"><span></span></div></li>\r\n    <li><div class="borderLine"><span></span></div></li>\r\n    <li><div class="borderLine"><span></span></div></li>\r\n</ul>'}),define("publish_sell/modules/ting/view",["backbone","text!publish_sell/modules/ting/view.html"],function(e,t){var n=e.View.extend({template:_.template(t),delayId:0,initialize:function(){this.collection?this.collection.bind("Collection:getJsons",this.render,this):this.model&&this.model.bind("Model:getJson",this.render,this),this.initPages()},initPages:function(){},events:{"click #ting .cyList li":"li_subMenu"},render:function(e){return this.collection?e.result=="success"?$(this.el).html(this.template({data:this.collection.toJSON()})):($(this.el).html('<div class="nearby_noData"></div>'),$(this.el).find(".nearby_noData").height(window.innerHeight+60+"px")):this.model&&(e.result=="success"?$(this.el).html(this.template(this.model.toJSON())):($(this.el).html('<div class="nearby_noData"></div>'),$(this.el).find(".nearby_noData").height(window.innerHeight+60+"px"))),$(this.el).attr("id",(new Date).getTime()),this.trigger("ting:render",{result:e.result,data:e.data}),this.stickitData(),this},stickitData:function(){var e=$("#ting").find("#Rthelist").find("li"),t=ryan.syswin.app.global.user,n=t.getTempData("fabuchushou_bt","ting");e.each(function(e,t){var r=$(t).text().replace(/\s/gi,"");n&&n!=""&&n.indexOf(r)!=-1&&$(t).find("span").addClass("selected")})},li_subMenu:function(e){var t=$(e.currentTarget),n=$(e.target),r=n.text().replace(/\s/gi,"");t.parents().children("li").each(function(e,t){$(t).find("span").removeClass("selected")}),n.children("span").addClass("selected"),n.children("span").css("pointer-events","none"),ryan.syswin.app.global.user.setTempData("fabuchushou_bt","ting",r),clearTimeout(this.delayId),this.delayId=setTimeout(function(){ryan.syswin.app.loadPage("wei")},800),e.stopPropagation(),e.preventDefault()}});return n}),define("text!publish_sell/modules/wei/view.html",[],function(){return'<ul class="cyList conM">\r\n    <li><div class="borderLine"><span></span></div></li>\r\n    <li><div class="borderLine"><span></span></div></li>\r\n    <li><div class="borderLine"><span></span></div></li>\r\n    <li><div class="borderLine"><span></span></div></li>\r\n    <li><div class="borderLine"><span></span></div></li>\r\n    <li><div class="borderLine"><span></span></div></li>\r\n    <li><div class="borderLine"><span></span></div></li>\r\n    <li><div class="borderLine"><span></span></div></li>\r\n    <li><div class="borderLine"><span></span></div></li>\r\n</ul>'}),define("publish_sell/modules/wei/view",["backbone","text!publish_sell/modules/wei/view.html"],function(e,t){var n=e.View.extend({template:_.template(t),delayId:0,initialize:function(){this.collection?this.collection.bind("Collection:getJsons",this.render,this):this.model&&this.model.bind("Model:getJson",this.render,this),this.initPages()},initPages:function(){},events:{"click #wei .cyList li":"li_subMenu"},stickitData:function(){var e=$("#wei").find("#Rthelist").find("li"),t=ryan.syswin.app.global.user,n=t.getTempData("fabuchushou_bt","wei");e.each(function(e,t){var r=$(t).text().replace(/\s/gi,"");n&&n!=""&&n.indexOf(r)!=-1&&$(t).find("span").addClass("selected")})},render:function(e){return this.collection?e.result=="success"?$(this.el).html(this.template({data:this.collection.toJSON()})):($(this.el).html('<div class="nearby_noData"></div>'),$(this.el).find(".nearby_noData").height(window.innerHeight+60+"px")):this.model&&(e.result=="success"?$(this.el).html(this.template(this.model.toJSON())):($(this.el).html('<div class="nearby_noData"></div>'),$(this.el).find(".nearby_noData").height(window.innerHeight+60+"px"))),$(this.el).attr("id",(new Date).getTime()),this.trigger("wei:render",{result:e.result,data:e.data}),this.stickitData(),this},li_subMenu:function(e){var t=$(e.currentTarget),n=$(e.target),r=n.text().replace(/\s/gi,"");t.parents().children("li").each(function(e,t){$(t).find("span").removeClass("selected")}),n.children("span").addClass("selected"),n.children("span").css("pointer-events","none"),ryan.syswin.app.global.user.setTempData("fabuchushou_bt","wei",r),clearTimeout(this.delayId),this.delayId=setTimeout(function(){ryan.syswin.app.loadPage("fabuchushou_bt")},800),e.stopPropagation(),e.preventDefault()}});return n}),define("text!publish_sell/modules/fangyuantupian/view.html",[],function(){return'\r\n<div class="topTab">\r\n    <ul class="tabBox">\r\n        <li class="active"><a href="#">(8)</a></li>\r\n        <li><a href="#"></a></li>\r\n    </ul>\r\n</div>\r\n<div class="shikantu">\r\n    <ol class="conMs">\r\n        <li><a href="#"><img src="/html/project/images/Rectangle1.png" /></a></li>\r\n        <li><a href="#"><img src="/html/project/images/Rectangle1.png" /></a></li>\r\n        <li><a href="#"><img src="/html/project/images/Rectangle4.png" /></a></li>\r\n    </ol>\r\n    <ol class="conMs">\r\n        <li><a href="#"><img src="/html/project/images/Rectangle4.png" /></a></li>\r\n        <li><a href="#"><img src="/html/project/images/Rectangle4.png" /></a></li>\r\n        <li><a href="#"><img src="/html/project/images/Rectangle4.png" /></a></li>\r\n    </ol>\r\n    <ol class="conMs">\r\n        <li><a href="#"><img src="/html/project/images/Rectangle4.png" /></a></li>\r\n        <li><a href="#"><img src="/html/project/images/Rectangle4.png" /></a></li>\r\n        <li><a href="#"><img src="/html/project/images/Rectangle4.png" /></a></li>\r\n    </ol>\r\n    <ol class="conMs">\r\n        <li><a href="#"><img src="/html/project/images/Rectangle4.png" /></a></li>\r\n        <li><a href="#"><img src="/html/project/images/Rectangle4.png" /></a></li>\r\n        <li><img class="centerImg" src="/html/project/images/addBTn.png"/></li>\r\n    </ol>\r\n</div>\r\n<div class="huxingtu" style="display: none">\r\n    <ol class="conMs">\r\n        <li><a href="#"><img src="/html/project/images/Rectangle1.png" /></a></li>\r\n        <li><a href="#"><img src="/html/project/images/Rectangle1.png" /></a></li>\r\n        <li><a href="#"><img src="/html/project/images/Rectangle4.png" /></a></li>\r\n    </ol>\r\n    <ol class="conMs">\r\n        <li><a href="#"><img src="/html/project/images/Rectangle4.png" /></a></li>\r\n        <li><a href="#"><img src="/html/project/images/Rectangle4.png" /></a></li>\r\n        <li><a href="#"><img src="/html/project/images/Rectangle4.png" /></a></li>\r\n    </ol>\r\n    <ol class="conMs">\r\n        <li><a href="#"><img src="/html/project/images/Rectangle4.png" /></a></li>\r\n        <li><a href="#"><img src="/html/project/images/Rectangle4.png" /></a></li>\r\n        <li><img class="centerImg" src="/html/project/images/addBTn.png"/></li>\r\n    </ol>\r\n</div>\r\n\r\n\r\n'}),define("publish_sell/modules/fangyuantupian/view",["backbone","text!publish_sell/modules/fangyuantupian/view.html"],function(e,t){var n=e.View.extend({template:_.template(t),initialize:function(){this.collection?this.collection.bind("Collection:getJsons",this.render,this):this.model&&this.model.bind("Model:getJson",this.render,this),this.initPages()},initPages:function(){var e=$("#mark").find(".mui-btn");e.on("click",function(){mui("#mark").popover("hide"),$(".mui-backdrop.mui-backdrop-action.mui-active").remove()})},events:{"click #fangyuantupian #Rthelist .conMs li .centerImg":"uploadPic","click #fangyuantupian #Rthelist .tabBox li":"tabBtn"},render:function(e){return this.collection?e.result=="success"?$(this.el).html(this.template({data:this.collection.toJSON()})):($(this.el).html('<div class="nearby_noData"></div>'),$(this.el).find(".nearby_noData").height(window.innerHeight+60+"px")):this.model&&(e.result=="success"?$(this.el).html(this.template(this.model.toJSON())):($(this.el).html('<div class="nearby_noData"></div>'),$(this.el).find(".nearby_noData").height(window.innerHeight+60+"px"))),$(this.el).attr("id",(new Date).getTime()),this.trigger("fangyuantupian:render",{result:e.result,data:e.data}),this},uploadPic:function(e){mui("#mark").popover("toggle");var t=$(".mui-backdrop.mui-backdrop-action.mui-active").clone();$(".mui-backdrop.mui-backdrop-action.mui-active").remove(),$("#mark").parent().append(t),t.one("click",function(){mui("#mark").popover("hide"),$(".mui-backdrop.mui-backdrop-action.mui-active").remove()})},tabBtn:function(e){var t=$(e.currentTarget);t.each(function(e){$(this).hasClass("active")||($(this).addClass("active"),$(this).siblings().removeClass("active"));var n=$(this).text();n.indexOf("")>=0?(t.parents(".topTab").siblings(".shikantu").css("display","block"),t.parents(".topTab").siblings(".huxingtu").css("display","none")):n.indexOf("")>=0&&(t.parents(".topTab").siblings(".huxingtu").css("display","block"),t.parents(".topTab").siblings(".shikantu").css("display","none"))})}});return n}),define("text!publish_sell/modules/fangwuweizhi/view.html",[],function(){return'<form class="">\r\n    <ul class="field ldhMar">\r\n        <li><div class="bordertop"><label></label><div class="right"><a href=""><i class="Arrow"></i></a></div></div></li>\r\n        <li><div class="bordertop"><label></label><div class="right"><a href=""><i class="Arrow"></i></a></div></div></li>\r\n        <li><div class="bordertop"><label></label><div class="right"><a href=""><i class="Arrow"></i></a></div></div></li>\r\n    </ul>\r\n</form>\r\n'}),define("publish_sell/modules/fangwuweizhi/view",["backbone","text!publish_sell/modules/fangwuweizhi/view.html"],function(e,t){var n=e.View.extend({template:_.template(t),initialize:function(){this.collection?this.collection.bind("Collection:getJsons",this.render,this):this.model&&this.model.bind("Model:getJson",this.render,this),this.initPages()},initPages:function(){},stickitData:function(){var e=$("#fangwuweizhi").find("#Rthelist").find("li"),t=ryan.syswin.app.global.user,n=ryan.syswin.app.global.user.getTempData("fabuchushou_bt","xiaoqumingcheng"),r=ryan.syswin.app.global.user.getTempData("fabuchushou_bt","loudonghao"),i=ryan.syswin.app.global.user.getTempData("fabuchushou_bt","danyuanhao"),s=ryan.syswin.app.global.user.getTempData("fabuchushou_bt","taofanghao");r=ryan.syswin.app.inputIsNull(r)?r+"":"<i class='Arrow'></i>",i=ryan.syswin.app.inputIsNull(i)?i+"":"<i class='Arrow'></i>",s=ryan.syswin.app.inputIsNull(s)?s+"":"<i class='Arrow'></i>",e.each(function(e,t){var n=$(t).find("label").text().replace(/\s/gi,"");n==""?($(t).find("a").html(r),$(t).one("click",function(){ryan.syswin.app.loadPage("taofanghao","loudonghao")})):n==""?($(t).find("a").html(i),r.indexOf("")!=-1?$(t).hide():$(t).show(),$(t).one("click",function(){ryan.syswin.app.loadPage("taofanghao","danyuanhao")})):n==""&&($(t).find("a").html(s),i.indexOf("")!=-1?$(t).hide():$(t).show(),$(t).one("click",function(){ryan.syswin.app.loadPage("taofanghao","taofanghao")}))})},events:{},render:function(e){return this.collection?e.result=="success"?$(this.el).html(this.template({data:this.collection.toJSON()})):($(this.el).html('<div class="nearby_noData"></div>'),$(this.el).find(".nearby_noData").height(window.innerHeight+60+"px")):this.model&&(e.result=="success"?$(this.el).html(this.template(this.model.toJSON())):($(this.el).html('<div class="nearby_noData"></div>'),$(this.el).find(".nearby_noData").height(window.innerHeight+60+"px"))),$(this.el).attr("id",(new Date).getTime()),this.trigger("fangwuweizhi:render",{result:e.result,data:e.data}),this.stickitData(),this},onpress_Fun:function(e){var t=$(e.currentTarget);t.toggleClass("adfActive"),t.one("touchend",function(){t.toggleClass("adfActive")}),t.one("touchmove",function(){t.toggleClass("adfActive")}),e.stopPropagation(),e.preventDefault()},clickPicFun:function(e){var t=$(e.currentTarget),n=$(e.target);e.stopPropagation(),e.preventDefault()}});return n});var ryan=ryan||{};ryan.syswin=ryan.syswin||{},define("appConfig",["require","project/src/extends/model","project/src/extends/collection","publish_sell/modules/search/view","publish_sell/modules/fabuchushou_bt/view","publish_sell/modules/fabuchushou_xt/view","publish_sell/modules/fabuchenggong/view","publish_sell/modules/tijiaochenggong/view","publish_sell/modules/xingzhengqu/view","publish_sell/modules/pianqu/view","publish_sell/modules/chaoxiang/view","publish_sell/modules/xiaoqumingcheng/view","publish_sell/modules/zengsongsheshi/view","publish_sell/modules/fangyuanbiaoqian/view","publish_sell/modules/zhuangxiuchengdu/view","publish_sell/modules/taofanghao/view","publish_sell/modules/fangyuanmiaoshu/view","publish_sell/modules/shi/view","publish_sell/modules/ting/view","publish_sell/modules/wei/view","publish_sell/modules/fangyuantupian/view","publish_sell/modules/fangwuweizhi/view"],function(e){var t="../";return ryan.syswin.config={pageList:["fabuchushou_bt","fabuchushou_xt","fabuchenggong","tijiaochenggong","xingzhengqu","chaoxiang","pianqu","xiaoqumingcheng","zengsongsheshi","fangyuanbiaoqian","zhuangxiuchengdu","taofanghao","fangyuanmiaoshu","shi","ting","wei","fangyuantupian","fangwuweizhi"],subpageList:[""],footerMenuList:[""],footerMenuList_Activs:[""],scrollTypes:{fabuchushou_bt:2,fabuchushou_xt:2,fabuchenggong:2,tijiaochenggong:2,xingzhengqu:2,pianqu:2,chaoxiang:2,xiaoqumingcheng:1,zengsongsheshi:2},serveBaseUrl:"",serveURLS:{fabuchushou_bt:"publish_sell/modules/fabuchushou_bt/fabuchushou_bt.json",fabuchushou_xt:"publish_sell/modules/fabuchushou_xt/fabuchushou_xt.json",fabuchenggong:"publish_sell/modules/fabuchenggong/fabuchenggong.json",tijiaochenggong:"publish_sell/modules/tijiaochenggong/tijiaochenggong.json",xingzhengqu:"http://mobile.fangtoon.com/index.php",pianqu:"http://mobile.fangtoon.com/index.php",chaoxiang:"publish_sell/modules/chaoxiang/chaoxiang.json",xiaoqumingcheng:"publish_sell/modules/xiaoqumingcheng/xiaoqumingcheng.json",zengsongsheshi:"http://mobile.fangtoon.com/index.php",fangyuanbiaoqian:"http://mobile.fangtoon.com/index.php",zhuangxiuchengdu:"http://mobile.fangtoon.com/index.php",taofanghao:"publish_sell/modules/taofanghao/taofanghao.json",fangyuanmiaoshu:"publish_sell/modules/fangyuanmiaoshu/fangyuanmiaoshu.json",shi:"publish_sell/modules/shi/shi.json",ting:"publish_sell/modules/ting/ting.json",wei:"publish_sell/modules/wei/wei.json",fangyuantupian:"publish_sell/modules/fangyuantupian/fangyuantupian.json",fangwuweizhi:"publish_sell/modules/fangwuweizhi/fangwuweizhi.json"},searchURLS:{loudonghao:"publish_sell/modules/loudonghao/search.json",danyuanhao:"publish_sell/modules/danyuanhao/search.json",taofanghao:"publish_sell/modules/taofanghao/search.json",xiaoqumingcheng:"publish_sell/modules/xiaoqumingcheng/search.json"},baseUrl:"http://mobile.fangtoon.com/index.php"},e("project/src/extends/model"),e("project/src/extends/collection"),e("publish_sell/modules/search/view"),e("publish_sell/modules/fabuchushou_bt/view"),e("publish_sell/modules/fabuchushou_xt/view"),e("publish_sell/modules/fabuchenggong/view"),e("publish_sell/modules/tijiaochenggong/view"),e("publish_sell/modules/xingzhengqu/view"),e("publish_sell/modules/pianqu/view"),e("publish_sell/modules/chaoxiang/view"),e("publish_sell/modules/xiaoqumingcheng/view"),e("publish_sell/modules/zengsongsheshi/view"),e("publish_sell/modules/fangyuanbiaoqian/view"),e("publish_sell/modules/zhuangxiuchengdu/view"),e("publish_sell/modules/taofanghao/view"),e("publish_sell/modules/fangyuanmiaoshu/view"),e("publish_sell/modules/shi/view"),e("publish_sell/modules/ting/view"),e("publish_sell/modules/wei/view"),e("publish_sell/modules/fangyuantupian/view"),e("publish_sell/modules/fangwuweizhi/view"),ryan.syswin.config}),function(e){Backbone.Stickit={_handlers:[],addHandler:function(e){e=_.map(_.flatten([e]),function(e){return _.extend({updateModel:!0,updateView:!0,updateMethod:"text"},e)}),this._handlers=this._handlers.concat(e)}},_.extend(Backbone.View.prototype,{_modelBindings:null,unstickit:function(e){_.each(this._modelBindings,_.bind(function(t,n){if(e&&t.model!==e)return!1;t.model.off(t.event,t.fn),delete this._modelBindings[n]},this)),this._modelBindings=_.compact(this._modelBindings),this.$el.off(".stickit"+(e?"."+e.cid:""))},stickit:function(e,t){var n=this,r=e||this.model,h=".stickit."+r.cid,p=t||this.bindings||{};this._modelBindings||(this._modelBindings=[]),this.unstickit(r),_.each(_.keys(p),function(e){var t,d,v,m,g,y=p[e]||{},b=_.uniqueId();e!=":el"?t=n.$(e):(t=n.$el,e="");if(!t.length)return!1;_.isString(y)&&(y={observe:y}),g=a(t,y),v=g.observe||g.modelAttr,g.format&&!g.onGet&&(g.onGet=g.format),d=_.extend({bindKey:b},g.setOptions||{}),f(n,t,g,r,v),l(n,t,g,r,v),v&&(_.each(g.events||[],function(s){var u=s+h,a=function(e){var s=g.getVal.call(n,t,e,g);i(n,g.updateModel,s,g)&&o(r,v,s,d,n,g)};e===""?n.$el.on(u,a):n.$el.on(u,e,a)}),_.each(_.flatten([v]),function(e){s(r,n,"change:"+e,function(e,r,i){(i==null||i.bindKey!=b)&&c(n,t,g,u(e,v,g,n),e)})}),c(n,t,g,u(r,v,g,n),r,!0))}),this.remove=_.wrap(this.remove,function(e){n.unstickit(),e&&e.call(n)})}});var t=function(e,t){var n=(t||"").split("."),r=_.reduce(n,function(e,t){return e[t]},e);return r==null?e:r},n=function(e,t){if(t)return(_.isString(t)?e[t]:t).apply(e,_.toArray(arguments).slice(2))},r=function(e){return e.find("option").not(function(){return!this.selected})},i=function(e,t){return _.isBoolean(t)?t:_.isFunction(t)||_.isString(t)?n.apply(this,_.toArray(arguments)):!1},s=function(e,t,n,r){e.on(n,r,t),t._modelBindings.push({model:e,event:n,fn:r})},o=function(e,t,r,i,s,o){o.onSet&&(r=n(s,o.onSet,r,o)),e.set(t,r,i)},u=function(e,t,r,i){var s,o=function(t){var n=r.escape?e.escape(t):e.get(t);return _.isUndefined(n)?"":n};return s=_.isArray(t)?_.map(t,o):o(t),r.onGet?n(i,r.onGet,s,r):s},a=function(e,t){var n=[{updateModel:!1,updateView:!0,updateMethod:"text",update:function(e,t,n,r){e[r.updateMethod](t)},getVal:function(e,t,n){return e[n.updateMethod]()}}];_.each(Backbone.Stickit._handlers,function(t){e.is(t.selector)&&n.push(t)}),n.push(t);var r=_.extend.apply(_,n);return delete r.selector,r},f=function(e,t,n,r,i){var o=["autofocus","autoplay","async","checked","controls","defer","disabled","hidden","loop","multiple","open","readonly","required","scoped","selected"];_.each(n.attributes||[],function(n){var a="",f=n.observe||(n.observe=i),l=function(){var i=_.indexOf(o,n.name,!0)>-1?"prop":"attr",s=u(r,f,n,e);n.name=="class"?(t.removeClass(a).addClass(s),a=s):t[i](n.name,s)};n.format&&!n.onGet&&(n.onGet=n.format),_.each(_.flatten([f]),function(t){s(r,e,"change:"+t,l)}),l()})},l=function(e,t,r,i,o){if(r.visible==null)return;var a=function(){var s=r.visible,a=r.visibleFn,f=u(i,o,r,e),l=!!f;if(_.isFunction(s)||_.isString(s))l=n(e,s,f,r);a?n(e,a,t,l,r):l?t.show():t.hide()};s(i,e,"change:"+o,a),a()},c=function(e,t,r,s,o,u){if(!i(e,r.updateView,s,r))return;r.update.call(e,t,s,o,r),u||n(e,r.afterUpdate,t,s,r)};Backbone.Stickit.addHandler([{selector:'[contenteditable="true"]',updateMethod:"html",events:["keyup","change","paste","cut"]},{selector:"input",events:["keyup","change","paste","cut"],update:function(e,t){e.val(t)},getVal:function(e){var t=e.val();return e.is('[type="number"]')?t==null?t:Number(t):t}},{selector:"textarea",events:["keyup","change","paste","cut"],update:function(e,t){e.val(t)},getVal:function(e){return e.val()}},{selector:'input[type="radio"]',events:["change"],update:function(e,t){e.filter('[value="'+t+'"]').prop("checked",!0)},getVal:function(e){return e.filter(":checked").val()}},{selector:'input[type="checkbox"]',events:["change"],update:function(t,n,r,i){t.length>1?(n||(n=[]),_.each(t,function(t){_.indexOf(n,e(t).val())>-1?e(t).prop("checked",!0):e(t).prop("checked",!1)})):_.isBoolean(n)?t.prop("checked",n):t.prop("checked",n==t.val())},getVal:function(t){var n;if(t.length>1)n=_.reduce(t,function(t,n){return e(n).prop("checked")&&t.push(e(n).val()),t},[]);else{n=t.prop("checked");var r=t.val();r!="on"&&r!=null&&(n?n=t.val():n=null)}return n}},{selector:"select",events:["change"],update:function(r,i,s,o){var u,a=o.selectOptions,f=a.collection,l=r.prop("multiple"),c=function(n,r,i,s,o){_.each(n,function(n){var u=e("<option/>"),a=n;if(n!=null)u.text(t(n,i.labelPath||"label")),a=t(n,i.valuePath||"value");else if(r.find("option").length&&r.find("option").eq(0).data("stickit_bind_val")==null)return!1;u.data("stickit_bind_val",a),!_.isArray(a)&&!_.isObject(a)&&u.val(a),!o&&a!=null&&s!=null&&a==s||_.isObject(s)&&_.isEqual(a,s)?u.prop("selected",!0):o&&_.isArray(s)&&_.each(s,function(e){_.isObject(e)&&(e=t(e,i.valuePath)),(e==a||_.isObject(e)&&_.isEqual(a,e))&&u.prop("selected",!0)}),r.append(u)})};r.html("");var h=function(e,n){var r=window;return n.indexOf("this.")===0&&(r=e),n=n.replace(/^[a-z]*\.(.+)$/,"$1"),t(r,n)};u=_.isFunction(f)?n(this,f):h(this,f),i==null&&r.append("<option/>").find("option").prop("selected",!0).data("stickit_bind_val",i),_.isArray(u)?c(u,r,a,i,l):u instanceof Backbone.Collection?c(u.toJSON(),r,a,i,l):_.each(u.opt_labels,function(t){var n=e("<optgroup/>").attr("label",t);c(u[t],n,a,i,l),r.append(n)})},getVal:function(t){var n;return t.prop("multiple")?n=e(r(t).map(function(){return e(this).data("stickit_bind_val")})).get():n=r(t).data("stickit_bind_val"),n}}])}(window.jQuery||window.Zepto),define("backbone_stickit",function(){}),function(e,t){typeof define=="function"&&(define.amd||define.cmd)?define("mobilebone",["require"],function(n){return e.Mobilebone=t(e,{})}):e.Mobilebone=t(e,{})}(this,function(e,t){var n={},r=[],i=r.slice,s=/^.[^:#\[\.,]*$/,o="pushState"in history&&"replaceState"in history;t.support=o;if(o==0)return t;var u=!1;t.VERSION="2.0.2",t.captureLink=!0,t.captureForm=!0,t.rootTransition=e,t.mergeCallback=!0,t.classPage="page",t.classMask="mask",t.pushStateEnabled=!0,window.navigator.userAgent.indexOf("Firefox")>=0&&window.top!==window&&(t.pushStateEnabled=!1),t.transition=function(e,r,s,u){if(arguments.length==0||e==r)return;arguments.length==3&&isNaN(s*1)==1&&(u=s,s=!1),r=r||null,s=s||!1,u=u||{};var f={root:this.rootTransition,form:this.form||"slide",onpagefirstinto:this.onpagefirstinto,animationstart:this.animationstart,animationend:this.animationend,fallback:this.fallback,callback:this.callback},l=function(e){if(!e||!e.getAttribute)return{};var n={},r=a(e.getAttribute("data-params")||"");return["title","root","form"].forEach(function(t){n[t]=e.getAttribute("data-"+t)||r[t]||u[t]||f[t]}),typeof n.root=="string"&&(n.root=t.getFunction(n.root)),["onpagefirstinto","callback","fallback","animationstart","animationend"].forEach(function(i){if(t.mergeCallback==1&&typeof f[i]=="function"){var s=e.getAttribute("data-"+i)||r[i];typeof n.root[s]=="function"?n[i]=function(){f[i].apply(this,arguments),n.root[s].apply(this,arguments)}:typeof u[i]=="function"?n[i]=function(){f[i].apply(this,arguments),u[i].apply(this,arguments)}:n[i]=f[i]}else n[i]=e.getAttribute("data-"+i)||r[i]||u[i]||f[i]}),n},c=l(r),h=l(e);if(r!=null&&r.classList){r.classList.add("out"),r.classList.add(c.form),r.classList.remove("in"),r.classList[s?"add":"remove"]("reverse");var p=c.fallback;typeof p=="string"&&(p=c.root[p]),typeof p=="function"&&p.call(c.root,e,r,u.response)}if(e!=null&&e.classList){var d=h.title,v=document.querySelector("h1"),m=document.querySelector("."+this.classPage);d?(document.title=d,v&&(v.innerHTML=d,v.title=d)):m==e&&!r&&document.title;var g=u.id||e.id;u.remove!==!1&&n[g]&&n[g]!=e&&n[g].parentElement&&(n[g].parentElement.removeChild(n[g]),delete n[g]),e.style.display="block",e.clientWidth,e.classList.remove("out"),e.classList.add("in"),r&&e.classList.add(h.form),e.classList[s?"add":"remove"]("reverse");var y=h.onpagefirstinto;n[g]||(typeof y=="string"&&h.root[y]?h.root[y](e,r,u.response):typeof y=="function"&&y(e,r,u.response),i.call(e.querySelectorAll("form")).forEach(function(e){t.submit(e)}));var b="WebkitAppearance"in document.documentElement.style||typeof document.webkitHidden!="undefined";["animationstart","animationend"].forEach(function(t,r){var i=h[t],s="webkit"+t.replace(/^a|s|e/g,function(e){return e.toUpperCase()});if(!n[g]){var o=b?s:t;r&&e.addEventListener(o,function(){this.classList.contains("in")==0&&(this.style.display="none")}),typeof i=="string"&&h.root[i]?e.addEventListener(o,function(e){e.animationName.indexOf("slide")!=-1&&h.root[i](this,this.classList.contains("in")?"into":"out")}):typeof i=="function"&&e.addEventListener(o,function(e){e.animationName.indexOf("slide")!=-1&&i(this,this.classList.contains("in")?"into":"out")})}});var w=g;w&&/^#/.test(w)==0&&(w="#"+w),o&&this.pushStateEnabled&&u.history!==!1&&w&&history[r?"pushState":"replaceState"](null,document.title,w.replace(/^#/,"#&")),n[g]||(n[g]=e);var E=h.callback;typeof E=="string"&&(E=h.root[E]),typeof E=="function"&&E.call(h.root,e,r,u.response)}},t.getCleanUrl=function(e,t,n){var r="",i="",s="";if(e)if(e.nodeType==1){if(e.action)return e.getAttribute("action");r=e.getAttribute("href"),i=e.getAttribute("data-formdata")||e.getAttribute("data-data")}else e.url&&(r=e.url,i=e.data);if(!(r=r||t))return"";i=i||n||"";if(typeof i=="object"){var o=[];for(key in n)o.push(key+"="+encodeURIComponent(n[key]));o.length>0?i=o.join("&"):i=""}return s=r.split("#")[0].replace(/&+$/,""),s.slice(-1)=="?"&&(s=s.split("?")[0]),i!=""&&(/\?/.test(s)?(i=i.replace(/^&|\?/,""),s=s+"&"+i):i!=""&&(i=i.replace("?",""),s=s+"?"+i)),s},t.createPage=function(e,t,n){var r=null;if(!e)return;n=n||{};var i=document.querySelector(".in."+this.classPage),s;if(t)if(t.nodeType==1){if(t.href||t.action)s=t.getAttribute("data-title")||n.title;r=n.response}else r=t.response||n.response,s=t.title||n.title;var o=null,u=document.createElement("div");typeof e=="string"?u.innerHTML=e:u.appendChild(e);var a=u.getElementsByTagName("title")[0];(o=u.querySelector("."+this.classPage))?a?o.setAttribute("data-title",a.innerText):typeof s=="string"&&o.setAttribute("data-title",s):(u.className="page out",typeof s=="string"&&u.setAttribute("data-title",s),o=u),document.body.appendChild(o),u=null;var f={response:r||e,id:this.getCleanUrl(t)||o.id||"unique"+Date.now()};typeof n=="object"&&(typeof n.history!="undefined"&&(f.history=n.history),typeof n.remove!="undefined"&&(f.remove=n.remove)),this.transition(o,i,f)},t.getFunction=function(t){if(typeof t!="string")return;var n=e,r=t.split(".");for(var i=0;i<r.length;i+=1)if(!(n=n[r[i]]))break;return n},t.ajax=function(e){if(!e)return;var n={url:"",type:"",dataType:"",data:{},timeout:1e4,async:!0,username:"",password:"",success:function(){},error:function(){},complete:function(){}},r={},i=null,s=null,o={},u;if(e.nodeType==1){o=a(e.getAttribute("data-params")||"");for(key in n)r[key]=e.getAttribute("data-"+key)||o[key]||n[key],typeof n[key]=="function"&&typeof r[key]=="string"&&(r[key]=this.getFunction(r[key]),typeof r[key]!="function"&&(r[key]=n[key]));r.url=this.getCleanUrl(e,r.url);var f=e.tagName.toLowerCase();f=="form"&&(r.type=e.method,s=new FormData(e)),u=e.getAttribute("data-mask");if(u=="true"||u=="")i=e.querySelector("."+this.classMask)}else{if(!e.url)return;for(key2 in n)r[key2]=e[key2]||n[key2];r.url=this.getCleanUrl(null,r.url,r.data),r.title=e.title}typeof u!="string"&&(i=document.querySelector("body > ."+this.classMask)),i==null&&(i=document.createElement("div"),i.className=this.classMask,i.innerHTML='<i class="loading"></i>',typeof u=="string"?e.appendChild(i):document.body.appendChild(i)),i.style.visibility="visible";var l=new XMLHttpRequest;l.open(r.type||"GET",r.url+(/\?/.test(r.url)?"&":"?")+"r="+Date.now(),r.async,r.username,r.password),l.timeout=r.timeout,l.onload=function(){var n=null;if(l.status==200){if(r.dataType=="json"||r.dataType=="JSON")try{n=JSON.parse(l.response),r.response=n,t.createPage(t.jsonHandle(n),e,r)}catch(s){r.message="JSON parse error"+s.message,r.error.call(r,l,l.status)}else if(r.dataType=="unknown"){r.history=!1,r.remove=!1;try{n=JSON.parse(l.response),r.response=n,t.createPage(t.jsonHandle(n),e,r)}catch(s){n=l.response,t.createPage(n,e,r)}}else n=l.response,t.createPage(n,e,r);r.success.call(r,n,l.status)}else r.message="The status code exception!",r.error.call(r,l,l.status);r.complete.call(r,l,l.status),i.style.visibility="hidden"},l.onerror=function(e){r.message="Illegal request address or an unexpected network error!",r.error.call(r,l,l.status),i.style.visibility="hidden"},l.ontimeout=function(){r.message="The request timeout!",r.error.call(r,l,l.status),i.style.visibility="hidden"},l.send(s)},t.submit=function(e){if(!e||typeof e.action!="string")return;var n=e.getAttribute("data-ajax");if(n=="false"||this.captureForm==0&&n!="true")return;e.addEventListener("submit",function(e){t.ajax(this),e.preventDefault()})},t.isBack=function(e,n){var r=-1,s=-1;return history.tempBack==1?s=0:i.call(document.querySelectorAll("."+t.classPage)).forEach(function(t,i){t==e?r=i:t==n&&(s=i)}),history.tempBack=null,r<s},t.jsonHandle=function(e){return'<p style="text-align:center;">Dear master, if you see me, show that JSON parsing function is undefined!</p>'},t.init=function(){if(u==1)return"Don't repeat initialization!";var r=location.hash.replace("#&","#"),i=null;r==""||r=="#"?(n._initPage=document.querySelector("."+this.classPage),this.transition(n._initPage)):s.test(r)==1&&(i=document.querySelector(r))&&i.classList.contains(this.classPage)?this.transition(i):this.ajax({url:r.replace("#",""),dataType:"unknown",error:function(){i=document.querySelector("."+t.classPage),t.transition(i)}});var o="click",a=e.$||e.jQuery||e.Zepto;a&&a.fn&&a.fn.tap&&(o="tap"),this.captureLink==1&&(document.addEventListener(o,this.handleTapEvent),o=="tap"&&document.addEventListener("click",function(e){var n=e.target;if(!n)return;if(n.tagName.toLowerCase()!="a"&&!(n=n.getParentElementByTag("a")))return;var r=n.getAttribute("data-ajax"),i=n.href;if(n.getAttribute("data-rel")=="external"||r=="false"||i.split("/")[0]!==location.href.split("/")[0]&&r!="true"||t.captureLink==0&&r!="true")return;e.preventDefault()})),u=!0},t.handleTapEvent=function(e){var r=e.target||e.touches[0],i=r.href;(!i||/a/i.test(r.tagName)==0)&&(r=r.getParentElementByTag("a"))&&(i=r.href);var s=document.querySelector(".in."+t.classPage);if(s==null||!r)return;var o=r.getElementsByClassName(t.classMask)[0];if(o&&o.style.visibility!="hidden")return e.preventDefault(),!1;var u=t.captureLink==1,a=r.getAttribute("data-rel"),f=!1;a=="back"&&(f=!0);var l=a=="external";if(!i)return;if(r.getAttribute("href").replace(/#/g,"")===""){e.preventDefault();return}if(/^javascript/.test(i)){if(f==0)return}else{l=l||i.split("/")[0]!==location.href.split("/")[0];if((l==1||u==0)&&r.getAttribute("data-ajax")!="true")return}if(/^#/.test(r.getAttribute("href"))==1){var c=i.split("#")[1],h=c&&document.getElementById(c);f==0&&a=="auto"&&(f=t.isBack(h,s)),h&&t.transition(h,s,f),e.preventDefault()}else if(/^javascript/.test(i))history.tempBack=!0,history.back();else if(r.getAttribute("data-ajax")!="false"){var p=t.getCleanUrl(r),d=r.getAttribute("data-reload"),v=r.getAttribute("href");d!=null&&d!="false"||!n[p]?t.ajax(r):(f==0&&a=="auto"&&(f=t.isBack(n[p],s)),t.transition(n[p],s,f,{id:p})),e.preventDefault()}},Element.prototype.getParentElementByTag=function(e){if(!e)return null;var t=null,n=this,r=function(){n=n.parentElement;if(!n)return null;var i=n.tagName.toLowerCase();i===e?t=n:i=="body"?t=null:r()};return r(),t};var a=function(e){var t={};return typeof e=="string"&&e.split("&").forEach(function(e){var n=e.split("=");n.length>1&&(t[n[0]]=e.replace(n[0]+"=",""))}),t};return window.addEventListener("DOMContentLoaded",function(){u==0&&t.init()}),window.addEventListener("popstate",function(){var e=location.hash.replace("#&","").replace("#",""),r=null;if(e==""){r=n._initPage;if(!r)return}else r=n[e];if(!r){if(s.test(e)==0){t.ajax({url:e,dataType:"unknown"});return}r=document.querySelector("#"+e)}var i=document.querySelector(".in."+t.classPage);if(r&&r==i||t.pushStateEnabled==0)return;r&&t.transition(r,i,t.isBack(r,i),{history:!1,remove:!1})}),t}),function(e){function a(i){var s=n;u?n={x:i.targetTouches[0].pageX,y:i.targetTouches[0].pageY}:n={x:i.pageX,y:i.pageY};if(s.x!=n.x||s.y!=n.y){if(r!=null&&r!="")for(var o=0;o<r.length;o++)e("."+r[o]).removeClass(r[o]);t=!0}}var t=!1,n={},r=[],i,s,o,u="ontouchstart"in window;i=u?"touchstart":"mousedown",s=u?"touchmove":"mousemove",o=u?"touchend":"mouseup",e(document).bind(s,a),e.fn.downHighLight=function(s){e(this).bind(i,function(i){r.indexOf(s)==-1&&r.push(s),t=!1,u?n={x:i.targetTouches[0].pageX,y:i.targetTouches[0].pageY}:n={x:i.pageX,y:i.pageY},e(this).addClass(s)}),e(this).bind(o,function(n){e(this).removeClass(s),t||e(this).trigger("tapclick")})}}(Zepto),define("zepto_ext",["zepto"],function(e){return function(){var t,n;return t||e.$}}(this)),function(e,t){function A(e){return i===""?e:(e=e.charAt(0).toUpperCase()+e.substr(1),i+e)}var n=Math,r=t.createElement("div").style,i=function(){var e="t,webkitT,MozT,msT,OT".split(","),t,n=0,i=e.length;for(;n<i;n++){t=e[n]+"ransform";if(t in r)return e[n].substr(0,e[n].length-1)}return!1}(),s=i?"-"+i.toLowerCase()+"-":"",o=A("transform"),u=A("transitionProperty"),a=A("transitionDuration"),f=A("transformOrigin"),l=A("transitionTimingFunction"),c=A("transitionDelay"),h=/android/gi.test(navigator.appVersion),p=/iphone|ipad/gi.test(navigator.appVersion),d=/hp-tablet/gi.test(navigator.appVersion),v=A("perspective")in r,m="ontouchstart"in e&&!d,g=i!==!1,y=A("transition")in r,b="onorientationchange"in e?"orientationchange":"resize",w=m?"touchstart":"mousedown",E=m?"touchmove":"mousemove",S=m?"touchend":"mouseup",x=m?"touchcancel":"mouseup",T=function(){if(i===!1)return!1;var e={"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"};return e[i]}(),N=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){return setTimeout(e,1)}}(),C=function(){return e.cancelAnimationFrame||e.cancelRequestAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame||e.mozCancelRequestAnimationFrame||e.oCancelRequestAnimationFrame||e.msCancelRequestAnimationFrame}(),k=v?" translateZ(0)":"",L=function(n,r){var i=this,c;i.wrapper=typeof n=="object"?n:t.getElementById(n),i.wrapper.style.overflow="hidden",this.scroller=this.wrapper.getElementsByClassName(r.RScroller)[0]||this.wrapper.children[0],i.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:h,hideScrollbar:p,fadeScrollbar:p&&v,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(e){var t=e.explicitOriginalTarget?e.explicitOriginalTarget.nodeName.toLowerCase():e.target?e.target.nodeName.toLowerCase():"";t!="select"&&t!="option"&&t!="input"&&t!="textarea"&&e.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(c in r)i.options[c]=r[c];i.x=i.options.x,i.y=i.options.y,i.options.useTransform=g&&i.options.useTransform,i.options.hScrollbar=i.options.hScroll&&i.options.hScrollbar,i.options.vScrollbar=i.options.vScroll&&i.options.vScrollbar,i.options.zoom=i.options.useTransform&&i.options.zoom,i.options.useTransition=y&&i.options.useTransition,i.options.zoom&&h&&(k=""),i.scroller.style[u]=i.options.useTransform?s+"transform":"top left",i.scroller.style[a]="0",i.scroller.style[f]="0 0",i.options.useTransition&&(i.scroller.style[l]="cubic-bezier(0.33,0.66,0.66,1)"),i.options.useTransform?i.scroller.style[o]="translate("+i.x+"px,"+i.y+"px)"+k:i.scroller.style.cssText+=";position:absolute;top:"+i.y+"px;left:"+i.x+"px",i.options.useTransition&&(i.options.fixedScrollbar=!0),i.refresh(),i._bind(b,e),i._bind(w),m||i.options.wheelAction!="none"&&(i._bind("DOMMouseScroll"),i._bind("mousewheel")),i.options.checkDOMChanges&&(i.checkDOMTime=setInterval(function(){i._checkDOMChanges()},500))};L.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(e){var t=this;switch(e.type){case w:if(!m&&e.button!==0)return;t._start(e);break;case E:t._move(e);break;case S:case x:t._end(e);break;case b:t._resize();break;case"DOMMouseScroll":case"mousewheel":t._wheel(e);break;case T:t._transitionEnd(e)}},_checkDOMChanges:function(){if(this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale)return;this.refresh()},_scrollbar:function(e){var r=this,i;if(!r[e+"Scrollbar"]){r[e+"ScrollbarWrapper"]&&(g&&(r[e+"ScrollbarIndicator"].style[o]=""),r[e+"ScrollbarWrapper"].parentNode.removeChild(r[e+"ScrollbarWrapper"]),r[e+"ScrollbarWrapper"]=null,r[e+"ScrollbarIndicator"]=null);return}r[e+"ScrollbarWrapper"]||(i=t.createElement("div"),r.options.scrollbarClass?i.className=r.options.scrollbarClass+e.toUpperCase():i.style.cssText="position:absolute;z-nearby:100;"+(e=="h"?"height:7px;bottom:1px;left:2px;right:"+(r.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(r.hScrollbar?"7":"2")+"px;top:2px;right:1px"),i.style.cssText+=";pointer-events:none;"+s+"transition-property:opacity;"+s+"transition-duration:"+(r.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(r.options.hideScrollbar?"0":"1"),r.wrapper.appendChild(i),r[e+"ScrollbarWrapper"]=i,i=t.createElement("div"),r.options.scrollbarClass||(i.style.cssText="position:absolute;z-nearby:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+s+"background-clip:padding-box;"+s+"box-sizing:border-box;"+(e=="h"?"height:100%":"width:100%")+";"+s+"border-radius:3px;border-radius:3px"),i.style.cssText+=";pointer-events:none;"+s+"transition-property:"+s+"transform;"+s+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+s+"transition-duration:0;"+s+"transform: translate(0,0)"+k,r.options.useTransition&&(i.style.cssText+=";"+s+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),r[e+"ScrollbarWrapper"].appendChild(i),r[e+"ScrollbarIndicator"]=i),e=="h"?(r.hScrollbarSize=r.hScrollbarWrapper.clientWidth,r.hScrollbarIndicatorSize=n.max(n.round(r.hScrollbarSize*r.hScrollbarSize/r.scrollerW),8),r.hScrollbarIndicator.style.width=r.hScrollbarIndicatorSize+"px",r.hScrollbarMaxScroll=r.hScrollbarSize-r.hScrollbarIndicatorSize,r.hScrollbarProp=r.hScrollbarMaxScroll/r.maxScrollX):(r.vScrollbarSize=r.vScrollbarWrapper.clientHeight,r.vScrollbarIndicatorSize=n.max(n.round(r.vScrollbarSize*r.vScrollbarSize/r.scrollerH),8),r.vScrollbarIndicator.style.height=r.vScrollbarIndicatorSize+"px",r.vScrollbarMaxScroll=r.vScrollbarSize-r.vScrollbarIndicatorSize,r.vScrollbarProp=r.vScrollbarMaxScroll/r.maxScrollY),r._scrollbarPos(e,!0)},_resize:function(){var e=this;setTimeout(function(){e.refresh()},h?200:0)},_pos:function(e,t){if(this.zoomed)return;e=this.hScroll?e:0,t=this.vScroll?t:0,this.options.useTransform?this.scroller.style[o]="translate("+e+"px,"+t+"px) scale("+this.scale+")"+k:(e=n.round(e),t=n.round(t),this.scroller.style.left=e+"px",this.scroller.style.top=t+"px"),this.x=e,this.y=t,this._scrollbarPos("h"),this._scrollbarPos("v")},_scrollbarPos:function(e,t){var r=this,i=e=="h"?r.x:r.y,s;if(!r[e+"Scrollbar"])return;i=r[e+"ScrollbarProp"]*i,i<0?(r.options.fixedScrollbar||(s=r[e+"ScrollbarIndicatorSize"]+n.round(i*3),s<8&&(s=8),r[e+"ScrollbarIndicator"].style[e=="h"?"width":"height"]=s+"px"),i=0):i>r[e+"ScrollbarMaxScroll"]&&(r.options.fixedScrollbar?i=r[e+"ScrollbarMaxScroll"]:(s=r[e+"ScrollbarIndicatorSize"]-n.round((i-r[e+"ScrollbarMaxScroll"])*3),s<8&&(s=8),r[e+"ScrollbarIndicator"].style[e=="h"?"width":"height"]=s+"px",i=r[e+"ScrollbarMaxScroll"]+(r[e+"ScrollbarIndicatorSize"]-s))),r[e+"ScrollbarWrapper"].style[c]="0",r[e+"ScrollbarWrapper"].style.opacity=t&&r.options.hideScrollbar?"0":"1",r[e+"ScrollbarIndicator"].style[o]="translate("+(e=="h"?i+"px,0)":"0,"+i+"px)")+k},_start:function(t){var r=this,i=m?t.touches[0]:t,s,u,a,f,l;if(!r.enabled)return;r.options.onBeforeScrollStart&&r.options.onBeforeScrollStart.call(r,t),(r.options.useTransition||r.options.zoom)&&r._transitionTime(0),r.moved=!1,r.animating=!1,r.zoomed=!1,r.distX=0,r.distY=0,r.absDistX=0,r.absDistY=0,r.dirX=0,r.dirY=0,r.options.zoom&&m&&t.touches.length>1&&(f=n.abs(t.touches[0].pageX-t.touches[1].pageX),l=n.abs(t.touches[0].pageY-t.touches[1].pageY),r.touchesDistStart=n.sqrt(f*f+l*l),r.originX=n.abs(t.touches[0].pageX+t.touches[1].pageX-r.wrapperOffsetLeft*2)/2-r.x,r.originY=n.abs(t.touches[0].pageY+t.touches[1].pageY-r.wrapperOffsetTop*2)/2-r.y,r.options.onZoomStart&&r.options.onZoomStart.call(r,t));if(r.options.momentum){r.options.useTransform?(s=getComputedStyle(r.scroller,null)[o].replace(/[^0-9\-.,]/g,"").split(","),u=+(s[12]||s[4]),a=+(s[13]||s[5])):(u=+getComputedStyle(r.scroller,null).left.replace(/[^0-9-]/g,""),a=+getComputedStyle(r.scroller,null).top.replace(/[^0-9-]/g,""));if(u!=r.x||a!=r.y)r.options.useTransition?r._unbind(T):C(r.aniTime),r.steps=[],r._pos(u,a),r.options.onScrollEnd&&r.options.onScrollEnd.call(r)}r.absStartX=r.x,r.absStartY=r.y,r.startX=r.x,r.startY=r.y,r.pointX=i.pageX,r.pointY=i.pageY,r.startTime=t.timeStamp||Date.now(),r.options.onScrollStart&&r.options.onScrollStart.call(r,t),r._bind(E,e),r._bind(S,e),r._bind(x,e)},_move:function(e){var t=this,r=m?e.touches[0]:e,i=r.pageX-t.pointX,s=r.pageY-t.pointY,u=t.x+i,a=t.y+s,f,l,c,h=e.timeStamp||Date.now();t.options.onBeforeScrollMove&&t.options.onBeforeScrollMove.call(t,e);if(t.options.zoom&&m&&e.touches.length>1){f=n.abs(e.touches[0].pageX-e.touches[1].pageX),l=n.abs(e.touches[0].pageY-e.touches[1].pageY),t.touchesDist=n.sqrt(f*f+l*l),t.zoomed=!0,c=1/t.touchesDistStart*t.touchesDist*this.scale,c<t.options.zoomMin?c=.5*t.options.zoomMin*Math.pow(2,c/t.options.zoomMin):c>t.options.zoomMax&&(c=2*t.options.zoomMax*Math.pow(.5,t.options.zoomMax/c)),t.lastScale=c/this.scale,u=this.originX-this.originX*t.lastScale+this.x,a=this.originY-this.originY*t.lastScale+this.y,this.scroller.style[o]="translate("+u+"px,"+a+"px) scale("+c+")"+k,t.options.onZoom&&t.options.onZoom.call(t,e);return}t.pointX=r.pageX,t.pointY=r.pageY;if(u>0||u<t.maxScrollX)u=t.options.bounce?t.x+i/2:u>=0||t.maxScrollX>=0?0:t.maxScrollX;if(a>t.minScrollY||a<t.maxScrollY)a=t.options.bounce?t.y+s/2:a>=t.minScrollY||t.maxScrollY>=0?t.minScrollY:t.maxScrollY;t.distX+=i,t.distY+=s,t.absDistX=n.abs(t.distX),t.absDistY=n.abs(t.distY);if(t.absDistX<6&&t.absDistY<6)return;t.options.lockDirection&&(t.absDistX>t.absDistY+5?(a=t.y,s=0):t.absDistY>t.absDistX+5&&(u=t.x,i=0)),t.moved=!0,t._pos(u,a),t.dirX=i>0?-1:i<0?1:0,t.dirY=s>0?-1:s<0?1:0,h-t.startTime>300&&(t.startTime=h,t.startX=t.x,t.startY=t.y),t.options.onScrollMove&&t.options.onScrollMove.call(t,e)},_end:function(r){if(m&&r.touches.length!==0)return;var i=this,s=m?r.changedTouches[0]:r,u,f,l={dist:0,time:0},c={dist:0,time:0},h=(r.timeStamp||Date.now())-i.startTime,p=i.x,d=i.y,v,g,y,b,w;i._unbind(E,e),i._unbind(S,e),i._unbind(x,e),i.options.onBeforeScrollEnd&&i.options.onBeforeScrollEnd.call(i,r);if(i.zoomed){w=i.scale*i.lastScale,w=Math.max(i.options.zoomMin,w),w=Math.min(i.options.zoomMax,w),i.lastScale=w/i.scale,i.scale=w,i.x=i.originX-i.originX*i.lastScale+i.x,i.y=i.originY-i.originY*i.lastScale+i.y,i.scroller.style[a]="200ms",i.scroller.style[o]="translate("+i.x+"px,"+i.y+"px) scale("+i.scale+")"+k,i.zoomed=!1,i.refresh(),i.options.onZoomEnd&&i.options.onZoomEnd.call(i,r);return}if(!i.moved){m&&(i.doubleTapTimer&&i.options.zoom?(clearTimeout(i.doubleTapTimer),i.doubleTapTimer=null,i.options.onZoomStart&&i.options.onZoomStart.call(i,r),i.zoom(i.pointX,i.pointY,i.scale==1?i.options.doubleTapZoom:1),i.options.onZoomEnd&&setTimeout(function(){i.options.onZoomEnd.call(i,r)},200)):this.options.handleClick&&(i.doubleTapTimer=setTimeout(function(){i.doubleTapTimer=null,u=s.target;while(u.nodeType!=1)u=u.parentNode;u.tagName!="SELECT"&&u.tagName!="INPUT"&&u.tagName!="TEXTAREA"&&(f=t.createEvent("MouseEvents"),f.initMouseEvent("click",!0,!0,r.view,1,s.screenX,s.screenY,s.clientX,s.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,0,null),f._fake=!0,u.dispatchEvent(f))},i.options.zoom?250:0))),i._resetPos(400),i.options.onTouchEnd&&i.options.onTouchEnd.call(i,r);return}if(h<300&&i.options.momentum){l=p?i._momentum(p-i.startX,h,-i.x,i.scrollerW-i.wrapperW+i.x,i.options.bounce?i.wrapperW:0):l,c=d?i._momentum(d-i.startY,h,-i.y,i.maxScrollY<0?i.scrollerH-i.wrapperH+i.y-i.minScrollY:0,i.options.bounce?i.wrapperH:0):c,p=i.x+l.dist,d=i.y+c.dist;if(i.x>0&&p>0||i.x<i.maxScrollX&&p<i.maxScrollX)l={dist:0,time:0};if(i.y>i.minScrollY&&d>i.minScrollY||i.y<i.maxScrollY&&d<i.maxScrollY)c={dist:0,time:0}}if(l.dist||c.dist){y=n.max(n.max(l.time,c.time),10),i.options.snap&&(v=p-i.absStartX,g=d-i.absStartY,n.abs(v)<i.options.snapThreshold&&n.abs(g)<i.options.snapThreshold?i.scrollTo(i.absStartX,i.absStartY,200):(b=i._snap(p,d),p=b.x,d=b.y,y=n.max(b.time,y))),i.scrollTo(n.round(p),n.round(d),y),i.options.onTouchEnd&&i.options.onTouchEnd.call(i,r);return}if(i.options.snap){v=p-i.absStartX,g=d-i.absStartY,n.abs(v)<i.options.snapThreshold&&n.abs(g)<i.options.snapThreshold?i.scrollTo(i.absStartX,i.absStartY,200):(b=i._snap(i.x,i.y),(b.x!=i.x||b.y!=i.y)&&i.scrollTo(b.x,b.y,b.time)),i.options.onTouchEnd&&i.options.onTouchEnd.call(i,r);return}i._resetPos(200),i.options.onTouchEnd&&i.options.onTouchEnd.call(i,r)},_resetPos:function(e){var t=this,n=t.x>=0?0:t.x<t.maxScrollX?t.maxScrollX:t.x,r=t.y>=t.minScrollY||t.maxScrollY>0?t.minScrollY:t.y<t.maxScrollY?t.maxScrollY:t.y;if(n==t.x&&r==t.y){t.moved&&(t.moved=!1,t.options.onScrollEnd&&t.options.onScrollEnd.call(t)),t.hScrollbar&&t.options.hideScrollbar&&(i=="webkit"&&(t.hScrollbarWrapper.style[c]="300ms"),t.hScrollbarWrapper.style.opacity="0"),t.vScrollbar&&t.options.hideScrollbar&&(i=="webkit"&&(t.vScrollbarWrapper.style[c]="300ms"),t.vScrollbarWrapper.style.opacity="0");return}t.scrollTo(n,r,e||0)},_wheel:function(e){var t=this,n,r,i,s,o;if("wheelDeltaX"in e)n=e.wheelDeltaX/12,r=e.wheelDeltaY/12;else if("wheelDelta"in e)n=r=e.wheelDelta/12;else{if(!("detail"in e))return;n=r=-e.detail*3}if(t.options.wheelAction=="zoom"){o=t.scale*Math.pow(2,1/3*(r?r/Math.abs(r):0)),o<t.options.zoomMin&&(o=t.options.zoomMin),o>t.options.zoomMax&&(o=t.options.zoomMax),o!=t.scale&&(!t.wheelZoomCount&&t.options.onZoomStart&&t.options.onZoomStart.call(t,e),t.wheelZoomCount++,t.zoom(e.pageX,e.pageY,o,400),setTimeout(function(){t.wheelZoomCount--,!t.wheelZoomCount&&t.options.onZoomEnd&&t.options.onZoomEnd.call(t,e)},400));return}i=t.x+n,s=t.y+r,i>0?i=0:i<t.maxScrollX&&(i=t.maxScrollX),s>t.minScrollY?s=t.minScrollY:s<t.maxScrollY&&(s=t.maxScrollY),t.maxScrollY<0&&t.scrollTo(i,s,0)},_transitionEnd:function(e){var t=this;if(e.target!=t.scroller)return;t._unbind(T),t._startAni()},_startAni:function(){var e=this,t=e.x,r=e.y,i=Date.now(),s,o,u;if(e.animating)return;if(!e.steps.length){e._resetPos(400);return}s=e.steps.shift(),s.x==t&&s.y==r&&(s.time=0),e.animating=!0,e.moved=!0;if(e.options.useTransition){e._transitionTime(s.time),e._pos(s.x,s.y),e.animating=!1,s.time?e._bind(T):e._resetPos(0);return}u=function(){var a=Date.now(),f,l;if(a>=i+s.time){e._pos(s.x,s.y),e.animating=!1,e.options.onAnimationEnd&&e.options.onAnimationEnd.call(e),e._startAni();return}a=(a-i)/s.time-1,o=n.sqrt(1-a*a),f=(s.x-t)*o+t,l=(s.y-r)*o+r,e._pos(f,l),e.animating&&(e.aniTime=N(u))},u()},_transitionTime:function(e){e+="ms",this.scroller.style[a]=e,this.hScrollbar&&(this.hScrollbarIndicator.style[a]=e),this.vScrollbar&&(this.vScrollbarIndicator.style[a]=e)},_momentum:function(e,t,r,i,s){var o=6e-4,u=n.abs(e)/t,a=u*u/(2*o),f=0,l=0;return e>0&&a>r?(l=s/(6/(a/u*o)),r+=l,u=u*r/a,a=r):e<0&&a>i&&(l=s/(6/(a/u*o)),i+=l,u=u*i/a,a=i),a*=e<0?-1:1,f=u/o,{dist:a,time:n.round(f)}},_offset:function(e){var t=-e.offsetLeft,n=-e.offsetTop;while(e=e.offsetParent)t-=e.offsetLeft,n-=e.offsetTop;return e!=this.wrapper&&(t*=this.scale,n*=this.scale),{left:t,top:n}},_snap:function(e,t){var r=this,i,s,o,u,a,f;o=r.pagesX.length-1;for(i=0,s=r.pagesX.length;i<s;i++)if(e>=r.pagesX[i]){o=i;break}o==r.currPageX&&o>0&&r.dirX<0&&o--,e=r.pagesX[o],a=n.abs(e-r.pagesX[r.currPageX]),a=a?n.abs(r.x-e)/a*500:0,r.currPageX=o,o=r.pagesY.length-1;for(i=0;i<o;i++)if(t>=r.pagesY[i]){o=i;break}return o==r.currPageY&&o>0&&r.dirY<0&&o--,t=r.pagesY[o],f=n.abs(t-r.pagesY[r.currPageY]),f=f?n.abs(r.y-t)/f*500:0,r.currPageY=o,u=n.round(n.max(a,f))||200,{x:e,y:t,time:u}},_bind:function(e,t,n){(t||this.scroller).addEventListener(e,this,!!n)},_unbind:function(e,t,n){(t||this.scroller).removeEventListener(e,this,!!n)},destroy:function(){var t=this;t.scroller.style[o]="",t.hScrollbar=!1,t.vScrollbar=!1,t._scrollbar("h"),t._scrollbar("v"),t._unbind(b,e),t._unbind(w),t._unbind(E,e),t._unbind(S,e),t._unbind(x,e),t.options.hasTouch||(t._unbind("DOMMouseScroll"),t._unbind("mousewheel")),t.options.useTransition&&t._unbind(T),t.options.checkDOMChanges&&clearInterval(t.checkDOMTime),t.options.onDestroy&&t.options.onDestroy.call(t)},refresh:function(){var e=this,t,r,i,s,o=0,u=0;e.scale<e.options.zoomMin&&(e.scale=e.options.zoomMin),e.wrapperW=e.wrapper.clientWidth||1,e.wrapperH=e.wrapper.clientHeight||1,e.minScrollY=-e.options.topOffset||0,e.scrollerW=n.round(e.scroller.offsetWidth*e.scale),e.scrollerH=n.round((e.scroller.offsetHeight+e.minScrollY)*e.scale),e.maxScrollX=e.wrapperW-e.scrollerW,e.maxScrollY=e.wrapperH-e.scrollerH+e.minScrollY,e.dirX=0,e.dirY=0,e.options.onRefresh&&e.options.onRefresh.call(e),e.hScroll=e.options.hScroll&&e.maxScrollX<0,e.vScroll=e.options.vScroll&&(!e.options.bounceLock&&!e.hScroll||e.scrollerH>e.wrapperH),e.hScrollbar=e.hScroll&&e.options.hScrollbar,e.vScrollbar=e.vScroll&&e.options.vScrollbar&&e.scrollerH>e.wrapperH,t=e._offset(e.wrapper),e.wrapperOffsetLeft=-t.left,e.wrapperOffsetTop=-t.top;if(typeof e.options.snap=="string"){e.pagesX=[],e.pagesY=[],s=e.scroller.querySelectorAll(e.options.snap);for(r=0,i=s.length;r<i;r++)o=e._offset(s[r]),o.left+=e.wrapperOffsetLeft,o.top+=e.wrapperOffsetTop,e.pagesX[r]=o.left<e.maxScrollX?e.maxScrollX:o.left*e.scale,e.pagesY[r]=o.top<e.maxScrollY?e.maxScrollY:o.top*e.scale}else if(e.options.snap){e.pagesX=[];while(o>=e.maxScrollX)e.pagesX[u]=o,o-=e.wrapperW,u++;e.maxScrollX%e.wrapperW&&(e.pagesX[e.pagesX.length]=e.maxScrollX-e.pagesX[e.pagesX.length-1]+e.pagesX[e.pagesX.length-1]),o=0,u=0,e.pagesY=[];while(o>=e.maxScrollY)e.pagesY[u]=o,o-=e.wrapperH,u++;e.maxScrollY%e.wrapperH&&(e.pagesY[e.pagesY.length]=e.maxScrollY-e.pagesY[e.pagesY.length-1]+e.pagesY[e.pagesY.length-1])}e._scrollbar("h"),e._scrollbar("v"),e.zoomed||(e.scroller.style[a]="0",e._resetPos(400))},scrollTo:function(e,t,n,r){var i=this,s=e,o,u;i.stop(),s.length||(s=[{x:e,y:t,time:n,relative:r}]);for(o=0,u=s.length;o<u;o++)s[o].relative&&(s[o].x=i.x-s[o].x,s[o].y=i.y-s[o].y),i.steps.push({x:s[o].x,y:s[o].y,time:s[o].time||0});i._startAni()},scrollToElement:function(e,t){var r=this,i;e=e.nodeType?e:r.scroller.querySelector(e);if(!e)return;i=r._offset(e),i.left+=r.wrapperOffsetLeft,i.top+=r.wrapperOffsetTop,i.left=i.left>0?0:i.left<r.maxScrollX?r.maxScrollX:i.left,i.top=i.top>r.minScrollY?r.minScrollY:i.top<r.maxScrollY?r.maxScrollY:i.top,t=t===undefined?n.max(n.abs(i.left)*2,n.abs(i.top)*2):t,r.scrollTo(i.left,i.top,t)},scrollToPage:function(e,t,n){var r=this,i,s;n=n===undefined?400:n,r.options.onScrollStart&&r.options.onScrollStart.call(r),r.options.snap?(e=e=="next"?r.currPageX+1:e=="prev"?r.currPageX-1:e,t=t=="next"?r.currPageY+1:t=="prev"?r.currPageY-1:t,e=e<0?0:e>r.pagesX.length-1?r.pagesX.length-1:e,t=t<0?0:t>r.pagesY.length-1?r.pagesY.length-1:t,r.currPageX=e,r.currPageY=t,i=r.pagesX[e],s=r.pagesY[t]):(i=-r.wrapperW*e,s=-r.wrapperH*t,i<r.maxScrollX&&(i=r.maxScrollX),s<r.maxScrollY&&(s=r.maxScrollY)),r.scrollTo(i,s,n)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(E,e),this._unbind(S,e),this._unbind(x,e)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(T):C(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1},zoom:function(e,t,n,r){var i=this,s=n/i.scale;if(!i.options.useTransform)return;i.zoomed=!0,r=r===undefined?200:r,e=e-i.wrapperOffsetLeft-i.x,t=t-i.wrapperOffsetTop-i.y,i.x=e-e*s+i.x,i.y=t-t*s+i.y,i.scale=n,i.refresh(),i.x=i.x>0?0:i.x<i.maxScrollX?i.maxScrollX:i.x,i.y=i.y>i.minScrollY?i.minScrollY:i.y<i.maxScrollY?i.maxScrollY:i.y,i.scroller.style[a]=r+"ms",i.scroller.style[o]="translate("+i.x+"px,"+i.y+"px) scale("+n+")"+k,i.zoomed=!1},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}},r=null,typeof exports!="undefined"?exports.iScroll=L:e.iScroll=L}(window,document),define("iscroll",function(){}),define("isc_extend",["iscroll","zepto"],function(e,t){function n(e,n){function f(){ryan.syswin.app[t(e).attr("id")]().update(function(n,i){if(i.result=="success"){var s=t(e).find(".index_noData");s&&s.remove(),t(e).find(".Rthelist").prepend(n)}else t(e).find(".Rthelist").html(n);r.refresh()})}function l(){ryan.syswin.app[t(e).attr("id")]().update(function(n,i){if(i.result=="success"){var s=t(e).find(".index_noData");s&&s.remove(),t(e).find(".Rthelist").append(n)}else t(e).find(".Rthelist").html(n);o.style.visibility="hidden",r.refresh()})}var r,i,s,o,u,a={type:"3"};isNaN(n.type)||(a.type=n.type);if(a&&a.type=="1"){var c=function(){this.scrollToElement=function(){},this.refresh=function(){},this.destroy=function(){}};return r=new c,r}return i=t(e).find(".pullDown")[0],o=t(e).find(".pullUp")[0],a&&a.type=="2"||!i&&!o?(i=document.createElement("div"),o=document.createElement("div"),r=new iScroll(e.querySelector(".Rwrapper"),{RScroller:"Rscroller",fixedScrollbar:!1,click:!0,tap:!0,mouseWheel:!0,scrollbars:!0,probeType:2,momentum:!0,vScrollbar:!1}),r):(u=o.offsetHeight,s=i.offsetHeight,r=new iScroll(e.querySelector(".Rwrapper"),{RScroller:"Rscroller",click:!0,tap:!0,mouseWheel:!0,scrollbars:!0,probeType:2,momentum:!0,useTransition:!0,topOffset:s,vScrollbar:!1,onRefresh:function(){i.className.match("Rloading")?(i.className="pullDown",i.querySelector(".pullDownLabel").innerHTML="..."):o.className.match("Rloading")&&(o.className="pullUp",o.querySelector(".pullUpLabel").innerHTML="...")},onScrollStart:function(){o.style.display="block",o.style.visibility="visible"},onScrollMove:function(){this.y>5&&!i.className.match("flip")?(i.className="pullDown flip",i.querySelector(".pullDownLabel").innerHTML="...",this.minScrollY=0):this.y<5&&i.className.match("flip")?(i.className="pullDown",i.querySelector(".pullDownLabel").innerHTML="...",this.minScrollY=-s):this.y<this.maxScrollY-5&&!o.className.match("flip")?(o.className="pullUp flip",o.querySelector(".pullUpLabel").innerHTML="...",this.maxScrollY=this.maxScrollY):this.y>this.maxScrollY+5&&o.className.match("flip")&&(o.className="pullUp",o.querySelector(".pullUpLabel").innerHTML="...",this.maxScrollY=u)},onScrollEnd:function(){i.className.match("flip")?(i.className="pullDown Rloading",i.querySelector(".pullDownLabel").innerHTML="...",f()):o.className.match("flip")&&(o.className="pullUp Rloading",o.querySelector(".pullUpLabel").innerHTML="...",l())}}),r)}return{init:function(e,t){var r=n(e,t);return r}}}),define("mb_extend",["mobilebone"],function(e){return e.onpagefirstinto=function(t){console.log(":",t);var n=ryan.syswin.app[$(t).attr("id")];if(!n)throw new Error("appPages.jsreturn[updata]:"+$(t).attr("id"))+"{}";n().init(),n().update(function(e,n){$(t).find(".Rthelist").empty().append(e),ryan.syswin.app.scroll.addScroll(t)}),/Android/i.test(navigator.userAgent)&&t.addEventListener("tap",e.handleTapEvent,!1)},e.callback=function(e,t){console.log("callback:",t);var n=function(e){return typeof e=="string"&&e.length>0?!0:!1},r=document.querySelector("body > .header"),i=document.querySelector("body > .footer"),s=null,o=null,u=null,a=null;i&&e&&n(e.id)&&(s=i.querySelector("a[href$="+e.id+"]"),i&&t&&n(t.id)?o=i.querySelector("a[href$="+t.id+"]"):i&&u==null&&(i.className="footer in"),u==null?(s&&s.classList.add("active"),o&&o.classList.remove("active"),i&&a!=null&&(i.className="footer slide reverse in")):i&&t&&a==null&&(i.className="footer slide out")),ryan.syswin.app.global.currentPage=e,ryan.syswin.app.footer.setVisilbe(e),ryan.syswin.app.footer.highLight(e)},e.createPage=function(e,t,n){var r=null;if(!e)return;n=n||{};var i=document.querySelector(".in."+this.classPage),s;if(t)if(t.nodeType==1){if(t.href||t.action)s=t.getAttribute("data-title")||n.title;r=n.response}else r=t.response||n.response,s=t.title||n.title;var o=null,u=document.createElement("div");typeof e=="string"?u.innerHTML=e:u.appendChild(e);var a=u.getElementsByTagName("title")[0];(o=u.querySelector("."+this.classPage))?a||typeof s=="string":(u.className="page out",o=u),window.page=o;var f=$(o).find(".footer");f&&f.length&&f.remove(),f=null,document.body.appendChild(o),u=null;var l={response:r||e,id:this.getCleanUrl(t)||o.id||"unique"+Date.now()};typeof n=="object"&&(typeof n.history!="undefined"&&(l.history=n.history),typeof n.remove!="undefined"&&(l.remove=n.remove)),ryan.syswin.app.global.create_page=o,this.transition(o,i,l)},e.animationstart=function(e,t,n){$("#"+e.id).css("pointer-events","none"),ryan.syswin.app.global.isPageMoving=!0},e.animationend=function(e,t,n){setTimeout(function(){$("#"+e.id).css("pointer-events","auto"),ryan.syswin.app.global.isPageMoving=!1},500);if(t=="out"){var r=ryan.syswin.app[$(e).attr("id")];if(!r)throw new Error("project.js:"+$(pageinto).attr("id"))+"{}"}},e.fallback=function(e,t){var n=ryan.syswin.app[$(t).attr("id")];if(!n)throw new Error("appPages.jsreturn[leave]:"+$(pageinto).attr("id"))+"{}";console.log(":",n()),n().leave(function(){})},"void"});var mui=function(e,t){var n=/complete|loaded|interactive/,r=/^#([\w-]*)$/,i=/^\.([\w-]+)$/,s=/^[\w-]+$/,o=/translate(?:3d)?\((.+?)\)/,u=/matrix(3d)?\((.+?)\)/,a=function(t,n){if(n=n||e,!t)return f();if("object"==typeof t)return f([t],null);if("function"==typeof t)return a.ready(t);try{if(r.test(t)){var i=e.getElementById(RegExp.$1);return f(i?[i]:[])}return f(a.qsa(t,n),t)}catch(s){}return f()},f=function(e,t){return e=e||[],Object.setPrototypeOf(e,a.fn),e.selector=t||"",e};a.uuid=0,a.data={},a.extend=function(e,n,r){e||(e={}),n||(n={});for(var i in n)n[i]!==t&&(r&&"object"==typeof e[i]?a.extend(e[i],n[i],r):e[i]=n[i]);return e},a.noop=function(){},a.slice=[].slice,a.type=function(e){return null===e?String(e):l[{}.toString.call(e)]||"object"},a.isArray=Array.isArray||function(e){return e instanceof Array},a.isWindow=function(e){return null!==e&&e===e.window},a.isObject=function(e){return"object"===a.type(e)},a.isPlainObject=function(e){return a.isObject(e)&&!a.isWindow(e)&&Object.getPrototypeOf(e)===Object.prototype},a.isFunction=function(e){return"function"===a.type(e)},a.qsa=function(t,n){return n=n||e,a.slice.call(i.test(t)?n.getElementsByClassName(RegExp.$1):s.test(t)?n.getElementsByTagName(t):n.querySelectorAll(t))},a.ready=function(t){return n.test(e.readyState)?t(a):e.addEventListener("DOMContentLoaded",function(){t(a)},!1),this},a.map=function(e,t){var n,r,i,s=[];if("number"==typeof e.length)for(r=0,len=e.length;r<len;r++)n=t(e[r],r),null!==n&&s.push(n);else for(i in e)n=t(e[i],i),null!==n&&s.push(n);return s.length>0?[].concat.apply([],s):s},a.each=function(e,t){if("number"==typeof e.length)[].every.call(e,function(e,n){return t.call(e,n,e)!==!1});else for(var n in e)if(t.call(e[n],n,e[n])===!1)return e;return this},a.focus=function(e){a.os.ios?setTimeout(function(){e.focus()},10):e.focus()},a.trigger=function(e,t,n){return e.dispatchEvent(new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0})),this},a.getStyles=function(e,t){var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n.getPropertyValue(t)||n[t]:n},a.parseTranslate=function(e,t){var n=e.match(o||"");return n&&n[1]||(n=["","0,0,0"]),n=n[1].split(","),n={x:parseFloat(n[0]),y:parseFloat(n[1]),z:parseFloat(n[2])},t&&n.hasOwnProperty(t)?n[t]:n},a.parseTranslateMatrix=function(e,t){var n=e.match(u),r=n&&n[1];n?(n=n[2].split(","),"3d"===r?n=n.slice(12,15):(n.push(0),n=n.slice(4,7))):n=[0,0,0];var i={x:parseFloat(n[0]),y:parseFloat(n[1]),z:parseFloat(n[2])};return t&&i.hasOwnProperty(t)?i[t]:i},a.regesterHandler=function(e,t){var n=a[e];return n||(n=[]),t.index=t.index||1e3,n.push(t),n.sort(function(e,t){return e.index-t.index}),a[e]=n,a[e]};var l={};return a.each(["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],function(e,t){l["[object "+t+"]"]=t.toLowerCase()}),window.JSON&&(a.parseJSON=JSON.parse),a.fn={each:function(e){return[].every.call(this,function(t,n){return e.call(t,n,t)!==!1}),this}},a}(document);!function(e,t){function n(n){this.os={};var r=[function(){var e=n.match(/(Android);?[\s\/]+([\d.]+)?/);return e&&(this.os.android=!0,this.os.version=e[2],this.os.isBadAndroid=!/Chrome\/\d/.test(t.navigator.appVersion)),this.os.android===!0},function(){var e=n.match(/(iPhone\sOS)\s([\d_]+)/);if(e)this.os.ios=this.os.iphone=!0,this.os.version=e[2].replace(/_/g,".");else{var t=n.match(/(iPad).*OS\s([\d_]+)/);t&&(this.os.ios=this.os.ipad=!0,this.os.version=t[2].replace(/_/g,"."))}return this.os.ios===!0}];[].every.call(r,function(t){return!t.call(e)})}n.call(e,navigator.userAgent)}(mui,window),function(e){function t(e){this.os=this.os||{};var t=e.match(/Html5Plus/i);t&&(this.os.plus=!0)}t.call(e,navigator.userAgent)}(mui),function(e,t,n){e.targets={},e.targetHandles=[],e.registerTarget=function(t){return t.index=t.index||1e3,e.targetHandles.push(t),e.targetHandles.sort(function(e,t){return e.index-t.index}),e.targetHandles},t.addEventListener("touchstart",function(t){for(var r=t.target,i={};r&&r!==n;r=r.parentNode){var s=!1;if(e.each(e.targetHandles,function(n,o){var u=o.name;s||i[u]||!o.hasOwnProperty("handle")?i[u]||o.isReset!==!1&&(e.targets[u]=!1):(e.targets[u]=o.handle(t,r),e.targets[u]&&(i[u]=!0,o.isContinue!==!0&&(s=!0)))}),s)break}})}(mui,window,document),function(e){String.prototype.trim===e&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Object.setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e}}(),function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("Events"),r=!0;if(t)for(var i in t)"bubbles"===i?r=!!t[i]:n[i]=t[i];return n.initEvent(e,r,!0),n}"undefined"==typeof window.CustomEvent&&(e.prototype=window.Event.prototype,window.CustomEvent=e)}(),function(e){"classList"in e.documentElement||!Object.defineProperty||"undefined"==typeof HTMLElement||Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){function e(e){return function(n){var r=t.className.split(/\s+/),i=r.indexOf(n);e(r,i,n),t.className=r.join(" ")}}var t=this,n={add:e(function(e,t,n){~t||e.push(n)}),remove:e(function(e,t){~t&&e.splice(t,1)}),toggle:e(function(e,t,n){~t?e.splice(t,1):e.push(n)}),contains:function(e){return!!~t.className.split(/\s+/).indexOf(e)},item:function(e){return t.className.split(/\s+/)[e]||null}};return Object.defineProperty(n,"length",{get:function(){return t.className.split(/\s+/).length}}),n}})}(document),function(e){var t=0;e.requestAnimationFrame||(e.requestAnimationFrame=e.webkitRequestAnimationFrame,e.cancelAnimationFrame=e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame),e.requestAnimationFrame||(e.requestAnimationFrame=function(n){var r=(new Date).getTime(),i=Math.max(0,16.7-(r-t)),s=e.setTimeout(function(){n(r+i)},i);return t=r+i,s}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(e){clearTimeout(e)})}(window),function(e,t,n){if(!t.FastClick){var r=function(e,t){return!t.type||"radio"!==t.type&&"checkbox"!==t.type?!1:t};e.registerTarget({name:n,index:40,handle:r,target:!1});var i=function(n){var r=e.targets.click;if(r){var i,s;document.activeElement&&document.activeElement!==r&&document.activeElement.blur(),s=n.detail.gesture.changedTouches[0],i=document.createEvent("MouseEvents"),i.initMouseEvent("click",!0,!0,t,1,s.screenX,s.screenY,s.clientX,s.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,r.dispatchEvent(i)}};t.addEventListener("tap",i),t.addEventListener("doubletap",i),t.addEventListener("click",function(t){return e.targets.click&&!t.forwardedTouchEvent?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):void 0},!0)}}(mui,window,"click"),function(e,t){e(function(){if(e.os.ios){var n="mui-focusin",r="mui-bar-tab",i="mui-bar-footer",s="mui-bar-footer-secondary",o="mui-bar-footer-secondary-tab";t.addEventListener("focusin",function(e){var u=e.target;if(!u.tagName||"INPUT"===u.tagName){t.body.classList.add(n);for(var a=!1;u&&u!==t;u=u.parentNode){var l=u.classList;if(l&&l.contains(r)||l.contains(i)||l.contains(s)||l.contains(o)){a=!0;break}}if(a){var h=t.body.scrollHeight,p=t.body.scrollLeft;setTimeout(function(){window.scrollTo(p,h)},20)}}}),t.addEventListener("focusout",function(){var e=t.body.classList;e.contains(n)&&(e.remove(n),setTimeout(function(){window.scrollTo(t.body.scrollLeft,t.body.scrollTop)},20))})}})}(mui,document),function(e){e.namespace="mui",e.classNamePrefix=e.namespace+"-",e.classSelectorPrefix="."+e.classNamePrefix,e.className=function(t){return e.classNamePrefix+t},e.classSelector=function(t){return t.replace(/\./g,e.classSelectorPrefix)},e.eventName=function(t,n){return t+(e.namespace?"."+e.namespace:"")+(n?"."+n:"")}}(mui),function(e,t){e.EVENT_START="touchstart",e.EVENT_MOVE="touchmove",e.EVENT_END="touchend",e.EVENT_CANCEL="touchcancel",e.EVENT_CLICK="click",e.preventDefault=function(e){e.preventDefault()},e.stopPropagation=function(e){e.stopPropagation()},e.registerGesture=function(t){return e.regesterHandler("gestures",t)};var n=function(e,t){var n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)},r=function(e,t){return 180*Math.atan2(t.y-e.y,t.x-e.x)/Math.PI},i=function(e){return-45>e&&e>-135?"up":e>=45&&135>e?"down":e>=135||-135>=e?"left":e>=-45&&45>=e?"right":null},s=function(t,n){e.gestures.stoped||e.each(e.gestures,function(r,i){e.gestures.stoped||e.options.gestureConfig[i.name]!==!1&&i.handle(t,n)})},o={},u=function(t){e.gestures.stoped=!1;var n=Date.now(),r=t.touches?t.touches[0]:t;o={target:t.target,lastTarget:o.lastTarget?o.lastTarget:null,startTime:n,touchTime:0,flickStartTime:n,lastTapTime:o.lastTapTime?o.lastTapTime:0,start:{x:r.pageX,y:r.pageY},flickStart:{x:r.pageX,y:r.pageY},flickDistanceX:0,flickDistanceY:0,move:{x:0,y:0},deltaX:0,deltaY:0,lastDeltaX:0,lastDeltaY:0,angle:"",direction:"",distance:0,drag:!1,swipe:!1,gesture:t},s(t,o)},a=function(t){if(!e.gestures.stoped&&t.target==o.target){var u=Date.now(),a=t.touches?t.touches[0]:t;o.touchTime=u-o.startTime,o.move={x:a.pageX,y:a.pageY},u-o.flickStartTime>300&&(o.flickStartTime=u,o.flickStart=o.move),o.distance=n(o.start,o.move),o.angle=r(o.start,o.move),o.direction=i(o.angle),o.lastDeltaX=o.deltaX,o.lastDeltaY=o.deltaY,o.deltaX=o.move.x-o.start.x,o.deltaY=o.move.y-o.start.y,o.gesture=t,s(t,o)}},f=function(t){if(!e.gestures.stoped&&t.target==o.target){var n=Date.now();o.touchTime=n-o.startTime,o.flickTime=n-o.flickStartTime,o.flickDistanceX=o.move.x-o.flickStart.x,o.flickDistanceY=o.move.y-o.flickStart.y,o.gesture=t,s(t,o)}};t.addEventListener(e.EVENT_START,u),t.addEventListener(e.EVENT_MOVE,a),t.addEventListener(e.EVENT_END,f),t.addEventListener(e.EVENT_CANCEL,f),t.addEventListener(e.EVENT_CLICK,function(t){(e.targets.popover&&t.target===e.targets.popover||e.targets.tab&&e.targets.tab.hash&&t.target===e.targets.tab||e.targets.offcanvas||e.targets.modal)&&t.preventDefault()}),e.fn.on=function(t,n,r){this.each(function(){var i=this;i.addEventListener(t,function(t){var s=e.qsa(n,i),o=t.target;if(s&&s.length>0)for(;o&&o!==document&&o!==i;o=o.parentNode)o&&~s.indexOf(o)&&(t.detail?t.detail.currentTarget=o:t.detail={currentTarget:o},r.call(o,t))}),i.removeEventListener(e.EVENT_CLICK,l),i.addEventListener(e.EVENT_CLICK,l)})};var l=function(e){e.target&&"INPUT"!==e.target.tagName&&e.preventDefault()}}(mui,window),function(e,t){var n=function(n,r){if(n.type===e.EVENT_END||n.type===e.EVENT_CANCEL){var i=this.options;r.direction&&i.flickMaxTime>r.flickTime&&r.distance>i.flickMinDistince&&(r.flick=!0,e.trigger(n.target,t,r),e.trigger(n.target,t+r.direction,r))}};e.registerGesture({name:t,index:5,handle:n,options:{flickMaxTime:200,flickMinDistince:10}})}(mui,"flick"),function(e,t){var n=function(n,r){if(n.type===e.EVENT_END||n.type===e.EVENT_CANCEL){var i=this.options;r.direction&&i.swipeMaxTime>r.touchTime&&r.distance>i.swipeMinDistince&&(r.swipe=!0,e.trigger(n.target,t+r.direction,r))}};e.registerGesture({name:t,index:10,handle:n,options:{swipeMaxTime:300,swipeMinDistince:18}})}(mui,"swipe"),function(e,t){var n=!1,r=function(r,i){switch(r.type){case e.EVENT_MOVE:i.direction&&(n?n&&n!==i.direction&&(i.direction="up"===n||"down"===n?i.deltaY<0?"up":"down":i.deltaX<0?"left":"right"):n=i.direction,i.drag||(i.drag=!0,e.trigger(r.target,t+"start",i)),e.trigger(r.target,t,i),e.trigger(r.target,t+i.direction,i));break;case e.EVENT_END:case e.EVENT_CANCEL:i.drag&&e.trigger(r.target,t+"end",i),n=!1}};e.registerGesture({name:t,index:20,handle:r,options:{}})}(mui,"drag"),function(e,t){var n=function(n,r){if(n.type===e.EVENT_END){var i=this.options;if(r.distance<i.tapMaxDistance&&r.touchTime<i.tapMaxTime){if(e.options.gestureConfig.doubletap&&r.lastTarget&&r.lastTarget===n.target&&r.lastTapTime&&r.startTime-r.lastTapTime<i.tapMaxInterval)return e.trigger(n.target,"doubletap",r),r.lastTapTime=Date.now(),void (r.lastTarget=n.target);e.trigger(n.target,t,r),r.lastTapTime=Date.now(),r.lastTarget=n.target}}};e.registerGesture({name:t,index:30,handle:n,options:{tapMaxInterval:300,tapMaxDistance:5,tapMaxTime:250}})}(mui,"tap"),function(e,t){var n,r=function(r,i){var s=this.options;switch(r.type){case e.EVENT_START:clearTimeout(n),n=setTimeout(function(){i.drag||e.trigger(r.target,t,i)},s.holdTimeout);break;case e.EVENT_MOVE:i.distance>s.holdThreshold&&clearTimeout(n);break;case e.EVENT_END:case e.EVENT_CANCEL:clearTimeout(n)}};e.registerGesture({name:t,index:10,handle:r,options:{holdTimeout:500,holdThreshold:2}})}(mui,"longtap"),function(e){e.global=e.options={gestureConfig:{tap:!0,doubletap:!1,longtap:!1,flick:!0,swipe:!0,drag:!0}},e.initGlobal=function(t){return e.options=e.extend(e.global,t,!0),this};var t={},n=!1;e.init=function(r){return n=!0,e.options=e.extend(e.global,r||{},!0),e.ready(function(){e.each(e.inits,function(n,r){var i=!t[r.name]||!!r.repeat;i&&(r.handle.call(e),t[r.name]=!0)})}),this},e.registerInit=function(t){return e.regesterHandler("inits",t)},e(function(){e.os.ios?document.body.classList.add("mui-ios"):e.os.android&&document.body.classList.add("mui-android")})}(mui),function(e){var t={swipeBack:!1,preloadPages:[],preloadLimit:10,keyEventBind:{backbutton:!0,menubutton:!0}},n={autoShow:!0,duration:e.os.ios?200:100,aniShow:"slide-in-right"};e.options.show&&(n=e.extend(n,e.options.show,!0)),e.currentWebview=null,e.isHomePage=!1,e.extend(e.global,t,!0),e.extend(e.options,t,!0),e.waitingOptions=function(t){return e.extend({autoShow:!0,title:""},t)},e.showOptions=function(t){return e.extend(n,t)},e.windowOptions=function(t){return e.extend({scalable:!1,bounce:""},t)},e.plusReady=function(e){return window.plus?e():document.addEventListener("plusready",function(){e()},!1),this},e.fire=function(e,t,n){e&&e.evalJS("mui&&mui.receive('"+t+"','"+JSON.stringify(n||{})+"')")},e.receive=function(t,n){t&&(n=JSON.parse(n),e.trigger(document,t,n))};var r=function(t){if(!t.preloaded){e.fire(t,"preload");for(var n=t.children(),r=0;r<n.length;r++)e.fire(n[r],"preload");t.preloaded=!0}},i=function(t,n,r){if(r){if(!t[n+"ed"]){e.fire(t,n);for(var i=t.children(),s=0;s<i.length;s++)e.fire(i[s],n);t[n+"ed"]=!0}}else{e.fire(t,n);for(var i=t.children(),s=0;s<i.length;s++)e.fire(i[s],n)}};e.openWindow=function(t,n,s){if(window.plus){"object"==typeof t?(s=t,t=s.url,n=s.id||t):"object"==typeof n?(s=n,n=t):n=n||t,s=s||{};var o,u,f,l=s.params||{};if(e.webviews[n]){var c=e.webviews[n];return o=c.webview,o&&o.getURL()||(s=e.extend(s,{id:n,url:t,preload:!0},!0),o=e.createWindow(s)),u=c.show,u=s.show?e.extend(u,s.show):u,o.show(u.aniShow,u.duration,function(){r(o),i(o,"pagebeforeshow",!1)}),c.afterShowMethodName&&o.evalJS(c.afterShowMethodName+"('"+JSON.stringify(l)+"')"),o}var h=e.waitingOptions(s.waiting);return h.autoShow&&(f=plus.nativeUI.showWaiting(h.title,h.options)),s=e.extend(s,{id:n,url:t}),o=e.createWindow(s),u=e.showOptions(s.show),u.autoShow&&o.addEventListener("loaded",function(){f&&f.close(),o.show(u.aniShow,u.duration,function(){r(o),i(o,"pagebeforeshow",!1)}),o.showed=!0,s.afterShowMethodName&&o.evalJS(s.afterShowMethodName+"('"+JSON.stringify(l)+"')")},!1),o}},e.createWindow=function(t,n){if(window.plus){var r,i=t.id||t.url;if(t.preload){e.webviews[i]&&e.webviews[i].webview.getURL()?r=e.webviews[i].webview:(r=plus.webview.create(t.url,i,e.windowOptions(t.styles),e.extend({preload:!0},t.extras)),t.subpages&&e.each(t.subpages,function(t,n){var i=plus.webview.create(n.url,n.id||n.url,e.windowOptions(n.styles),e.extend({preload:!0},n.extras));r.append(i)})),e.webviews[i]={webview:r,preload:!0,show:e.showOptions(t.show),afterShowMethodName:t.afterShowMethodName};var s=e.data.preloads,o=s.indexOf(i);if(~o&&s.splice(o,1),s.push(i),s.length>e.options.preloadLimit){var u=e.data.preloads.shift(),f=e.webviews[u];f&&f.webview&&e.closeAll(f.webview),delete e.webviews[u]}}else n!==!1&&(r=plus.webview.create(t.url,i,e.windowOptions(t.styles),t.extras),t.subpages&&e.each(t.subpages,function(t,n){var i=plus.webview.create(n.url,n.id||n.url,e.windowOptions(n.styles),n.extras);r.append(i)}));return r}},e.preload=function(t){return t.preload||(t.preload=!0),e.createWindow(t)},e.closeOpened=function(t){var n=t.opened();if(n)for(var r=0,i=n.length;i>r;r++){var s=n[r],o=s.opened();o&&o.length>0?e.closeOpened(s):s.parent()!==t&&s.close("none")}},e.closeAll=function(t,n){e.closeOpened(t),n?t.close(n):t.close()},e.createWindows=function(t){e.each(t,function(t,n){e.createWindow(n,!1)})},e.appendWebview=function(t){if(window.plus){var n,r=t.id||t.url;return e.webviews[r]||(n=plus.webview.create(t.url,r,t.styles,t.extras),n.addEventListener("loaded",function(){e.currentWebview.append(n)}),e.webviews[r]=t),n}},e.webviews={},e.data.preloads=[],e.plusReady(function(){e.currentWebview=plus.webview.currentWebview()}),e.registerInit({name:"5+",index:100,handle:function(){var t=e.options,n=t.subpages||[];if(e.os.plus)e.plusReady(function(){e.each(n,function(t,n){e.appendWebview(n)}),e.currentWebview===plus.webview.getWebviewById(plus.runtime.appid)&&(e.isHomePage=!0,setTimeout(function(){r(e.currentWebview)},300)),e.os.ios&&e.options.statusBarBackground&&plus.navigator.setStatusBarBackground(e.options.statusBarBackground)});else if(n.length>0){var i=document.createElement("div");i.className="mui-error";var s=document.createElement("span");s.innerHTML="",i.appendChild(s);var o=document.createElement("a");o.innerHTML='"mui"',o.href="http://ask.dcloud.net.cn/article/113",i.appendChild(o),document.body.appendChild(i),console.log("")}}}),window.addEventListener("preload",function(){var t=e.options.preloadPages||[];e.plusReady(function(){e.each(t,function(t,n){e.createWindow(e.extend(n,{preload:!0}))})})})}(mui),function(e,t){e.registerBack=function(t){return e.regesterHandler("backs",t)},e.registerBack({name:"browser",index:100,handle:function(){return t.history.length>1?(t.history.back(),!0):!1}}),e.back=function(){("function"!=typeof e.options.back||e.options.back()!==!1)&&e.each(e.backs,function(e,t){return!t.handle()})},t.addEventListener("tap",function(){var t=e.targets.action;t&&t.classList.contains("mui-action-back")&&e.back()}),t.addEventListener("swiperight",function(t){var n=t.detail;e.options.swipeBack===!0&&Math.abs(n.angle)<3&&e.back()})}(mui,window),function(e,t){e.os.plus&&e.os.android&&e.registerBack({name:"mui",index:5,handle:function(){if(e.targets._popover)return e(e.targets._popover).popover("hide"),!0;var t=document.querySelector(".mui-off-canvas-wrap.mui-active");return t?(e(t).offCanvas("close"),!0):void 0}}),e.registerBack({name:"5+",index:10,handle:function(){if(!t.plus)return!1;var n=e.currentWebview,r=n.parent();return r?r.evalJS("mui.back();"):n.canBack(function(r){if(r.canBack)t.history.back();else{var i=n.opener();i&&(n.preload?n.hide("auto"):e.closeAll(n))}}),!0}}),e.menu=function(){var n=document.querySelector(".mui-action-menu");if(n)e.trigger(n,"touchstart"),e.trigger(n,"tap");else if(t.plus){var r=e.currentWebview,i=r.parent();i&&i.evalJS("mui&&mui.menu();")}},e.registerInit({name:"keyEventBind",index:1e3,handle:function(){e.plusReady(function(){e.options.keyEventBind.backbutton&&plus.key.addEventListener("backbutton",e.back,!1),e.options.keyEventBind.menubutton&&plus.key.addEventListener("menubutton",e.menu,!1)})}})}(mui,window),function(e){e.registerInit({name:"pullrefresh",index:1e3,handle:function(){var t=e.options,n=t.pullRefresh||{},r=n.down&&n.down.hasOwnProperty("callback"),i=n.up&&n.up.hasOwnProperty("callback");if(r||i){var s=n.container;if(s){var o=e(s);1===o.length&&(e.os.plus&&e.os.android?e.plusReady(function(){var t=plus.webview.currentWebview();if(i){var s={};s.up=n.up,s.webviewId=t.id||t.getURL(),o.pullRefresh(s)}if(r){var u=t.parent(),f=t.id||t.getURL();if(u){i||o.pullRefresh({webviewId:f});var l={webviewId:f};l.down=e.extend({},n.down),l.down.callback="_CALLBACK",u.evalJS("mui(document.querySelector('.mui-content')).pullRefresh('"+JSON.stringify(l)+"')")}}}):o.pullRefresh(n))}}}})}(mui),function(a,b,c){var d="application/json",e="text/html",f=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,g=/^(?:text|application)\/javascript/i,h=/^(?:text|application)\/xml/i,i=/^\s*$/;a.ajaxSettings={type:"GET",success:a.noop,error:a.noop,complete:a.noop,context:null,xhr:function(){return new b.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:d,xml:"application/xml, text/xml",html:e,text:"text/plain"},timeout:0,processData:!0,cache:!0};var j=function(e,t,n){n.success.call(n.context,e,"success",t),l("success",t,n)},k=function(e,t,n,r){r.error.call(r.context,n,t,e),l(t,n,r)},l=function(e,t,n){n.complete.call(n.context,t,e)},m=function(e,t,n,r){var i,s=a.isArray(t),o=a.isPlainObject(t);a.each(t,function(t,u){i=a.type(u),r&&(t=n?r:r+"["+(o||"object"===i||"array"===i?t:"")+"]"),!r&&s?e.add(u.name,u.value):"array"===i||!n&&"object"===i?m(e,u,n,t):e.add(t,u)})},n=function(e){e.processData&&e.data&&"string"!=typeof e.data&&(e.data=a.param(e.data,e.traditional)),!e.data||e.type&&"GET"!==e.type.toUpperCase()||(e.url=o(e.url,e.data),e.data=c)},o=function(e,t){return""===t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")},p=function(t){return t&&(t=t.split(";",2)[0]),t&&(t===e?"html":t===d?"json":g.test(t)?"script":h.test(t)&&"xml")||"text"},q=function(e,t,n,r){return a.isFunction(t)&&(r=n,n=t,t=c),a.isFunction(n)||(r=n,n=c),{url:e,data:t,success:n,dataType:r}};a.ajax=function(d,e){"object"==typeof d&&(e=d,d=c);var f=e||{};f.url=d||f.url;for(key in a.ajaxSettings)f[key]===c&&(f[key]=a.ajaxSettings[key]);n(f);var g=f.dataType;f.cache!==!1&&(e&&e.cache===!0||"script"!==g)||(f.url=o(f.url,"_="+Date.now()));var h,l=f.accepts[g],m={},q=function(e,t){m[e.toLowerCase()]=[e,t]},r=/^([\w-]+:)\/\//.test(f.url)?RegExp.$1:b.location.protocol,s=f.xhr(),t=s.setRequestHeader;if(q("X-Requested-With","XMLHttpRequest"),q("Accept",l||"*/*"),(l=f.mimeType||l)&&(l.indexOf(",")>-1&&(l=l.split(",",2)[0]),s.overrideMimeType&&s.overrideMimeType(l)),(f.contentType||f.contentType!==!1&&f.data&&"GET"!==f.type.toUpperCase())&&q("Content-Type",f.contentType||"application/x-www-form-urlencoded"),f.headers)for(name in f.headers)q(name,f.headers[name]);if(s.setRequestHeader=q,s.onreadystatechange=function(){if(4===s.readyState){s.onreadystatechange=a.noop,clearTimeout(h);var b,c=!1;if(s.status>=200&&s.status<300||304===s.status||0===s.status&&"file:"===r){g=g||p(f.mimeType||s.getResponseHeader("content-type")),b=s.responseText;try{"script"===g?(1,eval)(b):"xml"===g?b=s.responseXML:"json"===g&&(b=i.test(b)?null:a.parseJSON(b))}catch(d){c=d}c?k(c,"parsererror",s,f):j(b,s,f)}else k(s.statusText||null,s.status?"error":"abort",s,f)}},f.xhrFields)for(name in f.xhrFields)s[name]=f.xhrFields[name];var u="async"in f?f.async:!0;s.open(f.type,f.url,u,f.username,f.password);for(name in m)t.apply(s,m[name]);return f.timeout>0&&(h=setTimeout(function(){s.onreadystatechange=a.noop,s.abort(),k(null,"timeout",s,f)},f.timeout)),s.send(f.data?f.data:null),s},a.param=function(e,t){var n=[];return n.add=function(e,t){this.push(encodeURIComponent(e)+"="+encodeURIComponent(t))},m(n,e,t),n.join("&").replace(/%20/g,"+")},a.get=function(){return a.ajax(q.apply(null,arguments))},a.post=function(){var e=q.apply(null,arguments);return e.type="POST",a.ajax(e)},a.getJSON=function(){var e=q.apply(null,arguments);return e.dataType="json",a.ajax(e)},a.fn.load=function(e,t,n){if(!this.length)return this;var r,i=this,s=e.split(/\s/),o=q(e,t,n),u=o.success;return s.length>1&&(o.url=s[0],r=s[1]),o.success=function(e){if(r){var t=document.createElement("div");t.innerHTML=e.replace(f,"");var n=document.createElement("div"),s=t.querySelectorAll(r);if(s&&s.length>0)for(var o=0,a=s.length;a>o;o++)n.appendChild(s[o]);i[0].innerHTML=n.innerHTML}else i[0].innerHTML=e;u&&u.apply(i,arguments)},a.ajax(o),this}}(mui,window),function(e){e.plusReady(function(){e.ajaxSettings=e.extend(e.ajaxSettings,{xhr:function(){return new plus.net.XMLHttpRequest}})})}(mui),function(e,t,n){e.offset=function(e){var r={top:0,left:0};return typeof e.getBoundingClientRect!==n&&(r=e.getBoundingClientRect()),{top:r.top+t.pageYOffset-e.clientTop,left:r.left+t.pageXOffset-e.clientLeft}}}(mui,window),function(e,t){e.scrollTo=function(e,n,r){n=n||1e3;var i=function(n){if(0>=n)return void (r&&r());var s=e-t.scrollY;setTimeout(function(){t.scrollTo(0,t.scrollY+s/n*10),i(n-10)},16.7)};i(n)},e.animationFrame=function(e){var t,n,r;return function(){t=arguments,r=this,n||(n=!0,requestAnimationFrame(function(){e.apply(r,t),n=!1}))}}}(mui,window),function(e){var t=!1,n=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/,r=function(){};r.extend=function(e){function r(){!t&&this.init&&this.init.apply(this,arguments)}var i=this.prototype;t=!0;var s=new this;t=!1;for(var o in e)s[o]="function"==typeof e[o]&&"function"==typeof i[o]&&n.test(e[o])?function(e,t){return function(){var n=this._super;this._super=i[e];var r=t.apply(this,arguments);return this._super=n,r}}(o,e[o]):e[o];return r.prototype=s,r.prototype.constructor=r,r.extend=arguments.callee,r},e.Class=r}(mui),function(e,t){var n="mui-pull-top-pocket",r="mui-pull-bottom-pocket",i="mui-pull",s="mui-pull-loading",o="mui-pull-caption",u="mui-icon",a="mui-spinner",f="mui-icon-pulldown",l="mui-in",c="mui-block",h="mui-visibility",p=s+" "+u+" "+f,d=s+" "+u+" "+f,v=s+" "+u+" "+a,m=['<div class="'+i+'">','<div class="{icon}"></div>','<div class="'+o+'">{contentrefresh}</div>',"</div>"].join(""),g={init:function(t,n){this._super(t,e.extend({scrollY:!0,scrollX:!1,indicators:!0,down:{height:50,contentdown:"",contentover:"",contentrefresh:"..."},up:{height:50,contentdown:"",contentrefresh:"...",contentnomore:"",duration:300}},n,!0))},_init:function(){this._super(),this._initPocket()},_initPulldownRefresh:function(){this.pulldown=!0,this.pullPocket=this.topPocket,this.pullPocket.classList.add(c),this.pullPocket.classList.add(h),this.pullCaption=this.topCaption,this.pullLoading=this.topLoading},_initPullupRefresh:function(){this.pulldown=!1,this.pullPocket=this.bottomPocket,this.pullPocket.classList.add(c),this.pullPocket.classList.add(h),this.pullCaption=this.bottomCaption,this.pullLoading=this.bottomLoading},_initPocket:function(){var e=this.options;e.down&&e.down.hasOwnProperty("callback")&&(this.topPocket=this.scroller.querySelector("."+n),this.topPocket||(this.topPocket=this._createPocket(n,e.down,d),this.wrapper.insertBefore(this.topPocket,this.wrapper.firstChild)),this.topLoading=this.topPocket.querySelector("."+s),this.topCaption=this.topPocket.querySelector("."+o)),e.up&&e.up.hasOwnProperty("callback")&&(this.bottomPocket=this.scroller.querySelector("."+r),this.bottomPocket||(this.bottomPocket=this._createPocket(r,e.up,v),this.scroller.appendChild(this.bottomPocket)),this.bottomLoading=this.bottomPocket.querySelector("."+s),this.bottomCaption=this.bottomPocket.querySelector("."+o),this.wrapper.addEventListener("scrollbottom",this))},_createPocket:function(e,n,r){var i=t.createElement("div");return i.className=e,i.innerHTML=m.replace("{contentrefresh}",n.contentrefresh).replace("{icon}",r),i},_resetPullDownLoading:function(){var e=this.pullLoading;e&&(this.pullCaption.innerHTML=this.options.down.contentdown,e.style.webkitTransition="",e.style.webkitTransform="",e.style.webkitAnimation="",e.className=d)},_setCaption:function(e,t){if(!this.loading){var n=this.options,r=this.pullPocket,i=this.pullCaption,s=this.pullLoading,o=this.pulldown;r&&(t?setTimeout(function(){i.innerHTML=e,s.className=o?d:v,s.style.webkitAnimation="",s.style.webkitTransition="",s.style.webkitTransform=""},100):e!==this.lastTitle&&(i.innerHTML=e,o?e===n.down.contentrefresh?(s.className=v,s.style.webkitAnimation="spinner-spin 1s step-end infinite"):e===n.down.contentover?(s.className=p,s.style.webkitTransition="-webkit-transform 0.3s ease-in",s.style.webkitTransform="rotate(180deg)"):e===n.down.contentdown&&(s.className=d,s.style.webkitTransition="-webkit-transform 0.3s ease-in",s.style.webkitTransform="rotate(0deg)"):s.className=e===n.up.contentrefresh?v+" "+l:v,this.lastTitle=e))}}};e.PullRefresh=g}(mui,document),function(e,t,n,r){var i="mui-scrollbar",s="mui-scrollbar-indicator",o=i+"-vertical",u=i+"-horizontal",a={quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(e){return e*(2-e)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(e){return Math.sqrt(1- --e*e)}}},f=e.Class.extend({init:function(t,n){this.wrapper=this.element=t,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.stopped=!1,this.options=e.extend({scrollY:!0,scrollX:!1,startX:0,startY:0,indicators:!0,stopPropagation:!1,hardwareAccelerated:!0,fixedBadAndorid:!1,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},momentum:!0,bounce:!0,bounceTime:300,bounceEasing:a.circular.style,directionLockThreshold:5},n,!0),this.x=0,this.y=0,this.translateZ=this.options.hardwareAccelerated?" translateZ(0)":"",this._init(),this.scroller&&(this.refresh(),this.scrollTo(this.options.startX,this.options.startY))},_init:function(){this._initIndicators(),this._initEvent()},_initIndicators:function(){var e=this;if(e.indicators=[],this.options.indicators){var t,n=[];e.options.scrollY&&(t={el:this._createScrollBar(o),listenX:!1},this.wrapper.appendChild(t.el),n.push(t)),this.options.scrollX&&(t={el:this._createScrollBar(u),listenY:!1},this.wrapper.appendChild(t.el),n.push(t));for(var r=n.length;r--;)this.indicators.push(new l(this,n[r]));this.wrapper.addEventListener("scrollend",function(){e.indicators.map(function(e){e.fade()})}),this.wrapper.addEventListener("scrollstart",function(){e.indicators.map(function(e){e.fade(1)})}),this.wrapper.addEventListener("refresh",function(){e.indicators.map(function(e){e.refresh()})})}},_initEvent:function(){t.addEventListener("orientationchange",this),t.addEventListener("resize",this),this.scroller.addEventListener("webkitTransitionEnd",this),this.wrapper.addEventListener("touchstart",this),this.wrapper.addEventListener("touchcancel",this),this.wrapper.addEventListener("touchend",this),this.wrapper.addEventListener("drag",this),this.wrapper.addEventListener("dragend",this),this.wrapper.addEventListener("flick",this),this.wrapper.addEventListener("scrollend",this),this.options.scrollX&&this.wrapper.addEventListener("swiperight",this)},handleEvent:function(e){if(this.stopped)return void this.resetPosition();switch(e.type){case"touchstart":this._start(e);break;case"drag":this.options.stopPropagation&&e.stopPropagation(),this._drag(e);break;case"dragend":case"flick":this.options.stopPropagation&&e.stopPropagation(),this._flick(e);break;case"touchcancel":case"touchend":this._end(e);break;case"webkitTransitionEnd":this._transitionEnd(e);break;case"scrollend":this._scrollend(e);break;case"orientationchange":case"resize":this._resize();break;case"swiperight":e.stopPropagation()}},_start:function(t){if(this.moved=this.needReset=!1,this._transitionTime(),this.isInTransition){this.needReset=!0,this.isInTransition=!1;var n=e.parseTranslateMatrix(e.getStyles(this.scroller,"webkitTransform"));this.setTranslate(Math.round(n.x),Math.round(n.y)),this.resetPosition(),e.trigger(this.wrapper,"scrollend",this),t.preventDefault()}this.reLayout(),e.trigger(this.wrapper,"beforescrollstart",this)},_drag:function(n){var r=n.detail;if(e.os.ios&&parseFloat(e.os.version)>=8&&r.gesture.touches[0].clientY+10>t.innerHeight)return void this.resetPosition(this.options.bounceTime);var i=isReturn=!1;if("left"===r.direction||"right"===r.direction?this.options.scrollX?i=!0:this.options.scrollY&&!this.moved&&(isReturn=!0):("up"===r.direction||"down"===r.direction)&&(this.options.scrollY?i=!0:this.options.scrollX&&!this.moved&&(isReturn=!0)),i&&(n.stopPropagation(),r.gesture&&r.gesture.preventDefault()),!isReturn){this.moved?n.stopPropagation():e.trigger(this.wrapper,"scrollstart",this);var s=r.deltaX-r.lastDeltaX,o=r.deltaY-r.lastDeltaY,u=Math.abs(r.deltaX),a=Math.abs(r.deltaY);u>a+this.options.directionLockThreshold?o=0:a>=u+this.options.directionLockThreshold&&(s=0),s=this.hasHorizontalScroll?s:0,o=this.hasVerticalScroll?o:0;var f=this.x+s,l=this.y+o;(f>0||f<this.maxScrollX)&&(f=this.options.bounce?this.x+s/3:f>0?0:this.maxScrollX),(l>0||l<this.maxScrollY)&&(l=this.options.bounce?this.y+o/3:l>0?0:this.maxScrollY),this.requestAnimationFrame||this._updateTranslate(),this.moved=!0,this.x=f,this.y=l}},_flick:function(t){if(this.moved){var n=t.detail;if(this._clearRequestAnimationFrame(),"dragend"!==t.type||!n.flick){var r=Math.round(this.x),i=Math.round(this.y);if(this.isInTransition=!1,!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(r,i),"dragend"===t.type)return void e.trigger(this.wrapper,"scrollend",this);var s=0,o="";if(this.options.momentum&&n.flickTime<300&&(momentumX=this.hasHorizontalScroll?this._momentum(this.x,n.flickDistanceX,n.flickTime,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:r,duration:0},momentumY=this.hasVerticalScroll?this._momentum(this.y,n.flickDistanceY,n.flickTime,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:i,duration:0},r=momentumX.destination,i=momentumY.destination,s=Math.max(momentumX.duration,momentumY.duration),this.isInTransition=!0),r!=this.x||i!=this.y)return(r>0||r<this.maxScrollX||i>0||i<this.maxScrollY)&&(o=a.quadratic),void this.scrollTo(r,i,s,o);e.trigger(this.wrapper,"scrollend",this),t.stopPropagation()}}}},_end:function(e){this.needReset=!1,(!this.moved&&this.needReset||"touchcancel"===e.type)&&this.resetPosition()},_transitionEnd:function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,e.trigger(this.wrapper,"scrollend",this)))},_scrollend:function(){Math.abs(this.y)>0&&this.y<=this.maxScrollY&&e.trigger(this.wrapper,"scrollbottom",this)},_resize:function(){var e=this;clearTimeout(e.resizeTimeout),e.resizeTimeout=setTimeout(function(){e.refresh()},e.options.resizePolling)},_transitionTime:function(t){if(t=t||0,this.scrollerStyle.webkitTransitionDuration=t+"ms",this.options.fixedBadAndorid&&!t&&e.os.isBadAndroid&&(this.scrollerStyle.webkitTransitionDuration="0.001s"),this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].transitionTime(t)},_transitionTimingFunction:function(e){if(this.scrollerStyle.webkitTransitionTimingFunction=e,this.indicators)for(var t=this.indicators.length;t--;)this.indicators[t].transitionTimingFunction(e)},_translate:function(e,t){this.x=e,this.y=t},_clearRequestAnimationFrame:function(){this.requestAnimationFrame&&(cancelAnimationFrame(this.requestAnimationFrame),this.requestAnimationFrame=null)},_updateTranslate:function(){var e=this;(e.x!==e.lastX||e.y!==e.lastY)&&e.setTranslate(e.x,e.y),e.requestAnimationFrame=requestAnimationFrame(function(){e._updateTranslate()})},_createScrollBar:function(e){var t=n.createElement("div"),r=n.createElement("div");return t.className=i+" "+e,r.className=s,t.appendChild(r),e===o?(this.scrollbarY=t,this.scrollbarIndicatorY=r):e===u&&(this.scrollbarX=t,this.scrollbarIndicatorX=r),this.wrapper.appendChild(t),t},_preventDefaultException:function(e,t){for(var n in t)if(t[n].test(e[n]))return!0;return!1},_reLayout:function(){this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.indicators.map(function(e){e.refresh()})},_momentum:function(e,t,n,i,s,o){var u,a,f=parseFloat(Math.abs(t)/n);return o=o===r?6e-4:o,u=e+f*f/(2*o)*(0>t?-1:1),a=f/o,i>u?(u=s?i-s/2.5*(f/8):i,t=Math.abs(u-e),a=t/f):u>0&&(u=s?s/2.5*(f/8):0,t=Math.abs(e)+u,a=t/f),{destination:Math.round(u),duration:a}},setStopped:function(e){this.stopped=!!e},setTranslate:function(e,t){if(this.x=e,this.y=t,this.scrollerStyle.webkitTransform="translate3d("+e+"px,"+t+"px,0px)"+this.translateZ,this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].updatePosition();this.lastX=this.x,this.lastY=this.y},reLayout:function(){this.wrapper.offsetHeight;var t=parseFloat(e.getStyles(this.wrapper,"padding-left"))||0,n=parseFloat(e.getStyles(this.wrapper,"padding-right"))||0,r=parseFloat(e.getStyles(this.wrapper,"padding-top"))||0,i=parseFloat(e.getStyles(this.wrapper,"padding-bottom"))||0,s=this.wrapper.clientWidth,o=this.wrapper.clientHeight;this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.wrapperWidth=s-t-n,this.wrapperHeight=o-r-i,this.maxScrollX=Math.min(this.wrapperWidth-this.scrollerWidth,0),this.maxScrollY=Math.min(this.wrapperHeight-this.scrollerHeight,0),this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this._reLayout()},resetPosition:function(e){var t=this.x,n=this.y;return e=e||0,!this.hasHorizontalScroll||this.x>0?t=0:this.x<this.maxScrollX&&(t=this.maxScrollX),!this.hasVerticalScroll||this.y>0?n=0:this.y<this.maxScrollY&&(n=this.maxScrollY),t==this.x&&n==this.y?!1:(this.scrollTo(t,n,e,this.options.bounceEasing),!0)},refresh:function(){this.reLayout(),e.trigger(this.wrapper,"refresh",this),this.resetPosition()},scrollTo:function(e,t,n,r){var r=r||a.circular;this.isInTransition=n>0&&(this.lastX!=e||this.lastY!=t),this.isInTransition?(this._clearRequestAnimationFrame(),this._transitionTimingFunction(r.style),this._transitionTime(n),this.setTranslate(e,t)):this.setTranslate(e,t)},scrollToBottom:function(e,t){e=e||this.options.bounceTime,this.scrollTo(0,this.maxScrollY,e,t)}}),l=function(t,r){this.wrapper="string"==typeof r.el?n.querySelector(r.el):r.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=t,this.options=e.extend({listenX:!0,listenY:!0,fade:!1,speedRatioX:0,speedRatioY:0},r),this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.fade&&(this.wrapperStyle.webkitTransform=this.scroller.translateZ,this.wrapperStyle.webkitTransitionDuration=this.options.fixedBadAndorid&&e.os.isBadAndroid?"0.001s":"0ms",this.wrapperStyle.opacity="0")};l.prototype={handleEvent:function(){},transitionTime:function(t){t=t||0,this.indicatorStyle.webkitTransitionDuration=t+"ms",this.scroller.options.fixedBadAndorid&&!t&&e.os.isBadAndroid&&(this.indicatorStyle.webkitTransitionDuration="0.001s")},transitionTimingFunction:function(e){this.indicatorStyle.webkitTransitionTimingFunction=e},refresh:function(){this.transitionTime(),this.indicatorStyle.display=this.options.listenX&&!this.options.listenY?this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.scroller.hasVerticalScroll?"block":"none":this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.wrapper.offsetHeight,this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.indicatorWidth=Math.max(Math.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px",this.maxPosX=this.wrapperWidth-this.indicatorWidth,this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX,this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.indicatorHeight=Math.max(Math.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px",this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var e=this.options.listenX&&Math.round(this.sizeRatioX*this.scroller.x)||0,t=this.options.listenY&&Math.round(this.sizeRatioY*this.scroller.y)||0;e<this.minBoundaryX?(this.width=Math.max(this.indicatorWidth+e,8),this.indicatorStyle.width=this.width+"px",e=this.minBoundaryX):e>this.maxBoundaryX?(this.width=Math.max(this.indicatorWidth-(e-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",e=this.maxPosX+this.indicatorWidth-this.width):this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),t<this.minBoundaryY?(this.height=Math.max(this.indicatorHeight+3*t,8),this.indicatorStyle.height=this.height+"px",t=this.minBoundaryY):t>this.maxBoundaryY?(this.height=Math.max(this.indicatorHeight-3*(t-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",t=this.maxPosY+this.indicatorHeight-this.height):this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px"),this.x=e,this.y=t,this.indicatorStyle.webkitTransform="translate3d("+e+"px,"+t+"px,0px)"+this.scroller.translateZ},fade:function(e,t){if(!t||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var n=e?250:500,r=e?0:300;e=e?"1":"0",this.wrapperStyle.webkitTransitionDuration=n+"ms",this.fadeTimeout=setTimeout(function(e){this.wrapperStyle.opacity=e,this.visible=+e}.bind(this,e),r)}}},e.Scroll=f,e.fn.scroll=function(t){var n=[];return this.each(function(){var r=null,i=this,s=i.getAttribute("data-scroll");s?r=e.data[s]:(s=++e.uuid,e.data[s]=r=new f(i,t),i.setAttribute("data-scroll",s)),n.push(r)}),1===n.length?n[0]:n}}(mui,window,document),function(e){var t="mui-visibility",n=e.Scroll.extend(e.extend({handleEvent:function(e){this._super(e),"scrollbottom"===e.type&&this._scrollbottom()},_scrollbottom:function(){this.pulldown||this.loading||(this.pulldown=!1,this._initPullupRefresh(),this.pullupLoading())},_start:function(e){this.loading||(this.pulldown=this.pullPocket=this.pullCaption=this.pullLoading=!1),this._super(e)},_drag:function(e){this._super(e),!this.pulldown&&!this.loading&&this.topPocket&&"down"===e.detail.direction&&this.y>=0&&this._initPulldownRefresh(),this.pulldown&&this._setCaption(this.y>this.options.down.height?this.options.down.contentover:this.options.down.contentdown)},_reLayout:function(){this.hasVerticalScroll=!0,this._super()},resetPosition:function(e){return this.pulldown&&this.y>=this.options.down.height?(this.pulldownLoading(0,e||0),!0):this._super(e)},pulldownLoading:function(e,t){if(e=e||0,this.scrollTo(e,this.options.down.height,t,this.options.bounceEasing),!this.loading){this.pulldown||this._initPulldownRefresh(),this._setCaption(this.options.down.contentrefresh),this.loading=!0,this.indicators.map(function(e){e.fade(0)});var n=this.options.down.callback;n&&n.call(this)}},endPulldownToRefresh:function(){var e=this;e.topPocket&&(e.scrollTo(0,0,e.options.bounceTime,e.options.bounceEasing),e.loading=!1,e._setCaption(e.options.down.contentdown,!0),setTimeout(function(){e.loading||e.topPocket.classList.remove(t)},350))},pullupLoading:function(e,t){if(e=e||0,this.scrollTo(e,this.maxScrollY,t,this.options.bounceEasing),!this.loading){this._initPullupRefresh(),this._setCaption(this.options.up.contentrefresh),this.indicators.map(function(e){e.fade(0)}),this.loading=!0;var n=this.options.up.callback;n&&n.call(this)}},endPullupToRefresh:function(e){var n=this;n.bottomPocket&&(n.loading=!1,e?(n._setCaption(n.options.up.contentnomore),n.wrapper.removeEventListener("scrollbottom",n)):(n._setCaption(n.options.up.contentdown),setTimeout(function(){n.loading||n.bottomPocket.classList.remove(t)},350)))},refresh:function(e){e&&this.wrapper.addEventListener("scrollbottom",this),this._super()}},e.PullRefresh));e.fn.pullRefresh=function(t){if(1===this.length){var r=this[0],i=null,s=r.getAttribute("data-pullrefresh");return s?i=e.data[s]:(s=++e.uuid,e.data[s]=i=new n(r,t),r.setAttribute("data-pullrefresh",s)),i}}}(mui,window,document),function(e,t){var n="mui-slider",r="mui-slider-group",i="mui-slider-loop",s="mui-slider-indicator",o="mui-action-previous",u="mui-action-next",a="mui-slider-item",f="mui-active",l="."+a,c="."+s,h=".mui-slider-progress-bar",p=e.Scroll.extend({init:function(t,n){this._super(t,e.extend({interval:0,scrollY:!1,scrollX:!0,indicators:!1,bounceTime:200,startX:!1},n,!0)),this.options.startX&&e.trigger(this.wrapper,"scrollend",this)},_init:function(){this.scroller=this.wrapper.querySelector("."+r),this.scroller&&(this.scrollerStyle=this.scroller.style,this.progressBar=this.wrapper.querySelector(h),this.progressBar&&(this.progressBarWidth=this.progressBar.offsetWidth,this.progressBarStyle=this.progressBar.style),this._super(),this._initTimer())},_initEvent:function(){var t=this;t._super(),t.wrapper.addEventListener("swiperight",e.stopPropagation),t.wrapper.addEventListener("scrollend",function(){t.isInTransition=!1,t.slideNumber=t._getSlideNumber();var n=t.slideNumber;t.loop&&(0===t.slideNumber?(t.slideNumber=t.itemLength-2,t.setTranslate(-t.wrapperWidth*(t.itemLength-2),0)):t.slideNumber===t.itemLength-1&&(t.slideNumber=1,t.setTranslate(-t.wrapperWidth,0)),n=t.slideNumber-1),e.trigger(t.wrapper,"slide",{slideNumber:n})}),t.wrapper.addEventListener("slide",function(e){if(e.target===t.wrapper){var n=e.detail;n.slideNumber=n.slideNumber||0;var r=t.wrapper.querySelectorAll(l),i=n.slideNumber;t.loop&&(i+=1);for(var s=0,o=r.length;o>s;s++){var u=r[s];u.parentNode===t.scroller&&(s===i?u.classList.add(f):u.classList.remove(f))}var a=t.wrapper.querySelector(".mui-slider-indicator");if(a){var c=a.querySelectorAll(".mui-indicator");if(c.length>0)for(var s=0,o=c.length;o>s;s++)c[s].classList[s===n.slideNumber?"add":"remove"](f);else{var h=a.querySelector(".mui-number span");if(h)h.innerText=n.slideNumber+1;else for(var p=t.wrapper.querySelectorAll(".mui-control-item"),s=0,o=p.length;o>s;s++)p[s].classList[s===n.slideNumber?"add":"remove"](f)}}e.stopPropagation()}}),t.wrapper.addEventListener(e.eventName("shown","tab"),function(e){t.gotoItem(e.detail.tabNumber||0,t.options.bounceTime)});var n=t.wrapper.querySelector(c);n&&n.addEventListener("tap",function(e){var n=e.target;(n.classList.contains(o)||n.classList.contains(u))&&(t[n.classList.contains(o)?"prevItem":"nextItem"](),e.stopPropagation())})},_drag:function(e){this._super(e);var t=e.detail.direction;("left"===t||"right"===t)&&e.stopPropagation()},_initTimer:function(){var e=this,n=e.wrapper,r=e.options.interval,i=n.getAttribute("data-slidershowTimer");i&&t.clearTimeout(i),r&&(i=t.setTimeout(function(){n&&((n.offsetWidth||n.offsetHeight)&&e.nextItem(!0),e._initTimer())},r),n.setAttribute("data-slidershowTimer",i))},_reLayout:function(){this.hasHorizontalScroll=!0,this.loop=this.scroller.classList.contains(i);var e=this.scroller.querySelectorAll(l);this.itemLength=0;for(var t=0,n=0,r=e.length;r>n;n++)e[n].parentNode===this.scroller&&(e[n].classList.contains(f)&&(t=this.itemLength),this.itemLength++);t=0===t?this.loop?1:0:t,this.options.startX=t?-this.scrollerWidth*t:0,this.scrollerWidth=this.itemLength*this.scrollerWidth,this.maxScrollX=Math.min(this.wrapperWidth-this.scrollerWidth,0),this.slideNumber=this._getSlideNumber(),this._super()},_getScroll:function(){var t=e.parseTranslateMatrix(e.getStyles(this.scroller,"webkitTransform"));return t?t.x:0},_getSlideNumber:function(){return Math.abs(Math.round(Math.abs(this.x)/this.wrapperWidth))},_transitionEnd:function(t){t.target===this.scroller&&this.isInTransition&&(this._transitionTime(),this.isInTransition=!1,e.trigger(this.wrapper,"scrollend",this))},_flick:function(e){var t=e.detail,n=t.direction;return this._clearRequestAnimationFrame(),this.isInTransition=!0,"up"===n||"down"===n?void this.resetPosition(this.options.bounceTime):("flick"===e.type?(t.touchTime<200&&(this.x=-(this.slideNumber+("left"===n?1:-1))*this.wrapperWidth),this.resetPosition(this.options.bounceTime)):"dragend"!==e.type||t.flick||this.resetPosition(this.options.bounceTime),void e.stopPropagation())},_gotoItem:function(t,n){this.scrollTo(-t*this.wrapperWidth,0,n,this.options.bounceEasing),0===n&&e.trigger(this.wrapper,"scrollend",this),this._initTimer()},_fixedSlideNumber:function(e){return this.loop||(0>e?e=0:e>=this.itemLength&&(e=this.itemLength-1)),e},setTranslate:function(e,t){this._super(e,t);var n=this.progressBar;n&&(this.progressBarStyle.webkitTransform="translate3d("+ -e*(this.progressBarWidth/this.wrapperWidth)+"px,0,0)")},resetPosition:function(e){return e=e||0,this.x>0?this.x=0:this.x<this.maxScrollX&&(this.x=this.maxScrollX),this._gotoItem(this._getSlideNumber(),e),!0},gotoItem:function(e,t){this._gotoItem(this._fixedSlideNumber(this.loop?e+1:e),t||this.options.bounceEasing)},nextItem:function(e){var t=this._fixedSlideNumber(this.slideNumber+1),n=this.options.bounceTime;e&&!this.loop&&this.slideNumber+1>=this.itemLength&&(n=t=0),this._gotoItem(t,n)},prevItem:function(){this._gotoItem(this._fixedSlideNumber(this.slideNumber-1),this.options.bounceTime)},refresh:function(t){t?(e.extend(this.options,t),this._super(),this._gotoItem(this._getSlideNumber()+1,this.options.bounceTime)):this._super()}});e.fn.slider=function(t){var r=null;return this.each(function(){var i=this;if(this.classList.contains(n)||(i=this.querySelector("."+n)),i){var s=i.getAttribute("data-slider");s?(r=e.data[s],r&&t&&r.refresh(t)):(s=++e.uuid,e.data[s]=r=new p(i,t),i.setAttribute("data-slider",s))}}),r},e.ready(function(){e(".mui-slider").slider()})}(mui,window),function(e,t){if(e.os.plus&&e.os.android){var n="mui-plus-pullrefresh",r="mui-in",i="mui-block",s=e.Class.extend({init:function(e,t){this.element=e,this.options=t,this.wrapper=this.scroller=e,this._init(),this._initPulldownRefreshEvent()},_init:function(){window.addEventListener("dragup",this)},_initPulldownRefreshEvent:function(){var t=this;t.topPocket&&t.options.webviewId&&e.plusReady(function(){var e=plus.webview.getWebviewById(t.options.webviewId);if(e){t.options.webview=e;var n=t.options.down,r=n.height;e.addEventListener("dragBounce",function(r){switch(t.pulldown?t.pullPocket.classList.add(i):t._initPulldownRefresh(),r.status){case"beforeChangeOffset":t._setCaption(n.contentdown);break;case"afterChangeOffset":t._setCaption(n.contentover);break;case"dragEndAfterChangeOffset":e.evalJS("mui.options.pullRefresh.down.callback()"),t._setCaption(n.contentrefresh)}},!1),e.setBounce({position:{top:2*r+"px"},changeoffset:{top:r+"px"}})}})},handleEvent:function(e){var n=this;if(!n.stopped){var r=!1;setInterval(function(){r&&window.pageYOffset+window.innerHeight+10>=t.documentElement.scrollHeight&&(r=!1,n.bottomPocket&&n.pullupLoading())},100),"dragup"===e.type&&(r=!0)}}}).extend(e.extend({setStopped:function(e){this.stopped=!!e;var t=plus.webview.currentWebview();if(this.stopped)t.setStyle({bounce:"none"}),t.setBounce({position:{top:"none"}});else{var n=this.options.down.height;t.setStyle({bounce:"vertical"}),t.setBounce({position:{top:2*n+"px"},changeoffset:{top:n+"px"}})}},pulldownLoading:function(){throw new Error("")},endPulldownToRefresh:function(){var e=plus.webview.currentWebview();e.parent().evalJS("mui(document.querySelector('.mui-content')).pullRefresh('"+JSON.stringify({webviewId:e.id})+"')._endPulldownToRefresh()")},_endPulldownToRefresh:function(){var e=this;e.topPocket&&e.options.webview&&(e.options.webview.endPullToRefresh(),e.loading=!1,e._setCaption(e.options.down.contentdown,!0),setTimeout(function(){e.loading||e.topPocket.classList.remove(i)},350))},pullupLoading:function(){var e=this;e.isLoading||(e.isLoading=!0,e.pulldown!==!1?e._initPullupRefresh():this.pullPocket.classList.add(i),setTimeout(function(){e.pullLoading.classList.add(r),e.pullCaption.innerHTML="",e.pullCaption.innerHTML=e.options.up.contentrefresh;var t=e.options.up.callback;t&&t.call(e)},300))},endPullupToRefresh:function(e){var t=this;t.pullLoading&&(t.pullLoading.classList.remove(r),t.isLoading=!1,e?(t.pullCaption.innerHTML=t.options.up.contentnomore,window.removeEventListener("dragup",t)):t.pullCaption.innerHTML=t.options.up.contentdown)},refresh:function(e){e&&window.addEventListener("dragup",this)}},e.PullRefresh));e.fn.pullRefresh=function(r){var i;0===this.length?(i=t.createElement("div"),i.className="mui-content",t.body.appendChild(i)):i=this[0],r=r||{webviewId:plus.webview.currentWebview().id||plus.webview.currentWebview().getURL()},"string"==typeof r&&(r=e.parseJSON(r));var o=null,u=i.getAttribute("data-pullrefresh-plus-"+r.webviewId);return u?o=e.data[u]:(u=++e.uuid,i.setAttribute("data-pullrefresh-plus-"+r.webviewId,u),t.body.classList.add(n),e.data[u]=o=new s(i,r)),o}}}(mui,document),function(e,t,n,r){var i="mui-off-canvas-left",s="mui-off-canvas-right",o="mui-off-canvas-backdrop",u="mui-off-canvas-wrap",a="mui-slide-in",f="mui-active",l="mui-transitioning",c=".mui-inner-wrap",h=e.Class.extend({init:function(t,r){this.wrapper=this.element=t,this.scroller=this.wrapper.querySelector(c),this.classList=this.wrapper.classList,this.scroller&&(this.options=e.extend({dragThresholdX:10},r,!0),n.body.classList.add("mui-fullscreen"),this.refresh(),this.initEvent())},refresh:function(){this.classList.remove(f),this.slideIn=this.classList.contains(a),this.scroller=this.wrapper.querySelector(c),this.scroller.classList.remove(l),this.scroller.setAttribute("style",""),this.offCanvasRight=this.wrapper.querySelector("."+s),this.offCanvasLeft=this.wrapper.querySelector("."+i),this.offCanvasRightWidth=this.offCanvasLeftWidth=0,this.offCanvasLeftSlideIn=this.offCanvasRightSlideIn=!1,this.offCanvasRight&&(this.offCanvasRightWidth=this.offCanvasRight.offsetWidth,this.offCanvasRightSlideIn=this.slideIn&&this.offCanvasRight.parentNode===this.wrapper,this.offCanvasRight.classList.remove(l),this.offCanvasRight.classList.remove(f),this.offCanvasRight.setAttribute("style","")),this.offCanvasLeft&&(this.offCanvasLeftWidth=this.offCanvasLeft.offsetWidth,this.offCanvasLeftSlideIn=this.slideIn&&this.offCanvasLeft.parentNode===this.wrapper,this.offCanvasLeft.classList.remove(l),this.offCanvasLeft.classList.remove(f),this.offCanvasLeft.setAttribute("style","")),this.backdrop=this.scroller.querySelector("."+o),this.options.dragThresholdX=this.options.dragThresholdX||10,this.visible=!1,this.startX=null,this.lastX=null,this.offsetX=null,this.lastTranslateX=null},handleEvent:function(e){switch(e.type){case"touchstart":e.preventDefault();break;case"webkitTransitionEnd":e.target===this.scroller&&this._dispatchEvent();break;case"drag":var t=e.detail;this.startX?this.lastX=t.move.x:(this.startX=t.move.x,this.lastX=this.startX),!this.isDragging&&Math.abs(this.lastX-this.startX)>this.options.dragThresholdX&&("left"===t.direction||"right"===t.direction)&&(this.slideIn&&(this.scroller=this.classList.contains(f)?this.offCanvasRight&&this.offCanvasRight.classList.contains(f)?this.offCanvasRight:this.offCanvasLeft:"left"===t.direction&&this.offCanvasRight?this.offCanvasRight:"right"===t.direction&&this.offCanvasLeft?this.offCanvasLeft:null),this.scroller&&(this.startX=this.lastX,this.isDragging=!0,this.scroller.classList.remove(l),this.offsetX=this.getTranslateX(),this._initOffCanvasVisible())),this.isDragging&&(this.updateTranslate(this.offsetX+(this.lastX-this.startX)),t.gesture.preventDefault(),e.stopPropagation());break;case"dragend":if(this.isDragging){var t=e.detail,n=t.direction;this.isDragging=!1,this.scroller.classList.add(l);var r=0,i=this.getTranslateX();if(this.slideIn){if(r=i>=0?this.offCanvasRightWidth&&i/this.offCanvasRightWidth||0:this.offCanvasLeftWidth&&i/this.offCanvasLeftWidth||0,this.openPercentage(r>=.5&&"left"===n?0:r>0&&.5>=r&&"left"===n?-100:r>=.5&&"right"===n?0:r>=-0.5&&0>r&&"left"===n?100:r>0&&.5>=r&&"right"===n?-100:-0.5>=r&&"right"===n?0:r>=-0.5&&"right"===n?100:-0.5>=r&&"left"===n?0:r>=-0.5&&"left"===n?-100:0),1===r||-1===r||0===r)return void this._dispatchEvent()}else{if(r=i>=0?this.offCanvasLeftWidth&&i/this.offCanvasLeftWidth||0:this.offCanvasRightWidth&&i/this.offCanvasRightWidth||0,0===r)return this.openPercentage(0),void this._dispatchEvent();this.openPercentage(r>0&&.5>r&&"right"===n?0:r>.5&&"left"===n?100:0>r&&r>-0.5&&"left"===n?0:"right"===n&&0>r&&r>-0.5?0:.5>r&&"right"===n?-100:"right"===n&&r>=0&&(r>=.5||t.flick)?100:"left"===n&&0>=r&&(-0.5>=r||t.flick)?-100:0),(1===r||-1===r)&&this._dispatchEvent()}}}},_dispatchEvent:function(){this.classList.contains(f)?e.trigger(this.wrapper,"shown",this):e.trigger(this.wrapper,"hidden",this)},_initOffCanvasVisible:function(){this.visible||(this.visible=!0,this.offCanvasLeft&&(this.offCanvasLeft.style.visibility="visible"),this.offCanvasRight&&(this.offCanvasRight.style.visibility="visible"))},initEvent:function(){var e=this;e.backdrop&&e.backdrop.addEventListener("tap",function(t){e.close(),t.detail.gesture.preventDefault()}),this.classList.contains("mui-draggable")&&(this.wrapper.addEventListener("touchstart",this),this.wrapper.addEventListener("drag",this),this.wrapper.addEventListener("dragend",this)),this.wrapper.addEventListener("webkitTransitionEnd",this)},openPercentage:function(e){var t=e/100;this.slideIn?(this.offCanvasLeft&&e>=0?(t=0===t?-1:0,this.updateTranslate(this.offCanvasLeftWidth*t),this.offCanvasLeft.classList[0!==e?"add":"remove"](f)):this.offCanvasRight&&0>=e&&(t=0===t?1:0,this.updateTranslate(this.offCanvasRightWidth*t),this.offCanvasRight.classList[0!==e?"add":"remove"](f)),this.classList[0!==e?"add":"remove"](f)):(this.offCanvasLeft&&e>=0?(this.updateTranslate(this.offCanvasLeftWidth*t),this.offCanvasLeft.classList[0!==t?"add":"remove"](f)):this.offCanvasRight&&0>=e&&(this.updateTranslate(this.offCanvasRightWidth*t),this.offCanvasRight.classList[0!==t?"add":"remove"](f)),this.classList[0!==t?"add":"remove"](f))},updateTranslate:function(e){if(e!==this.lastTranslateX){if(this.slideIn){if(this.scroller.classList.contains(s)){if(0>e)return void this.setTranslateX(0);if(e>this.offCanvasRightWidth)return void this.setTranslateX(this.offCanvasRightWidth)}else{if(e>0)return void this.setTranslateX(0);if(e<-this.offCanvasLeftWidth)return void this.setTranslateX(-this.offCanvasLeftWidth)}this.setTranslateX(e)}else{if(!this.offCanvasLeft&&e>0||!this.offCanvasRight&&0>e)return void this.setTranslateX(0);if(this.leftShowing&&e>this.offCanvasLeftWidth)return void this.setTranslateX(this.offCanvasLeftWidth);if(this.rightShowing&&e<-this.offCanvasRightWidth)return void this.setTranslateX(-this.offCanvasRightWidth);this.setTranslateX(e),e>=0?(this.leftShowing=!0,this.rightShowing=!1,e>0&&(this.offCanvasLeft&&(this.offCanvasLeft.style.zIndex=0),this.offCanvasRight&&(this.offCanvasRight.style.zIndex=-1))):(this.rightShowing=!0,this.leftShowing=!1,this.offCanvasRight&&(this.offCanvasRight.style.zIndex=0),this.offCanvasLeft&&(this.offCanvasLeft.style.zIndex=-1))}this.lastTranslateX=e}},setTranslateX:e.animationFrame(function(e){this.scroller&&(this.scroller.style.webkitTransform="translate3d("+e+"px,0,0)")}),getTranslateX:function(){if(this.scroller){var t=e.parseTranslateMatrix(e.getStyles(this.scroller,"webkitTransform"));return t&&t.x||0}return 0},isShown:function(e){var t=!1;if(this.slideIn)t="left"===e?this.offCanvasLeft&&this.offCanvasLeft.classList.contains(f):"right"===e?this.offCanvasRight&&this.offCanvasRight.classList.contains(f):this.offCanvasLeft&&this.offCanvasLeft.classList.contains(f)||this.offCanvasRight&&this.offCanvasRight.classList.contains(f);else{var n=this.getTranslateX();t="right"===e?this.classList.contains(f)&&0>n:"left"===e?this.classList.contains(f)&&n>0:this.classList.contains(f)&&0!==n}return t},close:function(){this._initOffCanvasVisible(),this.slideIn&&(this.scroller=this.offCanvasRight&&this.offCanvasRight.classList.contains(f)?this.offCanvasRight:this.offCanvasLeft),this.scroller&&(this.scroller.classList.add(l),this.openPercentage(0))},show:function(e){this._initOffCanvasVisible(),this.isShown(e)||(e||(e=this.wrapper.querySelector("."+s)?"right":"left"),this.slideIn&&(this.scroller="right"===e?this.offCanvasRight:this.offCanvasLeft),this.scroller&&(this.scroller.classList.add(l),this.openPercentage("left"===e?100:-100)))},toggle:function(e){this.isShown(e)?this.close():this.show(e)}}),p=function(e){if(parentNode=e.parentNode,parentNode){if(parentNode.classList.contains(u))return parentNode;if(parentNode=parentNode.parentNode,parentNode.classList.contains(u))return parentNode}},d=function(t,r){if("A"===r.tagName&&r.hash){var i=n.getElementById(r.hash.replace("#",""));if(i){var s=p(i);if(s)return e.targets._container=s,t.preventDefault(),i}}return!1};e.registerTarget({name:r,index:60,handle:d,target:!1,isReset:!1,isContinue:!0}),t.addEventListener("tap",function(t){if(e.targets.offcanvas)for(var r=t.target;r&&r!==n;r=r.parentNode)if("A"===r.tagName&&r.hash&&r.hash==="#"+e.targets.offcanvas.id){e(e.targets._container).offCanvas("toggle"),e.targets.offcanvas=e.targets._container=null;break}}),e.fn.offCanvas=function(t){var n=[];return this.each(function(){var r=null,i=this;i.classList.contains(u)||(i=p(i));var s=i.getAttribute("data-offCanvas");s?r=e.data[s]:(s=++e.uuid,e.data[s]=r=new h(i,t),i.setAttribute("data-offCanvas",s)),("show"===t||"close"===t||"toggle"===t)&&r.toggle(),n.push(r)}),1===n.length?n[0]:n},e.ready(function(){e(".mui-off-canvas-wrap").offCanvas()})}(mui,window,document,"offcanvas"),function(e,t){var n="mui-action",r=function(e,t){return t.className&&~t.className.indexOf(n)?(e.preventDefault(),t):!1};e.registerTarget({name:t,index:50,handle:r,target:!1,isContinue:!0})}(mui,"action"),function(e,t,n,r){var i="mui-modal",s=function(e,t){if("A"===t.tagName&&t.hash){var r=n.getElementById(t.hash.replace("#",""));if(r&&r.classList.contains(i))return e.preventDefault(),r}return!1};e.registerTarget({name:r,index:50,handle:s,target:!1,isReset:!1,isContinue:!0}),t.addEventListener("tap",function(){e.targets.modal&&e.targets.modal.classList.toggle("mui-active")})}(mui,window,document,"modal"),function(e,t,n,r){var i="mui-popover",s="mui-popover-arrow",o="mui-popover-action",u="mui-backdrop",a="mui-bar-popover",f="mui-bar-backdrop",l="mui-backdrop-action",c="mui-active",h="mui-bottom",p=function(t,r){if("A"===r.tagName&&r.hash){if(e.targets._popover=n.getElementById(r.hash.replace("#","")),e.targets._popover&&e.targets._popover.classList.contains(i))return t.preventDefault(),r;e.targets._popover=null}return!1};e.registerTarget({name:r,index:60,handle:p,target:!1,isReset:!1,isContinue:!0});var d=function(){},v=function(){this.removeEventListener("webkitTransitionEnd",v),this.addEventListener("touchmove",e.preventDefault),e.trigger(this,"shown",this)},m=function(){this.setAttribute("style",""),this.removeEventListener("webkitTransitionEnd",m),this.removeEventListener("touchmove",e.preventDefault),d(!1),e.trigger(this,"hidden",this)},g=function(){var t=n.createElement("div");return t.classList.add(u),t.addEventListener("touchmove",e.preventDefault),t.addEventListener("tap",function(){var t=e.targets._popover;t&&(t.addEventListener("webkitTransitionEnd",m),t.classList.remove(c),y(t),n.body.setAttribute("style",""))}),t}(),y=function(t){g.setAttribute("style","opacity:0"),e.targets.popover=e.targets._popover=null,setTimeout(function(){!t.classList.contains(c)&&g.parentNode&&g.parentNode===n.body&&n.body.removeChild(g)},350)};t.addEventListener("tap",function(t){if(e.targets.popover){for(var r=!1,i=t.target;i&&i!==n;i=i.parentNode)i===e.targets.popover&&(r=!0);r&&b(e.targets._popover,e.targets.popover)}});var b=function(e,t){g.classList.remove(f),g.classList.remove(l);var r=n.querySelector(".mui-popover.mui-active");if(r&&(r.addEventListener("webkitTransitionEnd",m),r.classList.remove(c),e===r))return void y(r);var i=!1;(e.classList.contains(a)||e.classList.contains(o))&&(e.classList.contains(o)?(i=!0,g.classList.add(l)):g.classList.add(f)),e.setAttribute("style","display:block"),e.offsetHeight,e.classList.add(c),g.setAttribute("style",""),n.body.appendChild(g),d(!0),w(e,t,i),g.classList.add(c),e.addEventListener("webkitTransitionEnd",v)},w=function(r,i,u){if(r&&i){var a=t.innerWidth,f=t.innerHeight,l=r.offsetWidth,c=r.offsetHeight;if(u)return void r.setAttribute("style","display:block;top:"+(f-c+t.pageYOffset)+"px;left:"+(a-l)/2+"px;");var p=i.offsetWidth,d=i.offsetHeight,v=e.offset(i),m=r.querySelector("."+s);m||(m=n.createElement("div"),m.className=s,r.appendChild(m));var g=m&&m.offsetWidth/2||0,y=0,b=0,w=0,E=0,S=r.classList.contains(o)?0:5,x="top";c+g<v.top-t.pageYOffset?y=v.top-c-g:c+g<f-(v.top-t.pageYOffset)-d?(x="bottom",y=v.top+d+g):(x="middle",y=Math.max((f-c)/2+t.pageYOffset,0),b=Math.max((a-l)/2+t.pageXOffset,0)),"top"===x||"bottom"===x?(b=p/2+v.left-l/2,w=b,S>b&&(b=S),b+l>a&&(b=a-l-S),m&&("top"===x?m.classList.add(h):m.classList.remove(h),w-=b,E=l/2-g/2+w,E=Math.max(Math.min(E,l-2*g-6),6),m.setAttribute("style","left:"+E+"px"))):"middle"===x&&m.setAttribute("style","display:none"),r.setAttribute("style","display:block;top:"+y+"px;left:"+b+"px;")}};e.createMask=function(t){var r=n.createElement("div");r.classList.add(u),r.addEventListener("touchmove",e.preventDefault),r.addEventListener("tap",function(){t&&t(),i.close()});var i=[r];return i._show=!1,i.show=function(){return this._show=!0,r.setAttribute("style","opacity:1"),n.body.appendChild(r),this},i._remove=function(){return this._show&&(this._show=!1,r.setAttribute("style","opacity:0"),setTimeout(function(){n.body.removeChild(r)},350)),this},i.close=function(){return this._remove()},i},e.fn.popover=function(){var t=arguments;this.each(function(){e.targets._popover=this,("show"===t[0]||"hide"===t[0]||"toggle"===t[0])&&b(this,t[1])})}}(mui,window,document,"popover"),function(e,t,n,r){var i="mui-control-item",s="mui-control-content",o="mui-tab-item",u=function(e,t){return t.classList&&(t.classList.contains(i)||t.classList.contains(o))?t:!1};e.registerTarget({name:r,index:80,handle:u,target:!1}),t.addEventListener("tap",function(t){var i=e.targets.tab;if(i){var o,u,l,h="mui-active",p="."+h;o=i.parentNode.querySelector(p),o&&o.classList.remove(h);var v=i===o;if(i&&i.classList.add(h),i.hash&&(l=n.getElementById(i.hash.replace("#","")))){if(!l.classList.contains(s))return void i.classList[v?"remove":"add"](h);if(!v){var m=l.parentNode;u=m.querySelectorAll("."+s+p);for(var g=0;g<u.length;g++){var y=u[g];y.parentNode===m&&y.classList.remove(h)}l.classList.add(h);var b=l.parentNode.querySelectorAll("."+s);e.trigger(l,e.eventName("shown",r),{tabNumber:Array.prototype.indexOf.call(b,l)}),t.detail.gesture.preventDefault()}}}})}(mui,window,document,"tab"),function(e,t,n){var r="mui-switch",i="mui-switch-handle",s="mui-active",o="mui-dragging",u="."+i,a=function(e,t){return t.classList&&t.classList.contains(r)?t:!1};e.registerTarget({name:n,index:100,handle:a,target:!1});var f=function(e){this.element=e,this.classList=this.element.classList,this.handle=this.element.querySelector(u),this.toggleWidth=this.element.offsetWidth,this.handleWidth=this.handle.offsetWidth,this.handleX=this.toggleWidth-this.handleWidth-3,this.initEvent()};f.prototype.initEvent=function(){this.element.addEventListener("touchstart",this),this.element.addEventListener("drag",this),this.element.addEventListener("swiperight",this),this.element.addEventListener("touchend",this),this.element.addEventListener("touchcancel",this)},f.prototype.handleEvent=function(e){switch(e.type){case"touchstart":this.start(e);break;case"drag":this.drag(e);break;case"swiperight":this.swiperight();break;case"touchend":case"touchcancel":this.end(e)}},f.prototype.start=function(){this.classList.add(o)},f.prototype.drag=function(e){var t=e.detail;this.isDragging||("left"===t.direction||"right"===t.direction)&&(this.isDragging=!0,this.lastChanged=void 0,this.initialState=this.classList.contains(s)),this.isDragging&&(this.setTranslateX(t.deltaX),e.stopPropagation(),t.gesture.preventDefault())},f.prototype.swiperight=function(e){this.isDragging&&e.stopPropagation()},f.prototype.end=function(t){this.classList.remove(o),this.isDragging?(this.isDragging=!1,t.stopPropagation(),e.trigger(this.element,"toggle",{isActive:this.classList.contains(s)})):this.toggle()},f.prototype.toggle=function(){var t=this.classList;t.contains(s)?(t.remove(s),this.handle.style.webkitTransform="translate3d(0,0,0)"):(t.add(s),this.handle.style.webkitTransform="translate3d("+this.handleX+"px,0,0)"),e.trigger(this.element,"toggle",{isActive:this.classList.contains(s)})},f.prototype.setTranslateX=e.animationFrame(function(e){if(this.isDragging){var t=!1;(this.initialState&&-e>this.handleX/2||!this.initialState&&e>this.handleX/2)&&(t=!0),this.lastChanged!==t&&(t?(this.handle.style.webkitTransform="translate3d("+(this.initialState?0:this.handleX)+"px,0,0)",this.classList[this.initialState?"remove":"add"](s)):(this.handle.style.webkitTransform="translate3d("+(this.initialState?this.handleX:0)+"px,0,0)",this.classList[this.initialState?"add":"remove"](s)),this.lastChanged=t)}}),e.fn["switch"]=function(){var t=[];return this.each(function(){var n=null,r=this.getAttribute("data-switch");r?n=e.data[r]:(r=++e.uuid,e.data[r]=new f(this),this.setAttribute("data-switch",r)),t.push(n)}),t.length>1?t:t[0]},e.ready(function(){e("."+r)["switch"]()})}(mui,window,"toggle"),function(e,t,n){function r(e,t){var n=t?"removeEventListener":"addEventListener";e[n]("drag",O),e[n]("dragend",O),e[n]("swiperight",O),e[n]("swipeleft",O),e[n]("flick",O)}var i,s,o="mui-active",u="mui-selected",a="mui-grid-view",f="mui-table-view-cell",l="mui-collapse-content",c="mui-disabled",h="mui-switch",p="mui-btn",d="mui-slider-handle",v="mui-slider-left",m="mui-slider-right",g="mui-transitioning",y="."+d,b="."+v,w="."+m,E="."+u,S="."+p,x=.8,T=isOpened=openedActions=progress=!1,N=sliderActionLeft=sliderActionRight=buttonsLeft=buttonsRight=sliderDirection=sliderRequestAnimationFrame=!1,C=lastTranslateX=sliderActionLeftWidth=sliderActionRightWidth=0,k=function(e){e?s?s.classList.add(o):i&&i.classList.add(o):s?s.classList.remove(o):i&&i.classList.remove(o)},L=function(){if(C!==lastTranslateX){if(buttonsRight&&buttonsRight.length>0){progress=C/sliderActionRightWidth,C<-sliderActionRightWidth&&(C=-sliderActionRightWidth-Math.pow(-C-sliderActionRightWidth,x));for(var e=0,t=buttonsRight.length;t>e;e++){var n=buttonsRight[e];"undefined"==typeof n._buttonOffset&&(n._buttonOffset=n.offsetLeft),buttonOffset=n._buttonOffset,A(n,C-buttonOffset*(1+Math.max(progress,-1)))}}if(buttonsLeft&&buttonsLeft.length>0)for(progress=C/sliderActionLeftWidth,C>sliderActionLeftWidth&&(C=sliderActionLeftWidth+Math.pow(C-sliderActionLeftWidth,x)),e=0,t=buttonsLeft.length;t>e;e++){var r=buttonsLeft[e];"undefined"==typeof r._buttonOffset&&(r._buttonOffset=sliderActionLeftWidth-r.offsetLeft-r.offsetWidth),buttonOffset=r._buttonOffset,buttonsLeft.length>1&&(r.style.zIndex=buttonsLeft.length-e),A(r,C+buttonOffset*(1-Math.min(progress,1)))}A(N,C),lastTranslateX=C}sliderRequestAnimationFrame=requestAnimationFrame(function(){L()})},A=function(e,t){e&&(e.style.webkitTransform="translate3d("+t+"px,0,0)")};t.addEventListener("touchstart",function(t){i&&k(!1),i=s=!1,T=isOpened=openedActions=!1;for(var o=t.target,u=!1;o&&o!==n;o=o.parentNode)if(o.classList){var d=o.classList;if(("INPUT"===o.tagName&&"radio"!==o.type&&"checkbox"!==o.type||"BUTTON"===o.tagName||d.contains(h)||d.contains(p)||d.contains(c))&&(u=!0),d.contains(l))break;if(d.contains(f)){i=o;var v=i.parentNode.querySelector(E);if(v&&v!==i)return e.swipeoutClose(v),void (i=u=!1);if(!i.parentNode.classList.contains(a)){var m=i.querySelector("a");m&&m.parentNode===i&&(s=m)}i.querySelector(y)&&(r(i),t.stopPropagation()),u||i.querySelector("input")||i.querySelector(S)||i.querySelector("."+h)||k(!0);break}}}),t.addEventListener("touchmove",function(){k(!1)});var O={handleEvent:function(e){switch(e.type){case"drag":this.drag(e);break;case"dragend":this.dragend(e);break;case"flick":this.flick(e);break;case"swiperight":this.swiperight(e);break;case"swipeleft":this.swipeleft(e)}},drag:function(e){if(i){T||(N=sliderActionLeft=sliderActionRight=buttonsLeft=buttonsRight=sliderDirection=sliderRequestAnimationFrame=!1,N=i.querySelector(y),N&&(sliderActionLeft=i.querySelector(b),sliderActionRight=i.querySelector(w),sliderActionLeft&&(sliderActionLeftWidth=sliderActionLeft.offsetWidth,buttonsLeft=sliderActionLeft.querySelectorAll(S)),sliderActionRight&&(sliderActionRightWidth=sliderActionRight.offsetWidth,buttonsRight=sliderActionRight.querySelectorAll(S)),i.classList.remove(g),isOpened=i.classList.contains(u),isOpened&&(openedActions=i.querySelector(b+E)?"left":"right")));var t=e.detail,n=t.direction,r=t.angle;if("left"===n&&(r>150||-150>r)?(buttonsRight||buttonsLeft&&isOpened)&&(T=!0):"right"===n&&r>-30&&30>r&&(buttonsLeft||buttonsRight&&isOpened)&&(T=!0),T){e.stopPropagation(),e.detail.gesture.preventDefault();var s=e.detail.deltaX;if(isOpened&&("right"===openedActions?s-=sliderActionRightWidth:s+=sliderActionLeftWidth),s>0&&!buttonsLeft||0>s&&!buttonsRight){if(!isOpened)return;s=0}0>s?sliderDirection="toLeft":s>0?sliderDirection="toRight":sliderDirection||(sliderDirection="toLeft"),sliderRequestAnimationFrame||L(),C=s}}},flick:function(e){T&&e.stopPropagation()},swipeleft:function(e){T&&e.stopPropagation()},swiperight:function(e){T&&e.stopPropagation()},dragend:function(t){if(T){t.stopPropagation(),sliderRequestAnimationFrame&&(cancelAnimationFrame(sliderRequestAnimationFrame),sliderRequestAnimationFrame=null);var n=t.detail;T=!1;var r="close",s="toLeft"===sliderDirection?sliderActionRightWidth:sliderActionLeftWidth,o=n.swipe||Math.abs(C)>s/2;o&&(isOpened?"left"===n.direction&&"right"===openedActions?r="open":"right"===n.direction&&"left"===openedActions&&(r="open"):r="open"),i.classList.add(g);var a;if("open"===r){var f="toLeft"===sliderDirection?-s:s;if(A(N,f),a="toLeft"===sliderDirection?buttonsRight:buttonsLeft,"undefined"!=typeof a){var l=null;for(h=0;h<a.length;h++)l=a[h],A(l,f);l.parentNode.classList.add(u),i.classList.add(u),isOpened||e.trigger(i,"toLeft"===sliderDirection?"slideleft":"slideright")}}else A(N,0),sliderActionLeft&&sliderActionLeft.classList.remove(u),sliderActionRight&&sliderActionRight.classList.remove(u),i.classList.remove(u);var c;if(buttonsLeft&&buttonsLeft.length>0&&buttonsLeft!==a)for(var h=0,p=buttonsLeft.length;p>h;h++){var d=buttonsLeft[h];c=d._buttonOffset,"undefined"==typeof c&&(d._buttonOffset=sliderActionLeftWidth-d.offsetLeft-d.offsetWidth),A(d,c)}if(buttonsRight&&buttonsRight.length>0&&buttonsRight!==a)for(var h=0,p=buttonsRight.length;p>h;h++){var v=buttonsRight[h];c=v._buttonOffset,"undefined"==typeof c&&(v._buttonOffset=v.offsetLeft),A(v,-c)}}}};e.swipeoutOpen=function(t,n){if(t){var r=t.classList;if(!r.contains(u)){n||(n=t.querySelector(w)?"right":"left");var i=t.querySelector(e.classSelector(".slider-"+n));if(i){i.classList.add(u),r.add(u),r.remove(g);for(var s,o=i.querySelectorAll(S),a=i.offsetWidth,f="right"===n?-a:a,l=o.length,c=0;l>c;c++)s=o[c],"right"===n?A(s,-s.offsetLeft):A(s,a-s.offsetWidth-s.offsetLeft);r.add(g);for(var c=0;l>c;c++)A(o[c],f);A(t.querySelector(y),f)}}}},e.swipeoutClose=function(t){if(t){var n=t.classList;if(n.contains(u)){var r=t.querySelector(w+E)?"right":"left",i=t.querySelector(e.classSelector(".slider-"+r));if(i){i.classList.remove(u),n.remove(u),n.add(g);var s,o=i.querySelectorAll(S),a=i.offsetWidth,f=o.length;A(t.querySelector(y),0);for(var l=0;f>l;l++)s=o[l],"right"===r?A(s,-s.offsetLeft):A(s,a-s.offsetWidth-s.offsetLeft)}}}},t.addEventListener("touchend",function(){i&&(k(!1),N&&r(i,!0))}),t.addEventListener("touchcancel",function(){i&&(k(!1),N&&r(i,!0))});var M=function(){var e=i.classList;if(e.contains("mui-radio")){var t=i.querySelector("input[type=radio]");t&&t.click()}else if(e.contains("mui-checkbox")){var t=i.querySelector("input[type=checkbox]");t&&t.click()}};t.addEventListener(e.EVENT_CLICK,function(e){i&&i.classList.contains("mui-collapse")&&e.preventDefault()}),t.addEventListener("doubletap",function(){i&&M()}),t.addEventListener("tap",function(t){if(i){var n=!1,r=i.classList;if(r.contains("mui-collapse")&&!i.parentNode.classList.contains("mui-unfold")){if(t.detail.gesture.preventDefault(),!r.contains(o)){var s=i.parentNode.querySelector(".mui-collapse.mui-active");s&&s.classList.remove(o),n=!0}r.toggle(o),n&&e.trigger(i,"expand")}M()}})}(mui,window,document),function(e,t){e.alert=function(n,r,i,s){if(e.os.plus){if(void 0===typeof n)return;"function"==typeof r?(s=r,r=null,i=""):"function"==typeof i&&(s=i,i=null),plus.nativeUI.alert(n,s,r,i)}else t.alert(n)}}(mui,window),function(e,t){e.confirm=function(n,r,i,s){if(e.os.plus){if(void 0===typeof n)return;"function"==typeof r?(s=r,r=null,i=null):"function"==typeof i&&(s=i,i=null),plus.nativeUI.confirm(n,s,r,i)}else t.confirm(n)}}(mui,window),function(e,t){e.prompt=function(n,r,i,s,o){if(e.os.plus){if(void 0===typeof message)return;"function"==typeof r?(o=r,r=null,i=null,s=null):"function"==typeof i?(o=i,i=null,s=null):"function"==typeof s&&(o=s,s=null),plus.nativeUI.prompt(n,o,i,r,s)}else t.prompt(n)}}(mui,window),function(e){e.toast=function(t){if(e.os.plus&&e.os.android)plus.nativeUI.toast(t,{verticalAlign:"bottom"});else{var n=document.createElement("div");n.classList.add("mui-toast-container"),n.innerHTML='<div class="mui-toast-message">'+t+"</div>",document.body.appendChild(n),setTimeout(function(){document.body.removeChild(n)},2e3)}}}(mui,window),function(e,t,n){var r="mui-icon",i="mui-icon-clear",s="mui-icon-speech",o="mui-icon-search",u="mui-input-row",a="mui-placeholder",f="mui-tooltip",l="mui-hidden",c="mui-focusin",h="."+i,p="."+s,d="."+a,v="."+f,m=function(e){for(;e&&e!==n;e=e.parentNode)if(e.classList&&e.classList.contains(u))return e;return null},g=function(e,t){this.element=e,this.options=t||{actions:"clear"},~this.options.actions.indexOf("slider")?(this.sliderActionClass=f+" "+l,this.sliderActionSelector=v):(~this.options.actions.indexOf("clear")&&(this.clearActionClass=r+" "+i+(e.value?"":" "+l),this.clearActionSelector=h),~this.options.actions.indexOf("speech")&&(this.speechActionClass=r+" "+s,this.speechActionSelector=p),~this.options.actions.indexOf("search")&&(this.searchActionClass=a,this.searchActionSelector=d)),this.init()};g.prototype.init=function(){this.initAction(),this.initElementEvent()},g.prototype.initAction=function(){var t=this,n=t.element.parentNode;n&&(t.sliderActionClass?t.sliderAction=t.createAction(n,t.sliderActionClass,t.sliderActionSelector):(t.searchActionClass&&(t.searchAction=t.createAction(n,t.searchActionClass,t.searchActionSelector),t.searchAction.addEventListener("tap",function(n){e.focus(t.element),n.stopPropagation()})),t.speechActionClass&&(t.speechAction=t.createAction(n,t.speechActionClass,t.speechActionSelector),t.speechAction.addEventListener("click",e.stopPropagation),t.speechAction.addEventListener("tap",function(e){t.speechActionClick(e)})),t.clearActionClass&&(t.clearAction=t.createAction(n,t.clearActionClass,t.clearActionSelector),t.clearAction.addEventListener("tap",function(e){t.clearActionClick(e)}))))},g.prototype.createAction=function(e,t,i){var s=e.querySelector(i);if(!s){var s=n.createElement("span");s.className=t,t===this.searchActionClass&&(s.innerHTML='<span class="'+r+" "+o+'"></span>'+this.element.getAttribute("placeholder"),this.element.setAttribute("placeholder","")),e.insertBefore(s,this.element.nextSibling)}return s},g.prototype.initElementEvent=function(){var t=this.element;if(this.sliderActionClass){var n=this.sliderAction,r=t.offsetLeft,i=t.offsetWidth-28,s=n.offsetWidth,o=Math.abs(t.max-t.min),u=null,a=function(){n.classList.remove(l),s=s||n.offsetWidth;var e=Math.abs(t.value)/o*i;n.style.left=14+r+e-s/2+"px",n.innerText=t.value,u&&clearTimeout(u),u=setTimeout(function(){n.classList.add(l)},1e3)};t.addEventListener("input",a),t.addEventListener("tap",a),t.addEventListener("touchmove",function(e){e.stopPropagation()})}else{if(this.clearActionClass){var f=this.clearAction;if(!f)return;e.each(["keyup","change","input","focus","blur","cut","paste"],function(e,n){!function(e){t.addEventListener(e,function(){f.classList[t.value.trim()?"remove":"add"](l)})}(n)})}this.searchActionClass&&(t.addEventListener("focus",function(){t.parentNode.classList.add("mui-active")}),t.addEventListener("blur",function(){t.value.trim()||t.parentNode.classList.remove("mui-active")}))}},g.prototype.clearActionClick=function(t){var n=this;n.element.value="",e.focus(n.element),n.clearAction.classList.add(l),t.preventDefault()},g.prototype.speechActionClick=function(r){if(t.plus){var i=this;i.element.value="",n.body.classList.add(c),plus.speech.startRecognize({engine:"iFly"},function(t){i.element.value+=t,e.focus(i.element),plus.speech.stopRecognize(),e.trigger(i.element,"recognized",{value:i.element.value})},function(){n.body.classList.remove(c)})}else alert("only for 5+");r.preventDefault()},e.fn.input=function(){this.each(function(){var t=[],n=m(this.parentNode),r=n.querySelector("label");if(r){var i=this;r.addEventListener("tap",function(){"text"===i.type||i.click()})}if("range"===this.type&&n.classList.contains("mui-input-range"))t.push("slider");else{var s=this.classList;s.contains("mui-input-clear")&&t.push("clear"),s.contains("mui-input-speech")&&t.push("speech"),"search"===this.type&&n.classList.contains("mui-search")&&t.push("search")}var o=this.getAttribute("data-input-"+t[0]);if(!o){o=++e.uuid,e.data[o]=new g(this,{actions:t.join(",")});for(var u=0,a=t.length;a>u;u++)this.setAttribute("data-input-"+t[u],o)}})},e.ready(function(){e(".mui-input-row input").input()})}(mui,window,document),define("mui",function(){}),define("ui_extend",["mui"],function(e){return{init:function(){mui.init()}}}),define("appContext",["require","isc_extend"],function(e,t){var n=function(n){var r=n||ryan.syswin.app;return{global:{user:null,bodyPreventDefault:!1,scrolls:{},currentPage:null,create_page:null,keyboardStatus:!1,windowSize:{width:window.innerWidth,height:window.innerHeight,defaultWidth:window.innerWidth,defaultHeight:window.innerHeight},isPageMoving:!1},Rlocalstorage:function(){var e=window.localStorage,t=null,n=!1;if(!e){alert("This browser does NOT support localStorage");return}this.setProperty=function(n,r){var i=JSON.parse(e.getItem(t));i[n]=r,e[t]=JSON.stringify(i)},this.getProperty=function(n){if(!this.has())return;var r=JSON.parse(e.getItem(t));return r.hasOwnProperty(n)?r[n]:null},this.setAllProperty=function(e){for(var t in e){var n=e[t];this.setProperty(t,n)}},this.create=function(r){if(!e[r]){n=!1;var i="[fangtongApp-"+r+"]"+(new Date).valueOf()+Math.round(Math.random()*1e8),s={uuid:i,content:"RYAN",cardid:["666"],longitude:"116",latitude:"39",focus:["12345"],tempData:{}};e[r]=JSON.stringify(s)}else n=!0;t=r},this.has=function(){var n=e.getItem(t),r=JSON.parse(n);return typeof r!="object"||r==null?(console.log(""),!1):!0},this.get=function(){return JSON.parse(e.getItem(t))},this.remove=function(){e.removeItem(t)},this.clear=function(){e.clear()},this.isOnce=function(){return n},this.setTempData=function(e,t,n){var r=this.getProperty("tempData"),i=ryan.syswin.app.getParam().split("/")[0];r[i+"/"+e+".html/"+t]=n,this.setProperty("tempData",r)},this.getTempData=function(e,t){var n=this.getProperty("tempData"),r=ryan.syswin.app.getParam().split("/")[0],i=n[r+"/"+e+".html/"+t];return i}},getParam:function(){var e=location.hash||location.search,t={};if(e.indexOf("#")!=-1||e.indexOf("?")!=-1)e=e.substr(1);var n=e.split("#");return n[0].substring(1,n[0].length)},picView:function(){var e='<div class="view-pic"><div class="pic-container"></div></div>';$("body").append(e),$(".view-pic").bind("click",function(){$(".view-pic").css("display","none")})},message:function(){var e=confirm("TOON");e==1&&console.log("TOON")},readFile:function(e,t){var n=e[0],r;!t||t.tagName!="IMG"?r=document.createElement("img"):r=t,r.style.width="88px",r.style.height="88px";var i=new FileReader;return i.onload=function(e){r.src=this.result},i.onprogress=function(e){var t=e.total,n=e.loaded,r=document.getElementById("progress")},i.onloadend=function(e){if(e.total!=0)var t=document.getElementById("progress")},i.readAsDataURL(n),r},loadPage:function(e,t,n){var r=e,i=ryan.syswin.config.pageList,s=ryan.syswin.config.subpageList,o=-1,u={};t&&(u=t);var a="";(o=i.indexOf(r))!=-1?a=i[o]:(o=s.indexOf(r))!=-1&&(a=s[o]);if(o==-1)throw new Error(""+e+"config");Mobilebone.ajax({url:"publish_sell/"+a+".html",success:function(e){console.log(":",a,o,u);if(u){var t=$(e).attr("id"),r=typeof u=="object"?JSON.stringify(u):u;r=="{}"||r==""?$("#"+t).data("inpage-params",""):$("#"+t).data("inpage-params",String(r))}n&&n(e)}})},refreshPage:function(){r.global.currentPage.id=="thread"&&$("img").each(function(e,t){var n=$(t);n[0].onerror=function(e){$(e.target).addClass("imgError")}})},dialog:function(e){},page:{init:function(e,t,n){ryan.syswin.app.scroll.putDownScroll($("#"+e)),ryan.syswin.app.global.keyboardStatus=!1,t&&t()},update:function(t,n,i){var s=new(e("project/src/extends/collection")),o=new(e("publish_sell/modules/"+t+"/view"))({collection:s});if(!o)throw"!";o.id=(new Date).getTime(),o.bind(t+":render",function(e){setTimeout(function(){r.scroll.updateScroll($("#"+t)[0])},1e3),n&&n(o.el,e),r.refreshPage()},this),s.fetch(ryan.syswin.config.serveBaseUrl+ryan.syswin.config.serveURLS[t]+"?"+i)},leave:function(e,t,n){console.log("####=====>",$("#"+e)[0]),ryan.syswin.app.scroll.putDownScroll($("#"+e)),ryan.syswin.app.global.keyboardStatus=!1,t&&t()}},search:function(t,n){var i=this,s=function(t,i){var s=new(e("project/src/extends/collection")),o=new(e("publish_sell/modules/search/view"))({collection:s});if(!o)throw"!";o.id=(new Date).getTime(),o.bind("search:render",function(e){t&&t(o,e),r.refreshPage()},this),s.fetch(ryan.syswin.config.baseUrl+"?"+n+"&cname="+i)};return{prevkey:null,sending:!1,$input:null,init:function(e){function r(i,s){t.sending=!1;var o=t.$input.val().replace(/ /g,"");if(o!=n){n=o,t.update(r);return}e(i,s),setTimeout(function(){t.sending||$(t.$input[0].parentNode).removeClass("icon-juhua")},1e3)}var t=this,n=this.prevkey;this.$input.bind("input",function(e){var i=$(e.target).val().replace(/ /g,"");i!=""&&i?t.sending||(t.sending=!0,n=i,console.log("str1::",i),t.update(r,i),$(e.target.parentNode).addClass("icon-juhua")):console.log("")})},update:function(e,t){s(e,t)},remove:function(){}}},scroll:{addScroll:function(e){var n=$(e).attr("id"),i={type:ryan.syswin.config.scrollTypes[n]};i.type||(i.type=1);var s=$(e).find(".Rwrapper"),o=r.global.windowSize.defaultHeight-s.offset().top;s&&s.css({height:o+"px"}),$("#test").text($("#test").text()+"\n"+o+":"+s.offset().top);var u=t.init(e,i);r.global.scrolls[n]&&(r.global.scrolls[n].destroy(),r.global.scrolls[n]=null),u.name=n,r.global.scrolls[n]=u},updateScroll:function(e){var t=$(e).attr("id");r.global.scrolls[t]&&r.global.scrolls[$(e).attr("id")].refresh()},gotoScroll:function(e,t){var n=$(e).attr("id");if(r.global.scrolls[n])if(!isNaN(t)){var i=$(e).find(".Rthelist"),s=i.find("li")[t];s&&r.global.scrolls[$(e).attr("id")].scrollToElement(s)}else r.global.scrolls[$(e).attr("id")].scrollToElement(t)},putUpScroll:function(e,t){var n=e.find(".Rwrapper"),r=t.offset().height*5;if(n.offset().height<=r)return;n.css({height:r+"px"}),ryan.syswin.app.scroll.updateScroll(e),ryan.syswin.app.scroll.gotoScroll(e,t[0])},putDownScroll:function(e,t){var n=e.find(".Rwrapper"),i=r.global.windowSize.defaultHeight-n.offset().top;if(n.offset().height>=i)return;n.css({height:i+"px"}),ryan.syswin.app.scroll.updateScroll(e),ryan.syswin.app.scroll.gotoScroll(e,0),$("#test").focus()}},getPercent:{fbcgPercent:function(){var e=$("#fabuchushou_bt").find(".field").children("li"),t=$("#fabuchushou_xt").find(".field").children("li"),n=[],r=[];t.each(function(e,t){var i=$(t).find(".right").find("input").val();i!=undefined&&i!=""&&i!=""&&i!=""&&n.push(i.replace(/\s/gi,""));var s=$(t).find("a").text();s!=null&&s!=""&&s!=""&&i!=""&&s!=""&&s==""&&r.push(s.replace(/\s/gi,""))});var i=n.length+r.length+e.length,s=t.length+e.length,o=i/s*100;return i==0&&s==0?o="0":o=Math.round(o),o}},inputIsNull:function(e,t){return e==undefined||e.length<=0?!1:$(t)[0]&&$(t).attr("tag")==e?!1:!0}}};return n}),define("project/src/publish_sell/app/appPages",["require","appConfig","backbone","backbone_stickit","mobilebone","zepto_ext","isc_extend","mb_extend","ui_extend","../project/src/core/appContext"],function(e,t,n,r,i,s,o,u,a,f){return function(e){function r(e,t){for(var n in e)t[n]=e[n];return t}var t=function(){var e=this,t=function(){a.init(),window.addEventListener("resize",function(){if(s.global.windowSize.height<s.global.windowSize.defaultHeight){var e=s.global.currentPage;s.global.isPageMoving||setTimeout(function(){var e=s.global.currentPage;ryan.syswin.app.scroll.putDownScroll($(e)),ryan.syswin.app.global.keyboardStatus=!1},100)}else ryan.syswin.app.global.keyboardStatus=!0;s.global.windowSize.width=window.innerWidth,s.global.windowSize.height=window.innerHeight}),setTimeout(function(){s.global.user=new s.Rlocalstorage,s.global.user.clear(),s.global.user.create("Ryan");var e=n.Model.extend({});s.global.stickitMode=new e,i.init();var t=s.getParam();(t==""||!t)&&i.ajax({url:"publish_sell/"+ryan.syswin.config.pageList[0]+".html",success:function(){}})},100)};return t(),{footer:{setVisilbe:function(e){var t=$(e).attr("id"),n=ryan.syswin.config.subpageList;n.indexOf(t)!=-1?$("#pageFooter").hide():$("#pageFooter").show()},highLight:function(e){var t=$(e).attr("id"),n=t,r=ryan.syswin.config.pageList.indexOf(t);typeof t=="string"&&r!=-1&&(n=ryan.syswin.config.footerMenuList[r]);var i=$("#pageFooter").find("li");$("#pageFooter").find("li").forEach(function(e,t,n){var r=e.className;if(r.indexOf("Active")!=-1){var i=e.className.split(" ");$(e).removeClass(i[i.length-1])}}),$("#pageFooter").find("li").forEach(function(e,t,r){if(e.className.indexOf(n)!=-1){var i=e.className.split(" ");$(e).addClass(ryan.syswin.config.footerMenuList_Activs[t])}})}},fabuchushou_bt:function(){return{init:function(e){},update:function(e){s.page.update("fabuchushou_bt",e)},leave:function(e){s.page.leave("fabuchushou_bt",e)}}},fabuchushou_xt:function(){return{init:function(e){},update:function(e){s.page.update("fabuchushou_xt",e)},leave:function(e){s.page.leave("fabuchushou_xt",e)}}},fabuchenggong:function(){return{init:function(){},update:function(e){s.page.update("fabuchenggong",e)},leave:function(e){}}},tijiaochenggong:function(){return{init:function(){},update:function(e){s.page.update("tijiaochenggong",e)},leave:function(e){}}},xingzhengqu:function(){return{init:function(){},update:function(e){s.page.update("xingzhengqu",e,"r=Sale/Area&area_id=110000")},leave:function(e){}}},chaoxiang:function(){return{init:function(){},update:function(e){s.page.update("chaoxiang",e)},leave:function(e){}}},pianqu:function(){return{init:function(){},update:function(e){var t=s.global.user.getTempData("fabuchushou_bt","xingzhengqu"),n="";t==undefined?s.loadPage("fabuchushou_bt"):n=t.split("&")[1],s.page.update("pianqu",e,"r=Sale/Zone&area_id="+n)},leave:function(e){}}},xiaoqumingcheng:function(){return{init:function(){},update:function(e){s.page.update("xiaoqumingcheng",e)},leave:function(e){}}},zengsongsheshi:function(){return{init:function(){},update:function(e){s.page.update("zengsongsheshi",e,"r=Sale/PresentFacilities")},leave:function(e){}}},fangyuanbiaoqian:function(){return{init:function(){},update:function(e){s.page.update("fangyuanbiaoqian",e,"r=Sale/Tags")},leave:function(e){}}},zhuangxiuchengdu:function(){return{init:function(){},update:function(e){s.page.update("zhuangxiuchengdu",e,"r=Sale/DecorateDegree")},leave:function(e){}}},taofanghao:function(){return{init:function(){},update:function(e){s.page.update("taofanghao",e)},leave:function(e){}}},fangyuanmiaoshu:function(){return{init:function(){},update:function(e){s.page.update("fangyuanmiaoshu",e)},leave:function(e){}}},shi:function(){return{init:function(){},update:function(e){s.page.update("shi",e)},leave:function(e){}}},ting:function(){return{init:function(){},update:function(e){s.page.update("ting",e)},leave:function(e){}}},wei:function(){return{init:function(){},update:function(e){s.page.update("wei",e)},leave:function(e){}}},fangyuantupian:function(){return{init:function(){},update:function(e){s.page.update("fangyuantupian",e)},leave:function(e){}}},fangwuweizhi:function(){return{init:function(){},update:function(e){s.page.update("fangwuweizhi",e)},leave:function(e){}}}}};e.app=new t,r(new f(e.app),e.app);var s=e.app,o=e.config}(ryan.syswin||{}),ryan.syswin.app}),require.config({baseUrl:"",paths:{zepto:"project/src/script/zepto.min",zepto_ext:"project/src/script/zepto.ext",underscore:"project/src/script/underscore-min",backbone:"project/src/script/backbone",backbone_stickit:"project/src/script/backbone.stickit",iscroll:"project/src/script/iscroll",mobilebone:"project/src/script/mobilebone",text:"project/src/script/text",require:"project/src/script/require",mui:"project/src/script/mui.min",appConfig:"project/src/publish_sell/app/appConfig2",appContext:"project/src/publish_sell/app/appContext",mb_extend:"project/src/extends/mobilebone_extend",isc_extend:"project/src/extends/iscroll_extend",ui_extend:"project/src/extends/ui_extend"},shim:{zepto:{exports:"$"},zepto_ext:{deps:["zepto"],exports:"$"},underscore:{exports:"_"},backbone:{deps:["underscore","zepto"],exports:"Backbone"},backbone_stickit:{deps:["backbone"],exports:"Backbone_stickit"}}}),require(["project/src/publish_sell/app/appPages"],function(e){}),define("main",function(){});